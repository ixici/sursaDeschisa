(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{154:function(e,t,n){e.exports=n.p+"data/static/media/GoogleRoboto_300_all_v20_KFOlCnqEu92Fr1MmSU5vAA.c46434d4.woff"},155:function(e,t,n){e.exports=n.p+"data/static/media/GoogleRoboto_400_all_v20_KFOmCnqEu92Fr1Me5g.a91ad097.woff"},156:function(e,t,n){e.exports=n.p+"data/static/media/GoogleRoboto_500_all_v20_KFOlCnqEu92Fr1MmEU9vAA.851a2b5a.woff"},157:function(e,t,n){e.exports=n.p+"data/static/media/GoogleRoboto_700_all_v20_KFOlCnqEu92Fr1MmWUlvAA.cf654de4.woff"},158:function(e,t,n){e.exports=n.p+"data/static/media/MaterialIcons-IuiaDsNa.0b77ec49.woff"},159:function(e,t,n){e.exports=n.p+"data/static/media/StarImage.e088d448.svg"},181:function(e,t,n){e.exports=n.p+"data/static/media/BrokenImage.6683600c.svg"},206:function(e,t,n){e.exports=n(415)},207:function(e,t){!function(){var e=window.Element.prototype;e.matches||(e.matches=e.msMatchesSelector)}()},208:function(e,t){Element.prototype.closest||(Element.prototype.closest=function(e){for(var t=this;t;){if(t.matches(e))return t;t=t instanceof SVGElement?t.parentNode:t.parentElement}return null})},209:function(e,t){!function(){if(!document.documentElement.dataset&&(!Object.getOwnPropertyDescriptor(HTMLElement.prototype,"dataset")||!Object.getOwnPropertyDescriptor(HTMLElement.prototype,"dataset").get)){var e={enumerable:!0,get:function(){var t={},n=this.attributes;function a(e){return e.charAt(1).toUpperCase()}function r(){return this.value}function i(e,t){"undefined"!==typeof t?this.setAttribute(e,t):this.removeAttribute(e)}for(var o=0;o<n.length;o+=1){var s=n[o];if(s&&s.name&&/^data-\w[\w-]*$/.test(s.name)){var c=s.name,l=s.value,u=c.substr(5).replace(/-./g,a);Object.defineProperty(t,u,{enumerable:e.enumerable,get:r.bind({value:l||""}),set:i.bind(this,c)})}}return t}};Object.defineProperty(HTMLElement.prototype,"dataset",e)}}()},210:function(e,t){"function"!==typeof document.elementsFromPoint&&"function"===typeof document.msElementsFromPoint&&(document.elementsFromPoint=function(e,t){return Array.from(document.msElementsFromPoint(e,t))})},212:function(e,t,n){!function(){try{for(var e=["memory"],t=["assert","clear","count","debug","dir","dirxml","error","exception","group","groupCollapsed","groupEnd","info","log","markTimeline","profile","profileEnd","profiles","show","table","time","timeEnd","timeline","timelineEnd","timeLog","timeStamp","trace","warn"],n={},a={},r=function(){},i=0;i<e.length;i++){n[e[i]]=a}for(var o=0;o<t.length;o++){n[t[o]]=r}window.console=n}catch(s){}}()},324:function(e,t){},415:function(e,t,n){"use strict";n.r(t);n(207),n(208),n(209),n(210),n(211),n(212);var a=n(86),r=n.n(a);!function(){var e,t,n,a,i,o,s,c,l,u,d,m,f,p="API_1484_11",h="Initialize",v="Terminate",b="GetValue",g="SetValue",E="Commit",y="GetLastError",O="GetErrorString",S="GetDiagnostic",w="API",I="LMSInitialize",T="LMSFinish",j="LMSGetValue",N="LMSSetValue",k="LMSCommit",C="LMSGetLastError",_="LMSGetErrorString",L="LMSGetDiagnostic",R={"cmi.learner_name":"cmi.core.student_name","cmi.score.raw":"cmi.core.score.raw","cmi.score.max":"cmi.core.score.max","cmi.score.min":"cmi.core.score.min","cmi.score.scaled":null,"cmi.completion_status":"cmi.core.lesson_status","cmi.success_status":"cmi.core.lesson_status","cmi.exit":"cmi.core.exit","cmi.session_time":"cmi.core.session_time"},x="Invalid cmi element!",D="Session expired!",P="Can only downgrade simple timestamps!",A=[0,"No error","No error occurred, the previous API call was successful."],M=[103,"Already Initialized","Call to Initialize failed because Initialize was already called."],B=[104,"Content Instance Terminated","Call to Initialize failed because Terminate was already called."],U=[112,"Termination Before Initialization","Call to Terminate failed because it was made before the call to Initialize."],z=[113,"Termination After Termination","Call to Terminate failed because Terminate was already called."],H=[122,"Retrieve Data Before Initialization","Call to GetValue failed because it was made before the call to Initialize."],W=[123,"Retrieve Data After Termination","Call to GetValue failed because it was made after the call to Terminate."],F=[132,"Store Data Before Initialization","Call to SetValue failed because it was made before the call to Initialize."],G=[133,"Store Data After Termination","Call to SetValue failed because it was made after the call to Terminate."],V=[142,"Commit Before Initialization","Call to Commit failed because it was made before the call to Initialize."],Z=[132,"Commit After Termination","Call to Commit failed because it was made after the call to Terminate."],Q=[201,"General Argument Error","An invalid argument was passed to an API method (usually indicates that Initialize, Commit or Terminate did not receive the expected empty string argument."],q="EmulatedLMS",Y="EmulatedLMSTimestamp",$=A,X=!1;function K(t){try{for(var n=0;t;){if((e=t[p])&&e[h]&&e[v])return;if((e=t[w])&&e[I]&&e[T])return void(X=!0);if(e=null,++n>100)return;if(t.parent===t)return;t=t.parent}}catch(a){}}function J(){try{var e=r.a.get(window.location.pathname);try{var n=JSON.parse(e)||{}}catch(a){n={}}if(i&&n[Y]!==i)return console.log(D),void te();n[q]=t,i=(new Date).getTime(),n[Y]=i,r.a.set(window.location.pathname,JSON.stringify(n))}catch(a){console.log('Caught! "saveEmulation()" failed')}}function ee(){if(!re.onError)return!1;var t=!1;if(e){try{var n=e[d]();if(n&&"0"!==n){t=!0;var a=e[m](n),r=e[f](n)}}catch(i){console.log('Caught! "verifyError()" failed'),t=!0}t&&console.log("LMS: Error "+n+" = "+a+" ("+r+")")}else $!==A&&(t=!0,console.log("LMS: Error "+$[0]+" = "+$[1]+" ("+$[2]+")"));return t}function te(){"function"===typeof re.onError&&re.onError()}function ne(){var e=window.Logger;if(e){var t=[].slice.call(arguments);e.log.apply(null,t)}}function ae(e){return e in R?R[e]:e}var re=window.LMS={Initialize:function(t){ne("Initialize");var r=!0;if(e){try{r=e[o](t),r=Boolean("true"===r||!0===r)}catch(i){console.log('Caught! api.LMSInitialize("'+t+'")'),r=!1}return ee(),r}return $=A,""!==t&&($=Q),n&&($=M),a&&($=B),$===A?n=r=!0:r=!1,ee(),r},Terminate:function(t){ne("Terminate");var r=!0;if(e){try{r=e[s](t),r=Boolean("true"===r||!0===r)}catch(i){console.log('Caught! api.LMSFinish("'+t+'")'),r=!1}return ee(),r}return $=A,""!==t&&($=Q),n||($=U),a&&($=z),$===A?(r=!0,a=!0,J()):r=!1,ee(),r},Commit:function(t){ne("Commit");var r=!0;if(e){try{r=e[u](t),r=Boolean("true"===r||!0===r)}catch(i){console.log('Caught! api.LMSCommit("'+t+'")'),r=!1}return ee()&&te(),r}return $=A,""!==t&&($=Q),n||($=V),a&&($=Z),$===A?(r=!0,J()):r=!1,ee()&&te(),r},GetValue:function(r){var i;if(X&&(r=ae(r)),e){try{i=e[c](r)}catch(o){console.log('Caught! api.LMSGetValue("'+r+'")'),i=null}return ee(),i}return $=A,r||($=x),n||($=H),a&&($=W),i=$===A?t[r]:null,ee(),i},SetValue:function(r,i){if(ne("SetValue",r,i),X&&("cmi.session_time"===r&&(i=function(e){var t=e.match(/^PT(\d+)S$/);if(!t)return console.log(P),e;var n=Number(t[1]),a=n%60,r=(n-=a)%3600;n-=r;var i,o,s=(a=Math.round(100*a)/100).toString(),c=s,l="";return-1!==s.indexOf(".")&&(c=s.substring(0,s.indexOf(".")),l=s.substring(s.indexOf(".")+1,s.length)),c.length<2&&(c="0"+c),s=c,l.length&&(s=s+"."+l),i=n%3600!==0?"0":String(n/3600),o=r%60!==0?"0":String(r/60),i.length<2&&(i="0"+i),o.length<2&&(o="0"+o),i+":"+o+":"+s}(i)),null===(r=ae(r))))return!1;var o;if(e){try{o=e[l](r,i),o=Boolean("true"===o||!0===o)}catch(s){console.log('Caught! api.LMSSetValue("'+r+'","'+i+'")'),o=!1}return ee(),o}return $=A,r||($=x),n||($=F),a&&($=G),$===A?(o=!0,t[r]=i):o=!1,ee(),o},toString:function(){return e?"[Native LMS]":JSON.stringify(t,null,4)},onError:null};K(window),e||window.opener===window.self||K(window.opener),e?X?(o=I,s=T,c=j,l=N,u=k,d=C,m=_,f=L):(o=h,s=v,c=b,l=g,u=E,d=y,m=O,f=S):function(){try{var e=r.a.get(window.location.pathname);try{var n=JSON.parse(e)||{}}catch(a){n={}}t=n[q]||{},J()}catch(a){console.log('Caught! "emulate()" failed')}}()}();var i,o,s,c=n(0),l=n.n(c),u=n(34),d=n.n(u),m=n(205),f=n.n(m),p=n(47),h=n(149),v=n.n(h),b=n(71),g=n(4),E=n(5),y=n(6),O=n(7),S=n(8),w=n(1),I=n(11),T=n(17),j=n(2),N=n.n(j),k=n(154),C=n.n(k),_=n(155),L=n.n(_),R=n(156),x=n.n(R),D=n(157),P=n.n(D),A=n(158),M=n.n(A),B=n(38),U=n(35),z=n(48),H=n.n(z),W=n(10),F=(n(19),n(28)),G="DEVICE_DESKTOP",V="DEVICE_PHONE",Z=(i={},Object(w.a)(i,V,{minWidth:0,maxWidth:767,previewWidth:"320px",className:"phone"}),Object(w.a)(i,"DEVICE_TABLET",{minWidth:768,maxWidth:1024,previewWidth:"768px",className:"tablet"}),Object(w.a)(i,G,{minWidth:1025,maxWidth:Number.MAX_SAFE_INTEGER,previewWidth:"100%",className:"desktop"}),i),Q=function(e){for(var t in Z){var n=Z[t];if(e>=n.minWidth&&e<=n.maxWidth)return t}},q=".".concat(Z[V].className," &"),Y=(".".concat(Z.DEVICE_TABLET.className," &"),Z),$=n(82),X=n.n($),K=function(e,t,n){return Object(p.createMuiTheme)(Object(F.merge)({typography:{fontFamily:"GoogleRoboto, sans-serif",useNextVariants:!0,fontSize:19,body2:{color:"#000"},button:{textTransform:"none"}},palette:{backdropColor:"#ffffff",backdropOpacity:.8,primary:{main:e,light:t},text:{primary:e}},spacing:{unit:8},props:{MuiModal:{manager:new X.a({handleContainerOverflow:!1})}},overrides:{MuiAppBar:{colorDefault:{color:"white",boxShadow:"none",backgroundColor:e}},MuiCheckbox:{root:{marginLeft:4,padding:8,marginRight:0}},MuiRadio:{root:{paddingRight:4}},MuiList:{padding:{paddingTop:0,paddingBottom:0}},MuiTooltip:{popper:{pointerEvents:"none",tooltip:9999999}}}},n))},J=K("#ff6200","#ffad42",{name:se,typography:{fontSize:16},palette:{primary:{contrastText:"#fff"}},overrides:{Barrier:{root:{padding:10}},BookSecondaryBar:{root:{backgroundColor:"#fff"}},Cell:{root:{padding:5,minHeight:40}},MuiAppBar:{colorDefault:{color:"#000",backgroundColor:"#fff"}},Row:{root:{paddingTop:30,paddingRight:5,paddingBottom:30,paddingLeft:5}}}}),ee=K("#9c27b0","#ee98fb",{name:"Amethyst"}),te=K("#4b830d","#aee571",{name:"Emerald"}),ne=K("#f44336","#ffcccb",{name:"Ruby"}),ae=K("#0177c1","#81d6ff",{name:"Sapphire"}),re=K("#bb4d00","#ffad42",{name:"Topaz"}),ie="default",oe="inherit",se="Aero",ce=(o={},Object(w.a)(o,se,J),Object(w.a)(o,"Amethyst",ee),Object(w.a)(o,"Emerald",te),Object(w.a)(o,"Ruby",ne),Object(w.a)(o,"Sapphire",ae),Object(w.a)(o,"Topaz",re),o);!function(){if(!s){var e=window.console||{log:function(){}},t=[],n=[],a=!1,r=function e(){for(var n=0;n<t.length;n++){var r=t[n];r.currentTime+=1/60;var s=r.currentTime/r.duration,c=(d=s,Math.sin(d*(Math.PI/2)));if(s<1){var l=r.initX+(r.finalX-r.initX)*c,u=r.initY+(r.finalY-r.initY)*c;i(r.target,l,u)}else o(n),n--}var d;t.length?requestAnimationFrame(e):a=!1},i=function(e,t,n){e===window?window.scrollTo(t,n):(e.scrollLeft=t,e.scrollTop=n)},o=function(e){var a=t[e];i(a.target,a.finalX,a.finalY),t.splice(e,1),n.splice(e,1),"function"===typeof a.closure&&a.closure()},c=function(e,t){if(e instanceof HTMLElement&&t instanceof HTMLElement){for(var n=t,a=0,r=0;n&&(a+=n.offsetLeft,r+=n.offsetTop,n.offsetParent!==e);)n=n.offsetParent;return{left:a,top:r}}},l=function(e){return!isNaN(parseFloat(e))&&isFinite(e)},u=function(i,o,s,c,u){if(window,i===window||i instanceof HTMLElement){if(d(i),i===window)var m=window.pageXOffset,f=window.pageYOffset,p=document.documentElement.scrollWidth-document.documentElement.clientWidth,h=document.documentElement.scrollHeight-document.documentElement.clientHeight;else m=i.scrollLeft,f=i.scrollTop,p=i.scrollWidth-i.offsetWidth+20,h=i.scrollHeight-i.offsetHeight+20;"string"===typeof o&&(o=m+Number(o)),"string"===typeof s&&(s=f+Number(s)),l(o)||(o=m),l(s)||(s=f),o=Math.max(0,o),s=Math.max(0,s),o=Math.min(p,o),s=Math.min(h,s);var v=Math.abs(m-o),b=Math.abs(f-s);if(!l(u)||u<1e-4||u>1){var g=Math.max(v,b);u=g?Math.log(g)/10:0,u=Math.max(1e-4,Math.min(u,1))}return n.push(i),t.push({target:i,initX:m,initY:f,finalX:o,finalY:s,currentTime:0,duration:u,closure:c}),a||(a=!0,requestAnimationFrame(r)),{x:o,y:s}}e.log("Invalid target!",i)},d=function(e){var a=n.indexOf(e);a>=0&&(t.splice(a,1),n.splice(a,1))};(s={}).to=u,s.toElement=function(t,n,a,r){if(t===window||t instanceof HTMLElement){if(n instanceof HTMLElement){var i=t===window?document.documentElement:t,o=c(i,n),s=t===window?t.innerWidth:t.offsetWidth,l=t===window?t.innerHeight:t.offsetHeight,d=Math.round((s-n.offsetWidth)/2),m=Math.round((l-n.offsetHeight)/2),f=t===window?window.pageXOffset:t.scrollLeft,p=t===window?window.pageYOffset:t.scrollTop,h=o.left-f-d,v=o.top-p-m;return u(t,String(h),String(v),a,r)}e.log("Invalid element!",n)}else e.log("Invalid target!",t)},s.toElementY=function(t,n,a,r){if(t===window||t instanceof HTMLElement){if(n instanceof HTMLElement){var i=t===window?document.documentElement:t,o=c(i,n),s=t===window?t.innerHeight:t.offsetHeight,l=Math.round((s-n.offsetHeight)/2),d=t===window?window.pageYOffset:t.scrollTop,m=o.top-d-l;return u(t,0,String(m),a,r)}e.log("Invalid element!",n)}else e.log("Invalid target!",t)},s.toSelectorY=function(e,t,n){var a="string"===typeof t?e.querySelectorAll(t):t;if(a.length){var r,i=e.getBoundingClientRect(),o=i.top,s=i.bottom,c=Number.MAX_SAFE_INTEGER,l=Number.MIN_SAFE_INTEGER,d=!0,m=!1,f=void 0;try{for(var p,h=a[Symbol.iterator]();!(d=(p=h.next()).done);d=!0){var v=p.value.getBoundingClientRect();c=Math.min(v.top,c),l=Math.max(v.bottom,l)}}catch(b){m=!0,f=b}finally{try{d||null==h.return||h.return()}finally{if(m)throw f}}if(c<o)r=c-o;else{if(l<=s)return;r=l-c>s-o?c-o:l-s}return u(e,0,String(r),n)}},s.pageLeft=function(t,n,a){if(t===window||t instanceof HTMLElement){var r=t===window?t.innerWidth:t.offsetWidth;return u(t,"-"+(r-37),null,n,a)}e.log("Invalid target!",t)},s.pageRight=function(t,n,a){if(t===window||t instanceof HTMLElement){var r=t===window?t.innerWidth:t.offsetWidth;return u(t,"+"+(r-37),null,n,a)}e.log("Invalid target!",t)},s.pageUp=function(t,n,a){if(t===window||t instanceof HTMLElement){var r=t===window?t.innerHeight:t.offsetHeight;return u(t,null,"-"+(r-37),n,a)}e.log("Invalid target!",t)},s.pageDown=function(t,n,a){if(t===window||t instanceof HTMLElement){var r=t===window?t.innerHeight:t.offsetHeight;return u(t,null,"+"+(r-37),n,a)}e.log("Invalid target!",t)},s.cancel=d}}();var le,ue,de,me=s,fe="PUPPET",pe="launch",he="followBookmark",ve="e",be="bb",ge="quiz",Ee="section",ye="project",Oe="barrier",Se="accordion",we="tabs",Ie="help",Te="None",je=Te,Ne=(le={},Object(w.a)(le,Te,!0),Object(w.a)(le,"Fade",!0),Object(w.a)(le,"Fall",!0),Object(w.a)(le,"Fall3D",!0),Object(w.a)(le,"Flip",!0),Object(w.a)(le,"MoveEast",!0),Object(w.a)(le,"MoveSouth",!0),Object(w.a)(le,"MoveWest",!0),Object(w.a)(le,"MoveNorth",!0),Object(w.a)(le,"Scale",!0),le),ke="single_choice",Ce="multiple_choices",_e="dnd",Le="dropdown",Re="order",xe=n(39),De=n(44),Pe=n.n(De),Ae=n(172),Me=n.n(Ae),Be=n(171),Ue=n.n(Be),ze=n(159),He=n.n(ze),We=n(9),Fe=n.n(We),Ge=n(169),Ve=n.n(Ge),Ze=n(163),Qe=n.n(Ze),qe=n(168),Ye=n.n(qe),$e=n(167),Xe=n.n($e),Ke=n(165),Je=n.n(Ke),et=n(164),tt=n.n(et),nt=n(55),at=n.n(nt),rt=n(170),it=n.n(rt),ot=n(166),st=n.n(ot),ct=n(15),lt=n.n(ct),ut=lt()(l.a.createElement("path",{d:"M21 21v-18c0-1.1-.9-2-2-2h-14c-1.1 0-2 .9-2 2v18c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2zm-16 0v-18h14v18h-14zm0-15v2h14v-2m-14 5v2h14v-2m-14 5v2h14v-2"})),dt=lt()(l.a.createElement("path",{d:"M21 3h-18c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h18c1.1 0 2-.9 2-2v-14c0-1.1-.9-2-2-2zm0 16h-18v-14h18v14zm-18-11v2h18v-2m-13-3h-2v3h2m5-3h-2v3h2m5-3h-2v3h2"})),mt=n(162),ft=n.n(mt),pt=n(161),ht=n.n(pt),vt=n(160),bt=n.n(vt),gt=[{selector:".cell > .row",sides:["top","bottom"]},{selector:".cell > .spacer",sides:["top","bottom"]},{selector:".cell",sides:["innerTop","innerBottom"]},{selector:".block:not(.cell):not(.row):not(.spacer):not(.barrier)",sides:["top","bottom"]}],Et=(ue={},Object(w.a)(ue,"text",{type:"text",className:"text",drops:gt,icon:bt.a}),Object(w.a)(ue,"row",{type:"row",className:"row",drops:[].concat(gt,[{selector:".row,.spacer,.barrier",sides:["top","bottom"]},{selector:".arena",sides:["innerTop","innerBottom"]}])}),Object(w.a)(ue,"cell",{type:"cell",className:"cell",drops:[{selector:".cell",sides:["left","right"]},{selector:".row",sides:["innerLeft","innerRight"]}]}),Object(w.a)(ue,"spacer",{type:"spacer",className:"spacer",drops:[{selector:".cell",sides:["innerTop","innerBottom"]},{selector:".block:not(.cell)",sides:["top","bottom"]},{selector:".arena",sides:["innerTop","innerBottom"]}],icon:ht.a}),Object(w.a)(ue,Oe,{type:Oe,className:"barrier",drops:[{selector:".section > .block",sides:["top","bottom"]},{selector:".arena",sides:["innerTop","innerBottom"]}],icon:ft.a}),Object(w.a)(ue,"loading",{type:"loading",className:"loading",name:"\xa0",drops:gt}),Object(w.a)(ue,"audio",{type:"audio",className:"audio",drops:gt,atomic:!0,icon:Qe.a}),Object(w.a)(ue,be,{type:be,className:"blackbox",drops:gt,atomic:!0,icon:tt.a}),Object(w.a)(ue,"gallery",{type:"gallery",className:"gallery",drops:gt,atomic:!0,icon:Je.a}),Object(w.a)(ue,"attachment",{type:"attachment",className:"attachment",drops:gt,atomic:!0,icon:st.a}),Object(w.a)(ue,Se,{type:Se,className:"accordion",drops:gt,atomic:!0,icon:ut}),Object(w.a)(ue,we,{type:we,className:"tabs",drops:gt,atomic:!0,icon:dt}),Object(w.a)(ue,"image",{type:"image",className:"image",drops:gt,atomic:!0,icon:Xe.a}),Object(w.a)(ue,ge,{type:ge,className:"quiz",drops:gt,atomic:!0,icon:Ye.a}),Object(w.a)(ue,"video",{type:"video",className:"video",drops:gt,atomic:!0,icon:Ve.a}),Object(w.a)(ue,Ie,{type:Ie,icon:at.a}),Object(w.a)(ue,"error",{type:"error",className:"error",drops:[],icon:it.a}),Object(w.a)(ue,Ee,{type:Ee,className:"section"}),ue),yt=n(37),Ot=n.n(yt),St=function(e){function t(){var e,n;Object(g.a)(this,t);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(n=Object(y.a)(this,(e=Object(O.a)(t)).call.apply(e,[this].concat(r)))).localRef=l.a.createRef(),n.refresh=function(){n.props.html.includes("\\(")&&window.MathJax.Hub.Queue(["Typeset",window.MathJax.Hub,n.ref.current])},n}return Object(S.a)(t,e),Object(E.a)(t,[{key:"render",value:function(){var e=this.props,t=e.html,n=e.innerRef,a=Object(xe.a)(e,["html","innerRef"]);return this.ref=n||this.localRef,l.a.createElement("div",Object.assign({},a,{ref:this.ref,dangerouslySetInnerHTML:{__html:t}}))}},{key:"componentDidMount",value:function(){this.refresh()}},{key:"componentDidUpdate",value:function(){this.refresh()}}]),t}(l.a.PureComponent),wt="0px 6px 30px 0px rgba(0,0,0,0.2)",It=function(e){function t(){var e,n;Object(g.a)(this,t);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(n=Object(y.a)(this,(e=Object(O.a)(t)).call.apply(e,[this].concat(r)))).memoTooltipClasses=Object(I.a)(function(e){return{tooltip:e.lightTooltip,popper:e.popper}}),n}return Object(S.a)(t,e),Object(E.a)(t,[{key:"render",value:function(){var e=this.props,t=e.classes,n=e.className,a=e.text,r=e.other;return l.a.createElement(Ot.a,{title:l.a.createElement("div",null,l.a.createElement(St,{html:a}),l.a.createElement("span",{className:t.tail})),placement:"bottom-end",classes:this.memoTooltipClasses(t)},l.a.createElement("div",Object.assign({},r,{className:Object(W.a)(t.iconContainer,n)}),l.a.createElement(at.a,{className:t.icon})))}}]),t}(l.a.PureComponent),Tt=N()(function(e){var t=e.palette.grey[400];return{lightTooltip:{background:e.palette.background.paper,color:e.palette.text.primary,boxShadow:wt,maxWidth:200,fontSize:14,padding:e.spacing.unit,border:"solid 1px "+t},tail:{overflow:"hidden",width:100,height:26,position:"absolute",bottom:-26,right:-16,"&:before":{position:"absolute",content:'""',width:16,height:16,left:"50%",top:0,transformOrigin:"0 0",transform:"rotate(-45deg)",background:e.palette.background.paper,border:"solid 1px",borderColor:"transparent transparent"+t+" "+t,boxShadow:wt}},popper:{opacity:1,'&[x-placement*="bottom"] $tail':{top:-16,height:16,"&:before":{borderColor:t+" "+t+" transparent transparent",top:16}}},iconContainer:{padding:e.spacing.unit/2,paddingRight:3*e.spacing.unit/2,paddingBottom:0,lineHeight:0},icon:{fontSize:20}}})(It),jt=function(e){function t(){var e,n;Object(g.a)(this,t);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(n=Object(y.a)(this,(e=Object(O.a)(t)).call.apply(e,[this].concat(r)))).markupRef=l.a.createRef(),n.state={tooltipIsOpen:!1},n.onTooltipOpen=function(){var e=n.markupRef.current,t=Nt(e).pop();if(t){var a=t.nodeValue.length-1,r=document.createRange();r.setStart(t,a),r.setEnd(t,a+1);var i=r.getBoundingClientRect(),o=e.getBoundingClientRect();(i.right>o.right||!i.width)&&n.setState({tooltipIsOpen:!0})}},n.onTooltipClose=function(){n.setState({tooltipIsOpen:!1})},n}return Object(S.a)(t,e),Object(E.a)(t,[{key:"render",value:function(){var e=this.props,t=e.classes,n=e.className,a=e.value,r=Object(xe.a)(e,["classes","className","value"]),i=this.state.tooltipIsOpen;return l.a.createElement(Ot.a,{title:l.a.createElement(St,Object.assign({},r,{html:a})),open:i,onOpen:this.onTooltipOpen,onClose:this.onTooltipClose},l.a.createElement("div",{className:t.root},l.a.createElement(St,Object.assign({},r,{className:n,innerRef:this.markupRef,html:a}))))}}]),t}(l.a.PureComponent),Nt=function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],a=t.childNodes,r=!0,i=!1,o=void 0;try{for(var s,c=a[Symbol.iterator]();!(r=(s=c.next()).done);r=!0){var l=s.value;3===l.nodeType?n.push(l):l.childNodes&&e(l,n)}}catch(u){i=!0,o=u}finally{try{r||null==c.return||c.return()}finally{if(i)throw o}}return n},kt=N()({root:{position:"relative",overflow:"hidden",whiteSpace:"nowrap",textOverflow:"ellipsis","& > * > *":{overflow:"hidden",whiteSpace:"nowrap",textOverflow:"ellipsis"}}})(jt),Ct={tick:{position:"relative",width:35,height:24,pointerEvents:"none",opacity:0,display:"inline-block",animationDuration:"1500ms",animationTimingFunction:"ease",color:"#4caf50","&:after":{content:'""',position:"absolute",left:"50%",top:"50%",marginLeft:-17,height:30,width:15,transformOrigin:"left top",transform:"scaleX(-1) rotate(135deg)",border:"2px solid currentColor",borderLeft:0,borderBottom:0,animationDuration:"1500ms",animationTimingFunction:"ease"}},animate:{"&$tick":{animationName:"tickAnimation"},"&$tick:after":{animationName:"tickPseudoAnimation"}},"@keyframes tickAnimation":{"0%":{opacity:1},"80%":{opacity:1},"100%":{opacity:0}},"@keyframes tickPseudoAnimation":{"0%":{height:0,width:0},"20%":{height:0,width:15},"40%":{height:30,width:15},"80%":{height:30,width:15},"100%":{height:30,width:15}}},_t=function(e){function t(){var e,n;Object(g.a)(this,t);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(n=Object(y.a)(this,(e=Object(O.a)(t)).call.apply(e,[this].concat(r)))).ref=l.a.createRef(),n.removeAnimation=function(){n.ref.current&&n.ref.current.classList.remove(n.props.classes.animate),n.timeout=null},n}return Object(S.a)(t,e),Object(E.a)(t,[{key:"render",value:function(){var e=this.props,t=e.classes,n=e.className,a=Object(xe.a)(e,["classes","className"]);return delete a.play,delete a.condition,l.a.createElement("div",Object.assign({},a,{className:Object(W.a)(t.tick,n),ref:this.ref}))}},{key:"componentDidUpdate",value:function(e,t,n){var a=this.props,r=a.classes,i=a.play,o=a.condition;if(e.play!==i&&(void 0===o||o)){var s=this.ref.current;this.timeout&&(s.classList.remove(r.animate),s.getBoundingClientRect()),s.classList.add(r.animate),this.timeout=setTimeout(this.removeAnimation,1500)}}}]),t}(l.a.PureComponent),Lt=N()(Ct)(_t),Rt=.2,xt="auto",Dt="BLACKBOX_MOTION",Pt="BLACKBOX_EVAL",At="BLACKBOX_BRIDGE",Mt=1,Bt="SENTINEL_DIALOG_NONE",Ut=function(e,t){if("*"===e.charAt(t+1)){var n=e.indexOf("*/",t+2);return n<0?e.length-1:n+1}return t},zt=function(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=e.length,a="",r="",i=0;i<n;i++){var o=e.charAt(i);switch(o){case"\\":a+=o+e.charAt(i+1),i++;break;case"/":var s=Ut(e,i);a+=e.substring(i,s+1),i=s;break;case"'":case'"':if(a+=o,r){r===o&&(r=null);break}r=o;break;case"&":a+=r?o:"#"+t;break;default:a+=o}}return a},Ht=function(e){function t(){return Object(g.a)(this,t),Object(y.a)(this,Object(O.a)(t).apply(this,arguments))}return Object(S.a)(t,e),Object(E.a)(t,[{key:"render",value:function(){var e=this.props,t=e.css,n=e.domId;return this.props.css?l.a.createElement("style",null,zt(t,n)):null}}]),t}(l.a.PureComponent),Wt=(de={},Object(w.a)(de,"audio",!0),Object(w.a)(de,be,!0),Object(w.a)(de,"gallery",!0),Object(w.a)(de,ge,!0),Object(w.a)(de,"video",!0),Object(w.a)(de,Se,!0),Object(w.a)(de,we,!0),de),Ft=function(e){function t(){var e,n;Object(g.a)(this,t);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(n=Object(y.a)(this,(e=Object(O.a)(t)).call.apply(e,[this].concat(r)))).onLaunch=function(){var e=n.props,t=e.onLaunch,a=e.action;t&&a&&t(a)},n}return Object(S.a)(t,e),Object(E.a)(t,[{key:"render",value:function(){var e,t=this.props,n=t.classes,a=t.id,r=t.type,i=t.className,o=t.title,s=t.action,c=t.isBlock,u=t.launchedResourceType,d=t.launchedResourceCompletion,m=t.completion,f=t.bookmark,p=t.help,h=t.identifiers,v=t.css,b=t.launcherVisibility,g=t.launcherPosition,E=t.statusBar,y=t.children,O=t.coreRef,S=t.style,w=!!s&&!!s.target,I=c&&Wt[r]&&!w,T=w&&"followLink"===s.kind,j="show"===b,N="show"===E,k=N&&I,C=T?"a":"div",_=I?Et[r].icon:null;if(w)if(u)e=Et[u].icon;else switch(s.kind){case he:e=Ue.a;break;case"followLink":e=Me.a;break;default:e=null}var L=ve+a,R={};return T&&(R.href=s.target,R.target="_blank",R.rel="noopener noreferrer"),S&&(R.style=S),R.ref=this.rootRef=O||this.rootRef||l.a.createRef(),l.a.createElement(C,Object.assign({id:L,className:Object(W.a)(i,r&&Et[r].className,n.host,c&&"block",k&&n.isPaper,w&&n.isLauncher,f&&n.bookmarkStar,w&&!j&&n.isLauncherSubtle,w&&j&&n[g],h)},R,{"data-bookmark":f?f.id:null}),N&&I&&l.a.createElement("div",{className:n.groundedBar},l.a.createElement("div",{className:Object(W.a)(n.iconWrapper,m&&n.done)},l.a.createElement(Lt,{className:n.tick,play:m}),l.a.createElement(_,null)),l.a.createElement("div",{className:n.groundedTitle},l.a.createElement(kt,{value:o})),p&&l.a.createElement(Tt,{text:p})),y,w&&e&&j&&l.a.createElement(Pe.a,{id:s.kind===pe?ve+s.target:null,className:n.launcherButton},l.a.createElement("div",{className:Object(W.a)(n.iconWrapper,d&&n.done)},l.a.createElement(e,null))),w&&l.a.createElement("div",{className:n.launchBlocker,onClick:T?null:this.onLaunch}),l.a.createElement(Ht,{css:v,domId:L}))}},{key:"componentDidMount",value:function(){var e=this.props,t=e.effectName,n=e.effectDuration,a=e.effectDelay,r=e.effectEasing,i=e.onEffectRegister;t&&i&&i(this.rootRef,t,n,a,r)}},{key:"componentDidUpdate",value:function(e){var t=this.props,n=t.effectName,a=t.effectDuration,r=t.effectDelay,i=t.effectEasing,o=t.onEffectRegister;!o||e.effectName===n&&e.effectDuration===a&&e.effectDelay===r&&e.effectEasing===i||o(this.rootRef,n,a,r,i)}},{key:"componentWillUnmount",value:function(){var e=this.props,t=e.effectName,n=e.onEffectRegister;t&&n&&n(this.rootRef,Te)}}]),t}(l.a.PureComponent),Gt=function(e){var t={};for(var n in e)n in Vt&&(t[n]=e[n]);return delete t.classes,t},Vt={id:Fe.a.string,type:Fe.a.string,kind:Fe.a.string,className:Fe.a.string,title:Fe.a.string,action:Fe.a.object,isBlock:Fe.a.bool,launchedResourceType:Fe.a.string,launchedResourceCompletion:Fe.a.number,completion:Fe.a.number,bookmark:Fe.a.object,help:Fe.a.string,effectName:Fe.a.string,effectDuration:Fe.a.number,effectDelay:Fe.a.number,effectEasing:Fe.a.string,identifiers:Fe.a.string,css:Fe.a.string,onLaunch:Fe.a.func,children:Fe.a.node,onEffectRegister:Fe.a.func,launcherVisibility:Fe.a.string,launcherPosition:Fe.a.string,statusBar:Fe.a.string,theme:Fe.a.string,coreRef:Fe.a.object,style:Fe.a.object,loadStatus:Fe.a.string,classes:Fe.a.object},Zt=N()(function(e){var t,n;return n={host:{position:"relative",display:"block",backgroundRepeat:"no-repeat",backgroundPosition:"center",backgroundSize:"contain","& a":{cursor:"pointer",textDecoration:"underline",color:e.palette.primary.main,"&[href]::after":{content:'"language"',fontFamily:'"Material Icons",sans-serif',fontWeight:"normal",fontStyle:"normal",display:"inline-block",textTransform:"none",verticalAlign:"middle",letterSpacing:"normal",wordWrap:"normal",whiteSpace:"nowrap",fontSmoothing:"antialiased",textRendering:"optimizeLegibility",fontFeatureSettings:'"liga"'},'&[href^="#"]::after':{content:'"send"'}},"a&":{textDecoration:"none",color:"inherit","&::after":{content:"none !important"}}},isLauncher:(t={border:"dashed 1px rgba(0,0,0,0.2)",borderRadius:4,transition:"background-color 200ms"},Object(w.a)(t,".hasNoBlocker &:hover",{cursor:"pointer",backgroundColor:"rgba(241,241,241)",border:"solid 1px rgba(0,0,0,0.2)","& $launcherButton":{background:"#fff"}}),Object(w.a)(t,".hasNoBlocker &:active",{"& $launcherButton":{boxShadow:"0px 1px 1px 0px rgba(0, 0, 0, 0.2)"}}),t),isLauncherSubtle:{paddingBottom:"8px !important"},launcherButton:{position:"absolute",color:"black",textAlign:"center",width:80,background:"#f1f1f1",transition:"background-color 200ms, box-shadow 200ms"},launchBlocker:Object(w.a)({position:"absolute",left:0,top:0,right:0,bottom:0,background:"rgba(255,0,0,0)",pointerEvents:"none"},".hasNoBlocker &",{pointerEvents:"auto"}),groundedBar:{border:"solid 1px rgba(0,0,0,0.05)",borderRadius:"4px 4px 0 0",background:"#f1f1f1",display:"flex",alignItems:"center"},iconWrapper:{display:"inline-block",position:"relative",lineHeight:0,padding:e.spacing.unit/4,margin:e.spacing.unit/4,borderRadius:"100%",border:"solid 2px transparent"},groundedTitle:{flexGrow:1,overflow:"hidden",minWidth:0,paddingLeft:e.spacing.unit/2},done:{"&$iconWrapper":{borderColor:"#4caf50"}},tick:{position:"absolute",left:-2,top:-2,bottom:-2,right:-4,width:"auto",height:"auto",background:"#f1f1f1"},isPaper:{backgroundColor:e.palette.background.paper,borderRadius:e.shape.borderRadius,boxShadow:e.shadows[2]},bookmarkStar:Object(w.a)({"&:before":{content:'""',background:"no-repeat center url(".concat(He.a,")"),position:"absolute",textAlign:"center",width:20,height:20,top:4,right:4,zIndex:2}},".hasNoBlocker &:before",{content:"none"})},Object(w.a)(n,"topLeft",{"&$host":{paddingTop:48},"& > $launcherButton":{top:4,left:4}}),Object(w.a)(n,"topCenter",{"&$host":{paddingTop:48},"& > $launcherButton":{top:4,left:"50%",marginLeft:-40}}),Object(w.a)(n,"topRight",{"&$host":{paddingTop:48},"& > $launcherButton":{top:4,right:4}}),Object(w.a)(n,"bottomLeft",{"&$host":{paddingBottom:48},"& > $launcherButton":{bottom:4,left:4}}),Object(w.a)(n,"bottomCenter",{"&$host":{paddingBottom:48},"& > $launcherButton":{bottom:4,left:"50%",marginLeft:-40}}),Object(w.a)(n,"bottomRight",{"&$host":{paddingBottom:48},"& > $launcherButton":{bottom:4,right:4}}),n})(Ft),Qt={root:Object(w.a)({display:"flex",justifyContent:"flex-start",alignItems:"stretch",flexWrap:"nowrap",padding:10},q,{flexWrap:"wrap"})},qt=function(e){function t(){return Object(g.a)(this,t),Object(y.a)(this,Object(O.a)(t).apply(this,arguments))}return Object(S.a)(t,e),Object(E.a)(t,[{key:"render",value:function(){var e=this.props.classes;return l.a.createElement(Zt,Object.assign({},Gt(this.props),{className:e.root}),this.props.children)}}]),t}(l.a.PureComponent),Yt=N()(Qt,{name:"Row"})(qt),$t={root:{flexGrow:1,flexBasis:"100%",padding:10,minWidth:0}},Xt=function(e){function t(){return Object(g.a)(this,t),Object(y.a)(this,Object(O.a)(t).apply(this,arguments))}return Object(S.a)(t,e),Object(E.a)(t,[{key:"render",value:function(){var e=this.props.classes;return l.a.createElement(Zt,Object.assign({},Gt(this.props),{className:e.root}),this.props.children)}}]),t}(l.a.PureComponent),Kt=N()($t,{name:"Cell"})(Xt),Jt=function(e){function t(){return Object(g.a)(this,t),Object(y.a)(this,Object(O.a)(t).apply(this,arguments))}return Object(S.a)(t,e),Object(E.a)(t,[{key:"render",value:function(){var e=this.props.height;return l.a.createElement(Zt,Object.assign({},Gt(this.props),{style:{height:"".concat(e||100,"px")}}))}}]),t}(l.a.PureComponent),en=function(e){function t(){return Object(g.a)(this,t),Object(y.a)(this,Object(O.a)(t).apply(this,arguments))}return Object(S.a)(t,e),Object(E.a)(t,[{key:"render",value:function(){var e=this.props,t=e.classes,n=e.content;return l.a.createElement(Zt,Object.assign({},Gt(this.props),{className:t.root}),l.a.createElement(St,{html:n}))}}]),t}(l.a.PureComponent),tn=N()({root:{padding:10,"& img":{maxWidth:"100%"}}})(en),nn=n(73),an=n.n(nn),rn=function(e){function t(){return Object(g.a)(this,t),Object(y.a)(this,Object(O.a)(t).apply(this,arguments))}return Object(S.a)(t,e),Object(E.a)(t,[{key:"render",value:function(){var e=this.props,t=e.classes,n=e.when,a=e.centered,r=e.className;return n?l.a.createElement("div",{className:Object(W.a)(t.root,a&&t.centered,r)},l.a.createElement(an.a,{size:24})):null}}]),t}(l.a.PureComponent);rn.defaultProps={when:!0};var on,sn,cn,ln,un,dn,mn,fn,pn,hn=N()(function(e){return{root:{marginTop:e.spacing.unit/2,textAlign:"center"},centered:{position:"absolute",left:"50%",top:"50%",marginLeft:"-12px",marginTop:"-12px"}}})(rn),vn=function(e){function t(){return Object(g.a)(this,t),Object(y.a)(this,Object(O.a)(t).apply(this,arguments))}return Object(S.a)(t,e),Object(E.a)(t,[{key:"render",value:function(){var e=this.props.classes;return l.a.createElement(Zt,Object.assign({},Gt(this.props),{className:e.root}),l.a.createElement(hn,null))}}]),t}(l.a.PureComponent),bn=N()(function(e){return{root:{minHeight:32,marginBottom:e.spacing.unit,padding:10}}})(vn),gn=n(173),En=n.n(gn),yn=function(e){function t(){return Object(g.a)(this,t),Object(y.a)(this,Object(O.a)(t).apply(this,arguments))}return Object(S.a)(t,e),Object(E.a)(t,[{key:"render",value:function(){var e=this.props.classes;return l.a.createElement(Zt,Object.assign({},Gt(this.props),{className:e.root}),l.a.createElement(En.a,null))}}]),t}(l.a.PureComponent),On=N()(function(e){return{root:{flexGrow:1,flexBasis:"100%",padding:e.spacing.unit,color:e.palette.error.main,textAlign:"center"}}})(yn),Sn=n(174),wn=new Map,In=new Sn.a(function(e){var t=!0,n=!1,a=void 0;try{for(var r,i=e[Symbol.iterator]();!(t=(r=i.next()).done);t=!0){var o=r.value,s=o.target,c=o.contentRect,l=wn.get(s);if(l){var u=!0,d=!1,m=void 0;try{for(var f,p=l[Symbol.iterator]();!(u=(f=p.next()).done);u=!0)(0,f.value)(c,s)}catch(h){d=!0,m=h}finally{try{u||null==p.return||p.return()}finally{if(d)throw m}}}}}catch(h){n=!0,a=h}finally{try{t||null==i.return||i.return()}finally{if(n)throw a}}}),Tn=function(e,t){var n=wn.get(e);n?n.includes(t)||(n.push(t),In.observe(e)):(wn.set(e,[t]),In.observe(e))},jn=function(e,t){var n=wn.get(e);if(n){var a=n.indexOf(t);a>=0&&(In.unobserve(e),n.splice(a,1),n.length||wn.delete(e))}},Nn=function(e){function t(){return Object(g.a)(this,t),Object(y.a)(this,Object(O.a)(t).apply(this,arguments))}return Object(S.a)(t,e),Object(E.a)(t,[{key:"render",value:function(){var e=this.props,t=e.classes,n=e.isSlave,a=e.html;return a?l.a.createElement(St,{className:Object(W.a)(t.root,n&&t.isSlave),html:a}):null}}]),t}(l.a.PureComponent),kn=N()({root:{padding:20,background:"white"},isSlave:{maxHeight:"20%",overflowX:"hidden",overflowY:"auto"}})(Nn),Cn=n(41),_n=n(175),Ln=n(176),Rn=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"unknown";return function(){var a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:e,r=arguments.length>1?arguments[1]:void 0;return Dn(a,r,t,n)}},xn=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"unknown";return function(){var a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:e,r=arguments.length>1?arguments[1]:void 0;return Object(Ln.a)(a,function(e){return Dn(e,r,t,n,!0)})}},Dn=function(e,t,n,a,r){var i=t.type;if("type"in t&&!i)throw new TypeError("Reducer called with undefined type!");if(n.hasOwnProperty(i))try{var o=n[i];"string"===typeof o&&n[o]&&(o=n[o]);var s="function"===typeof o?o(e,t):o;return void 0!==s||r?s:(console.warn("".concat(a," (").concat(i,"): undefined!")),e)}catch(l){var c=l.message.replace(/\s*\(.*/,"");!function(e){console.groupCollapsed("%c".concat(e,"!"),"color:#c41a16;font-weight: 400;");for(var t=arguments.length,n=new Array(t>1?t-1:0),a=1;a<t;a++)n[a-1]=arguments[a];for(var r=0;r<n.length;r++){var i=n[r];console.log(i)}console.groupEnd()}("".concat(a," (").concat(i,"): ").concat(c),l)}return e},Pn=function(e){return Object(Cn.c)(e)},An="MODEL_RESUME",Mn=function(e){return Number.isInteger(e)&&e>0},Bn=Rn("",Object(w.a)({},"MODEL_IMPORT",function(e,t){return t.payload.type||""}),"models/generic/kind"),Un=Rn("",Object(w.a)({},"MODEL_IMPORT",function(e,t){return t.topId}),"models/generic/topId"),zn=Rn(0,(on={},Object(w.a)(on,"MODEL_IMPORT",0),Object(w.a)(on,An,function(e,t){var n=t.suspendedModel;if(!n.hasOwnProperty("completion"))return e;var a=n.completion;if(Mn(a))return a;console.warn("Completion must be a positive integer!")}),Object(w.a)(on,"MODEL_RESET",0),Object(w.a)(on,"COMPLETION_ADD",1),Object(w.a)(on,"CMI_COMPLETION_STATUS_UPDATE",function(e,t){return e+("completed"===t.value?1:0)}),on),"models/generic/completion"),Hn=Pn({kind:Bn,topId:Un,completion:zn}),Wn=function(e,t){return e[t].sections},Fn=function(e,t){return e[t].body},Gn=function(e,t){return e[t].retries},Vn=function(e,t){return e[t].challenges},Zn=function(e,t,n){return e[t].challenges[n].options},Qn=function(e,t,n){return e[t].challenges[n].article},qn=function(e,t){return e[t].useForScore},Yn=function(e,t){return e[t].evaluation},$n=function(e,t){return e[t].useForScore},Xn=function(e,t){return e[t].type},Kn=(sn={},Object(w.a)(sn,"image",!0),Object(w.a)(sn,"attachment",!0),sn),Jn=function e(t,n,a){var r=!0,i=!1,o=void 0;try{for(var s,c=t[Symbol.iterator]();!(r=(s=c.next()).done);r=!0){var l=s.value,u=l.id,d=l.kind,m=l.action,f=l.kids;if(u in n?d in Kn||(a[u]=n[u]):f&&e(f,n,a),m&&m.kind===pe&&m.target){var p=m.target;a[p]=n[p]}}}catch(h){i=!0,o=h}finally{try{r||null==c.return||c.return()}finally{if(i)throw o}}},ea=function(e,t){var n={},a=Wn(e,t),r=!0,i=!1,o=void 0;try{for(var s,c=a[Symbol.iterator]();!(r=(s=c.next()).done);r=!0){var l=s.value;n[l]=e[l];var u=Fn(e,l);Jn(u,e,n)}}catch(d){i=!0,o=d}finally{try{r||null==c.return||c.return()}finally{if(i)throw o}}return n},ta=Object.freeze({}),na=function(e){return Boolean(e&&"object"===typeof e&&!Array.isArray(e))},aa=Pn({dialog:Rn(Bt,(cn={},Object(w.a)(cn,"IDLE_ANNOUNCE","SENTINEL_DIALOG_PAUSED"),Object(w.a)(cn,"DISCONNECTED_ANNOUNCE","SENTINEL_DIALOG_DISCONNECTED"),Object(w.a)(cn,"DEATH_ANNOUNCE","SENTINEL_DIALOG_TERMINATED"),Object(w.a)(cn,"SENTINEL_DISMISS",Bt),Object(w.a)(cn,"PROJECT_BOOKMARK_WARN","SENTINEL_DIALOG_CUSTOM"),cn),"models/project/sentinel/dialog"),customMessage:Rn("",Object(w.a)({},"PROJECT_BOOKMARK_WARN",function(e,t){return t.message}),"models/project/sentinel/customMessage"),customDismiss:Rn("",Object(w.a)({},"PROJECT_BOOKMARK_WARN",function(e,t){return t.dismiss}),"models/project/sentinel/customDismiss")}),ra=Object.freeze([]),ia=Pn({kind:Bn,topId:Un,completions:xn(ta,(ln={},Object(w.a)(ln,"PROJECT_IMPORT",function(e,t){var n=t.db,a=t.id,r=ea(n,a),i={};for(var o in r)i[o]=0;return i}),Object(w.a)(ln,"MODEL_RESET",function(e){for(var t in e)e[t]=0}),Object(w.a)(ln,"CHILD_MODEL_RESUME",function(e,t){var n=t.suspendedModel,a=t.childId;if(n.hasOwnProperty("completion")){var r=n.completion;Mn(r)?e[a]=r:console.warn("Completion must be a positive integer!")}}),Object(w.a)(ln,"CHILD_COMPLETION_ADD",function(e,t){e[t.childId]++}),Object(w.a)(ln,"CHILD_CMI_COMPLETION_STATUS_UPDATE",function(e,t){var n=t.childId,a=t.value;e[n]+="completed"===a?1:0}),Object(w.a)(ln,"CHILD_SECTION_COMPLETE","CHILD_COMPLETION_ADD"),ln),"models/project.completions"),visits:xn({},(un={},Object(w.a)(un,"MODEL_RESET",{}),Object(w.a)(un,An,function(e,t){var n=t.suspendedModel;if(n.hasOwnProperty("visits")){var a=n.visits;if(na(a))for(var r in a){var i=a[r];1===i?e[r]=i:console.warn("Visit must be exactly 1!")}else console.warn("Visits must be a simple object!")}}),Object(w.a)(un,"PROJECT_VISIT_ACHIEVE",function(e,t){e[t.bookmarkUid]=1}),un),"models/project.visits"),uiLanguage:Rn("en",Object(w.a)({},"PROJECT_IMPORT",function(e,t){return function(e,t){return e[t].uiLanguage}(t.db,t.id)}),"models/project.uiLanguage"),otherSections:xn(ra,Object(w.a)({},"PROJECT_IMPORT",function(e,t){return function(e,t){return e[t].otherSections}(t.db,t.id)||ra}),"models/project.otherSections"),sentinel:aa}),oa=Pn({kind:function(){return Oe},lockStatus:Rn("auto",(dn={},Object(w.a)(dn,"BARRIER_LOCK","locked"),Object(w.a)(dn,"BARRIER_UNLOCK","unlocked"),dn),"models/section/barrier.lockStatus")}),sa=Object(w.a)({},Oe,!0),ca=Rn(0,(mn={},Object(w.a)(mn,"MODEL_IMPORT",0),Object(w.a)(mn,An,function(e,t){var n=t.suspendedModel;return n.hasOwnProperty("completion")?1!==n.completion?(console.warn("Section completion must be exactly 1!"),e):1:e}),Object(w.a)(mn,"MODEL_RESET",0),Object(w.a)(mn,"SECTION_COMPLETE",1),mn),"models/section.completion"),la=xn({},(fn={},Object(w.a)(fn,"MODEL_IMPORT",function(e,t){var n=t.payload,a=da(n.body),r={},i=!0,o=!1,s=void 0;try{for(var c,l=a[Symbol.iterator]();!(i=(c=l.next()).done);i=!0){var u=c.value,d=u.id;r[d]=!0,d in e||(e[d]={kind:u.kind}),ma(e,{type:"NODE_IMPORT",nodeId:d,node:u})}}catch(f){o=!0,s=f}finally{try{i||null==l.return||l.return()}finally{if(o)throw s}}for(var m in e)r[m]||delete e[m]}),Object(w.a)(fn,"BARRIER_RAISE",ma),Object(w.a)(fn,"BARRIER_RESUME",ma),Object(w.a)(fn,"BARRIER_LOCK",ma),Object(w.a)(fn,"BARRIER_UNLOCK",ma),fn),"models/section.nodes"),ua=xn({},(pn={},Object(w.a)(pn,"MODEL_IMPORT",function(e,t){var n=t.payload,a={},r=!0,i=!1,o=void 0;try{for(var s,c=n.body[Symbol.iterator]();!(r=(s=c.next()).done);r=!0){var l=s.value,u=l.id;l.kind===Oe&&(a[u]=0)}}catch(d){i=!0,o=d}finally{try{r||null==c.return||c.return()}finally{if(i)throw o}}return a}),Object(w.a)(pn,An,function(e,t){var n=t.suspendedModel;if(n.hasOwnProperty("accessBeyond")){var a=n.accessBeyond;if(na(a))for(var r in a){if(r in e)1===a[r]?e[r]=1:console.warn("Suspended `accessBeyond` item value should be `1`!");else console.warn("Suspended `accessBeyond` contains an unknown id!")}else console.warn("Suspended `accessBeyond` should be a simple object!")}}),Object(w.a)(pn,"BARRIER_RAISE",function(e,t){e[t.nodeId]=1}),pn),"models/section.access"),da=function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],a=!0,r=!1,i=void 0;try{for(var o,s=t[Symbol.iterator]();!(a=(o=s.next()).done);a=!0){var c=o.value,l=c.kind,u=c.kids;l in sa&&n.push(c),u&&e(u,n)}}catch(d){r=!0,i=d}finally{try{a||null==s.return||s.return()}finally{if(r)throw i}}return n};function ma(e,t){var n=t.nodeId;if(!n)return console.warn("Cannot infer node id for proxy!",t),e;var a,r=e[n];switch(r.kind){case Oe:a=oa;break;default:return e}e[n]=a(r,t)}var fa,pa,ha,va,ba,ga,Ea,ya,Oa,Sa,wa,Ia,Ta,ja,Na,ka,Ca,_a,La,Ra,xa,Da,Pa,Aa=Pn({kind:Bn,topId:Un,completion:ca,nodes:la,accessBeyond:ua}),Ma=Pn({completionStatus:Rn("unknown",(fa={},Object(w.a)(fa,"MODEL_CLOSE",function(e,t){return t.keepCmi?e:"unknown"}),Object(w.a)(fa,An,function(e,t){var n=t.suspendedModel;if(!n.hasOwnProperty("cmi"))return e;var a=n.cmi;if(!na(a))return console.warn("Suspended `cmi` should be a simple object!"),e;if(!a.hasOwnProperty("completionStatus"))return e;var r=a.completionStatus;return"completed"!==r&&"incomplete"!==r&&"not attempted"!==r&&"unknown"!==r?(console.warn("Suspended `completionStatus` has an unexpected value!"),e):r}),Object(w.a)(fa,"CMI_COMPLETION_STATUS_UPDATE",function(e,t){return t.value}),fa),"models/blackbox/cmi/completionStatus"),exit:Rn("",(pa={},Object(w.a)(pa,"MODEL_CLOSE",function(e,t){return t.keepCmi?e:""}),Object(w.a)(pa,An,function(e,t){return t.suspendedModel.cmi.exit}),Object(w.a)(pa,"CMI_EXIT_UPDATE",function(e,t){return t.value}),pa),"models/blackbox/cmi/exit"),location:Rn("",(ha={},Object(w.a)(ha,"MODEL_CLOSE",function(e,t){return t.keepCmi?e:""}),Object(w.a)(ha,An,function(e,t){return t.suspendedModel.cmi.location}),Object(w.a)(ha,"CMI_LOCATION_UPDATE",function(e,t){return t.value}),ha),"models/blackbox/cmi/location"),progressMeasure:Rn("",(va={},Object(w.a)(va,"MODEL_CLOSE",function(e,t){return t.keepCmi?e:""}),Object(w.a)(va,An,function(e,t){return t.suspendedModel.cmi.progressMeasure}),Object(w.a)(va,"CMI_PROGRESS_MEASURE_UPDATE",function(e,t){return t.value}),va),"models/blackbox/cmi/progressMeasure"),scoreScaled:Rn("",(ba={},Object(w.a)(ba,"MODEL_CLOSE",function(e,t){return t.keepCmi?e:""}),Object(w.a)(ba,An,function(e,t){return t.suspendedModel.cmi.scoreScaled}),Object(w.a)(ba,"CMI_SCORE_SCALED_UPDATE",function(e,t){var n=t.value;return"number"===typeof n&&n>=0&&n<=1?n:(console.warn("Invalid `scoreScaled` value!",n),e)}),ba),"models/blackbox/cmi/scoreScaled"),scoreRaw:Rn("",(ga={},Object(w.a)(ga,"MODEL_CLOSE",function(e,t){return t.keepCmi?e:""}),Object(w.a)(ga,An,function(e,t){return t.suspendedModel.cmi.scoreRaw}),Object(w.a)(ga,"CMI_SCORE_RAW_UPDATE",function(e,t){return t.value}),ga),"models/blackbox/cmi/scoreRaw"),scoreMin:Rn("",(Ea={},Object(w.a)(Ea,"MODEL_CLOSE",function(e,t){return t.keepCmi?e:""}),Object(w.a)(Ea,An,function(e,t){return t.suspendedModel.cmi.scoreMin}),Object(w.a)(Ea,"CMI_SCORE_MIN_UPDATE",function(e,t){return t.value}),Ea),"models/blackbox/cmi/scoreMin"),scoreMax:Rn("",(ya={},Object(w.a)(ya,"MODEL_CLOSE",function(e,t){return t.keepCmi?e:""}),Object(w.a)(ya,An,function(e,t){return t.suspendedModel.cmi.scoreMax}),Object(w.a)(ya,"CMI_SCORE_MAX_UPDATE",function(e,t){return t.value}),ya),"models/blackbox/cmi/scoreMax"),sessionTime:Rn("",(Oa={},Object(w.a)(Oa,"MODEL_CLOSE",function(e,t){return t.keepCmi?e:""}),Object(w.a)(Oa,An,function(e,t){return t.suspendedModel.cmi.sessionTime}),Object(w.a)(Oa,"CMI_SESSION_TIME_UPDATE",function(e,t){return t.value}),Oa),"models/blackbox/cmi/sessionTime"),successStatus:Rn("unknown",(Sa={},Object(w.a)(Sa,"MODEL_CLOSE",function(e,t){return t.keepCmi?e:"unknown"}),Object(w.a)(Sa,An,function(e,t){return t.suspendedModel.cmi.successStatus}),Object(w.a)(Sa,"CMI_SUCCESS_STATUS_UPDATE",function(e,t){return t.value}),Sa),"models/blackbox/cmi/successStatus"),suspendData:Rn("",(wa={},Object(w.a)(wa,"MODEL_CLOSE",function(e,t){return t.keepCmi?e:""}),Object(w.a)(wa,An,function(e,t){return t.suspendedModel.cmi.suspendData}),Object(w.a)(wa,"CMI_SUSPEND_DATA_UPDATE",function(e,t){return t.value}),wa),"models/blackbox/cmi/suspendData")}),Ba=Pn({kind:Bn,topId:Un,completion:zn,cmi:Ma}),Ua=Rn(0,(Ia={},Object(w.a)(Ia,"MODEL_CHALLENGE_IMPORT",function(e,t){var n=t.payload;return!0===n.shuffled||void 0===n.shuffled?Math.random():0}),Object(w.a)(Ia,"MODEL_CHALLENGE_RESUME",function(e,t){var n=t.suspendedChallenge;if(!n.hasOwnProperty("seed"))return e;var a=n.seed;return a||(console.warn("Invalid seed!",a),e)}),Object(w.a)(Ia,"QUIZ_RESET",function(e){return e?Math.random():e}),Ia),"models/quiz/_challenge.seed"),za=Rn("",Object(w.a)({},"MODEL_CHALLENGE_IMPORT",function(e,t){return t.payload.mode}),"models/quiz/_challenge.mode"),Ha=Rn(!1,(Ta={},Object(w.a)(Ta,"MODEL_CHALLENGE_RESUME",function(e,t){var n=t.suspendedModel,a=t.challengeId,r=(n.challengesCompleted||{})[a];return r===Mt||2===r}),Object(w.a)(Ta,"QUIZ_RESET",!1),Object(w.a)(Ta,"QUIZ_CHALLENGE_VERIFY",!0),Ta),"models/quiz/_challenge.isVerified"),Wa=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],a={};if(null===t)for(var r=e.length,i=0;i<r;i++)a[e[i]]=i;else for(var o=e.length,s=0;s<o;s++){var c=e[s];a[c[t]]=n?s:c}return a},Fa=Pn({answers:xn(ta,(ja={},Object(w.a)(ja,"MODEL_CHALLENGE_RESUME",function(e,t){var n=t.suspendedChallenge,a=t.db,r=t.quizId,i=t.challengeIndex;if(n.hasOwnProperty("answers")){var o=n.answers;if(na(o)){var s=Wa(Zn(a,r,i),"uid");for(var c in o)s[c]?1===o[c]?e[c]=1:console.warn("Answer value should be 1!",o[c]):console.warn("Unrecognized answer id!",c)}else console.warn("`answers` should be a simple object!")}}),Object(w.a)(ja,"QUIZ_CHOICE_SELECT",function(e,t){var n=t.optionUid;if(t.mode===ke){var a=e[n];for(var r in e)delete e[r];a||(e[n]=1)}else e[n]?delete e[n]:e[n]=1}),Object(w.a)(ja,"QUIZ_RESET",ta),ja),"models/quiz/quizChoice.answers"),seed:Ua,mode:za,isVerified:Ha}),Ga=function(e,t,n){return e.models[t].challenges[n].answers},Va=n(29),Za=n(83),Qa=n.n(Za),qa=n(56),Ya=n.n(qa),$a=n(57),Xa=n.n($a),Ka=function(e,t){return Math.max(0,Math.min(e.right,t.right)-Math.max(e.left,t.left))*Math.max(0,Math.min(e.bottom,t.bottom)-Math.max(e.top,t.top))},Ja=function(e,t,n,a){var r,i=e.left+t;a?r=i<a.left?a.left:i+e.width>a.right?a.right-e.width:i:r=i;var o,s=e.top+n;a?o=s<a.top?a.top:s+e.height>a.bottom?a.bottom-e.height:s:o=s;return{left:r,top:o,right:e.right+(r-e.left),bottom:e.bottom+(o-e.top),width:e.width,height:e.height}},er=function(e,t){var n=Math.abs(t.left-e.x)<Math.abs(t.right-e.x)?t.left:t.right,a=Math.abs(t.top-e.y)<Math.abs(t.bottom-e.y)?t.top:t.bottom,r=e.x-n,i=e.y-a;return Math.sqrt(r*r+i*i)},tr=function(e){var t=[],n=!0,a=!1,r=void 0;try{for(var i,o=e[Symbol.iterator]();!(n=(i=o.next()).done);n=!0){var s=i.value;t.push(s.getBoundingClientRect())}}catch(c){a=!0,r=c}finally{try{n||null==o.return||o.return()}finally{if(a)throw r}}return t},nr=function(e,t){return[].slice.call((t||document).querySelectorAll(e)||[])},ar=function(e){e.preventDefault(),e.stopPropagation()},rr=function(e){function t(){var e,n;Object(g.a)(this,t);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(n=Object(y.a)(this,(e=Object(O.a)(t)).call.apply(e,[this].concat(r)))).onPointerDown=function(e){var t=n.props,a=t.classes,r=t.contextRef,i=t.bunkerClass,o=t.decoyClass,s=t.uid;e.preventDefault(),window.addEventListener("touchmove",ar,{passive:!1}),window.addEventListener("pointermove",n.onWindowPointerMove),window.addEventListener("pointerup",n.onWindowPointerUp),window.addEventListener("keydown",n.onWindowKeyDown),document.documentElement.classList.add(a.htmlWhileDragging);var c=r.current,l=e.currentTarget,u=nr(".".concat(o,"[data-uid=").concat(s,"]"),c)[0],d=l.getBoundingClientRect(),m=c.getBoundingClientRect(),f=d.left-m.left,p=d.top-m.top;l.style.visibility="hidden",u.style.cssText="transform: translate(".concat(f,"px, ").concat(p,"px)"),u.classList.add(a.soldierWhileDragging);var h=nr("."+i,r.current);n.vars={contextBounds:c.getBoundingClientRect(),initialSoldierBounds:d,offsetX:f,offsetY:p,initialMouseX:e.clientX,initialMouseY:e.clientY,soldier:l,decoy:u,bunkers:h,bunkersBounds:tr(h),activeBunkerIndex:-1},n.onWindowPointerMove(e)},n.onWindowPointerMove=function(e){var t=n.props.classes,a=n.vars,r=a.contextBounds,i=a.initialSoldierBounds,o=a.offsetX,s=a.offsetY,c=a.initialMouseX,l=a.initialMouseY,u=a.decoy,d=a.bunkers,m=a.bunkersBounds,f=a.activeBunkerIndex;e.preventDefault();var p=e.clientX-c,h=e.clientY-l,v=Ja(i,p,h,r),b=v.left-i.left,g=v.top-i.top;u.style.transform="translate(".concat(b+o,"px,").concat(g+s,"px)");for(var E=Number.MAX_SAFE_INTEGER,y=-1,O=m.length-1;O>=0;O--){var S=m[O],w=d[O];if(!w.firstChild||!w.firstChild.classList.contains(t.good))if(Ka(v,S)){var I=er({x:e.clientX,y:e.clientY},S);I<E&&(y=O,E=I)}}f!==y&&(f>=0&&d[f].classList.remove(t.bunkerHit),n.vars.activeBunkerIndex=y,y>=0&&d[y].classList.add(t.bunkerHit))},n.onWindowPointerUp=function(){var e=n.props,t=e.onDrop,a=e.uid,r=e.isBad,i=e.bunkerIndex,o=n.vars.activeBunkerIndex;n.cleanup(),t(a,r&&o===i?-1:o)},n.onWindowKeyDown=function(e){switch(e.key){case"Escape":var t=n.props,a=t.onDrop,r=t.uid;n.cleanup(),a(r,null)}},n.cleanup=function(){var e=n.props.classes,t=n.vars,a=t.soldier,r=t.bunkers,i=t.activeBunkerIndex,o=t.decoy;window.removeEventListener("touchmove",ar,{passive:!1}),window.removeEventListener("pointermove",n.onWindowPointerMove),window.removeEventListener("pointerup",n.onWindowPointerUp),window.removeEventListener("keydown",n.onWindowKeyDown),document.documentElement.classList.remove(e.htmlWhileDragging),a.removeAttribute("style"),o.classList.remove(e.soldierWhileDragging),i>=0&&r[i].classList.remove(e.bunkerHit),n.vars=null},n}return Object(S.a)(t,e),Object(E.a)(t,[{key:"render",value:function(){var e,t=this.props,n=t.classes,a=t.className,r=t.label,i=t.uid,o=t.isGood,s=t.isBad,c=t.isDisabled;return e=o?l.a.createElement(Ya.a,null):s?l.a.createElement(Xa.a,null):l.a.createElement(Qa.a,null),l.a.createElement("div",{className:Object(W.a)(n.root,o&&n.good,s&&n.bad,c&&n.disabled,a),onPointerDown:this.onPointerDown,"data-uid":i},l.a.createElement(St,{className:n.label,html:r}),e)}},{key:"componentWillUnmount",value:function(){this.vars&&this.cleanup()}}]),t}(l.a.PureComponent),ir=N()(function(e){return{root:{margin:4,textAlign:"center",background:e.palette.primary.main,color:e.palette.primary.contrastText,display:"flex",flexDirection:"row",padding:4,alignItems:"center",borderRadius:4,cursor:"move",transition:"background-color 200ms",userSelect:"none","&:hover":{background:Object(Va.darken)(e.palette.primary.main,.25)},touchAction:"none"},bunkerHit:{backgroundColor:"#ccc","& $root":{background:Object(Va.darken)(e.palette.primary.main,.25)}},label:{color:"inherit",paddingLeft:4,paddingRight:4},disabled:{pointerEvents:"none",background:"#808080"},good:{background:"#01a901"},bad:{background:"#e61818","&:hover":{background:"#ff4242"}},htmlWhileDragging:{cursor:"move","& body":{pointerEvents:"none"}},soldierWhileDragging:{visibility:"visible !important",opacity:.75,background:"".concat(Object(Va.darken)(e.palette.primary.main,.25)," !important")}}})(rr),or=function(e,t,n,a){return{type:"QUIZ_DND_DROP",id:e,challengeId:t,soldierUid:n,bunkerIndex:a}},sr=n(84),cr=n.n(sr),lr=function(e,t){for(var n=cr()(t),a=e.length-1;a>0;a--){var r=Math.floor(n()*(a+1)),i=e[a];e[a]=e[r],e[r]=i}return e},ur=function(e,t,n){return{type:"QUIZ_CHALLENGE_COMPLETE",id:e,challengeId:t,challengeCompletedStatus:n}},dr=function(e,t){return{type:"QUIZ_RESET",id:e,quizId:t}},mr=function(e,t,n){return e.models[t].challenges[n].seed},fr=function(e,t,n){return e.models[t].challenges[n].isVerified},pr=n(25),hr=n.n(pr),vr=function(e,t){return e.models[t].kind},br=function(e,t){return e.models[t].completion},gr=function(e,t){return e.models[t].completions},Er=function(e,t){return e.models[t].visits},yr=function(e,t){return e.models[t].otherSections},Or=(Na={},Object(w.a)(Na,"en",{EMPTY_BOOKMARKS:"Table of Contents is empty.",HELP:"Help",FULLSCREEN:"Fullscreen",HELP_INTRO:"You can find helpful information by investigating the model below:",HELP_TITLE:"This is the title. From here you can quickly navigate to other sections and you can consult your activity history.",HELP_SETTINGS:"Changes the font size.",HELP_HELP:"Launches this guide.",HELP_FULLSCREEN:"Toggles fullscreen",HELP_PREV:"Takes you to the previous section.",HELP_NEXT:"Takes you to the next section.",HELP_LAUNCHER_TEXT:"While browsing, you may encounter specially-marked zones. By interacting with these zones, you can discover more information, videos or even games.",HELP_ONCOMPLETE_TEXT:"When an activity has been successfully completed, a checkmark will appear next to it.",SETTINGS:"Preferences",FONT_SIZE_DECREASE:"Decrease font size",FONT_SIZE_INCREASE:"Increase font size",SENTINEL_PAUSED_PROMPT:"The navigation was automatically paused.",SENTINEL_PAUSED_BUTTON:"Continue",SENTINEL_DISCONNECTED_PROMPT:"Your connection has been interrupted.",SENTINEL_DISCONNECTED_BUTTON:"Try to reconnect",SENTINEL_TERMINATED_PROMPT:"Your connection has been closed.<br/>Relaunch the presentation to continue.",QUIZ_VERIFY:"Verify",QUIZ_WRONG:"Your answer is wrong!",QUIZ_SOLVE:"Press here to see the correct answer...",QUIZ_RESULTS:"Results:",QUIZ_RETRY:"Try again",QUIZ_DROPDOWN:"Choose...",DESTINATION_DENIED_CONTENT:"This location has not been unlocked yet...",DESTINATION_SECTION_MISSING:"The referenced section is missing!",DESTINATION_TARGET_MISSING:"The referenced location is missing!",DESTINATION_SECTION_UNAVAILABLE:"This reference leads to another section.<br/>Please use the project-level preview!"}),Object(w.a)(Na,"ro",{EMPTY_BOOKMARKS:"Cuprinsul este gol.",HELP:"Ajutor",FULLSCREEN:"Ecran complet",HELP_INTRO:"Po\u021bi afla informa\u021bii ajut\u0103toare investig\xe2nd modelul de mai jos:",HELP_TITLE:"Acesta este titlul lucr\u0103rii. De aici po\u021bi naviga rapid c\u0103tre alte sec\u021biuni \u0219i po\u021bi vedea istoricul de navigare",HELP_SETTINGS:"De aici po\u021bi schimba dimensiunea textului.",HELP_HELP:"De aici po\u021bi deschide ghidul de utilizare.",HELP_FULLSCREEN:"Comut\u0103 ecranul complet",HELP_PREV:"De aici te po\u021bi \xeentoarce la sec\u021biunea precedent\u0103.",HELP_NEXT:"De aici po\u021bi avansa la sec\u021biunea urm\u0103toare.",HELP_LAUNCHER_TEXT:"Pe parcursul navig\u0103rii vei \xeent\xe2lni zone marcate special. Ap\u0103s\xe2nd pe acestea, ve\u021bi descoperi informa\u021bii \xeen plus, filme sau chiar jocuri.",HELP_ONCOMPLETE_TEXT:"C\xe2nd o activitate a fost completat\u0103 cu succes, va ap\u0103rea o bif\u0103 \xeen titlul ferestrei \u0219i ea poate fi \xeenchis\u0103.",SETTINGS:"Preferin\u021be",FONT_SIZE_DECREASE:"Scade dimensiunea textului",FONT_SIZE_INCREASE:"Cre\u0219te dimensiunea textului",SENTINEL_PAUSED_PROMPT:"Parcurgerea a fost pus\u0103 automat pe pauz\u0103.",SENTINEL_PAUSED_BUTTON:"Continu\u0103",SENTINEL_DISCONNECTED_PROMPT:"Conexiunea a fost \xeentrerupt\u0103.",SENTINEL_DISCONNECTED_BUTTON:"\xcencearc\u0103 reconectarea",SENTINEL_TERMINATED_PROMPT:"Conexiunea a fost \xeenchis\u0103.<br/>Reporni\u021bi prezentarea pentru a continua.",QUIZ_VERIFY:"Verific\u0103",QUIZ_WRONG:"Ai r\u0103spuns gre\u0219it!",QUIZ_SOLVE:"\u021aine ap\u0103sat aici pentru a vedea r\u0103spunsul corect...",QUIZ_RESULTS:"Rezultat:",QUIZ_RETRY:"\xcencearc\u0103 din nou",QUIZ_DROPDOWN:"Alege...",DESTINATION_DENIED_CONTENT:"Aceast\u0103 loca\u021bie nu a fost \xeenc\u0103 deblocat\u0103...",DESTINATION_SECTION_MISSING:"Lipse\u0219te sec\u021biunea referen\u021biat\u0103!",DESTINATION_TARGET_MISSING:"Lipse\u0219te loca\u021bia referen\u021biat\u0103!",DESTINATION_SECTION_UNAVAILABLE:"Destina\u021bia se afl\u0103 \xeen alt\u0103 sec\u021biune.<br/>Folose\u0219te vizualizarea de la nivelul proiectului!"}),Object(w.a)(Na,"pt",{EMPTY_BOOKMARKS:"O conte\xfado est\xe1 vazio.",HELP:"Ajuda",FULLSCREEN:"Ecr\xe3 completo",HELP_INTRO:"Pode saber informa\xe7\xf5es auxiliares investigando o modelo de baixo:",HELP_TITLE:"Isto \xe9 o t\xedtulo da obra. Daqui pode navegar rapidamente para outras se\xe7\xf5es e pode ver o hist\xf3rico de navega\xe7\xe3o",HELP_SETTINGS:"Daqui pode alterar a dimens\xe3o do texto.",HELP_HELP:"Daqui pode abrir a guia de utiliza\xe7\xe3o.",HELP_FULLSCREEN:"Comutar o ecr\xe3 completo",HELP_PREV:"Daqui pode voltar \xe0 se\xe7\xe3o precedente.",HELP_NEXT:"Daqui pode avan\xe7ar \xe0 se\xe7\xe3o seguinte.",HELP_LAUNCHER_TEXT:"Durante a navega\xe7\xe3o, vai encontrar zonas marcadas especialmente. Clicando nestas, vai descobrir mais informa\xe7\xf5es, filmes ou mesmo jogos.",HELP_ONCOMPLETE_TEXT:"Quando uma atividade foi completada com sucesso, vai aparecer uma cruz no t\xedtulo da janela e pode ser fechada.",SETTINGS:"Prefer\xeancias",FONT_SIZE_DECREASE:"Baixar a dimens\xe3o do texto",FONT_SIZE_INCREASE:"Aumentar a dimens\xe3o do texto",SENTINEL_PAUSED_PROMPT:"A navega\xe7\xe3o foi pausada automaticamente.",SENTINEL_PAUSED_BUTTON:"Continuar",SENTINEL_DISCONNECTED_PROMPT:"A conex\xe3o foi interrompida.",SENTINEL_DISCONNECTED_BUTTON:"Tentar a reconex\xe3o",SENTINEL_TERMINATED_PROMPT:"Sua conex\xe3o foi fechada.<br/>Reinicie a apresenta\xe7\xe3o para continuar.",QUIZ_VERIFY:"Verifique",QUIZ_WRONG:"Sua resposta \xe9 errada!",QUIZ_SOLVE:"Clique aqui para ver a resposta correta...",QUIZ_RESULTS:"Resultado:",QUIZ_RETRY:"Tente de novo",QUIZ_DROPDOWN:"Escolha...",DESTINATION_DENIED_CONTENT:"Este local n\xe3o foi ainda desbloqueado...",DESTINATION_SECTION_MISSING:"Falta a se\xe7\xe3o referencial!",DESTINATION_TARGET_MISSING:"Falta o local referencial!",DESTINATION_SECTION_UNAVAILABLE:"A destina\xe7\xe3o encontra-se numa outra se\xe7\xe3o.<br/>Utilize a vizualiza\xe7\xe3o ao n\xedvel do projeto!"}),Object(w.a)(Na,"zh",{EMPTY_BOOKMARKS:"\u76ee\u9304\u7a7a\u767d\u3002",HELP:"\u8aaa\u660e",FULLSCREEN:"\u5168\u87a2\u5e55",HELP_INTRO:"\u60a8\u53ef\u4ee5\u7814\u7a76\u4ee5\u4e0b\u6a21\u578b\uff0c\u7372\u5f97\u5be6\u7528\u8cc7\u8a0a\uff1a",HELP_TITLE:"\u9019\u662f\u6a19\u984c\u3002\u60a8\u53ef\u4ee5\u5f9e\u9019\u88e1\u5feb\u901f\u700f\u89bd\u5176\u4ed6\u7ae0\u7bc0\uff0c\u9084\u53ef\u4ee5\u67e5\u95b1\u6d3b\u52d5\u6b77\u7a0b\u3002",HELP_SETTINGS:"\u8b8a\u66f4\u5b57\u9ad4\u5927\u5c0f\u3002",HELP_HELP:"\u555f\u52d5\u672c\u6307\u5f15\u3002",HELP_FULLSCREEN:"\u5207\u63db\u5168\u87a2\u5e55",HELP_PREV:"\u5230\u4e0a\u4e00\u500b\u7ae0\u7bc0\u3002",HELP_NEXT:"\u5230\u4e0b\u4e00\u500b\u7ae0\u7bc0\u3002",HELP_LAUNCHER_TEXT:"\u5728\u96fb\u5b50\u66f8\u4e2d\uff0c\u60a8\u53ef\u80fd\u6703\u9047\u5230\u5e36\u6709\u7279\u6b8a\u6a19\u8a18\u7684\u5340\u57df\u3002\u8ddf\u9019\u4e9b\u5340\u57df\u9032\u884c\u4e92\u52d5\uff0c\u60a8\u6703\u767c\u73fe\u66f4\u591a\u8cc7\u8a0a\u3001\u5f71\u7247\u751a\u81f3\u904a\u6232\u3002",HELP_ONCOMPLETE_TEXT:"\u6210\u529f\u5b8c\u6210\u4e00\u9805\u6d3b\u52d5\u5f8c\uff0c\u5176\u65c1\u908a\u6703\u51fa\u73fe\u4e00\u500b\u52fe\u9078\u8a18\u865f\u3002",SETTINGS:"\u504f\u597d\u8a2d\u5b9a",FONT_SIZE_DECREASE:"\u7e2e\u5c0f\u5b57\u9ad4",FONT_SIZE_INCREASE:"\u653e\u5927\u5b57\u9ad4",SENTINEL_PAUSED_PROMPT:"\u5bfc\u822a\u5df2\u81ea\u52a8\u6682\u505c\u3002",SENTINEL_PAUSED_BUTTON:"\u7ee7\u7eed",SENTINEL_DISCONNECTED_PROMPT:"\u60a8\u7684\u9023\u7dda\u5df2\u4e2d\u65b7\u3002",SENTINEL_DISCONNECTED_BUTTON:"\u5617\u8a66\u91cd\u65b0\u9023\u7dda",SENTINEL_TERMINATED_PROMPT:"\u60a8\u7684\u9023\u7dda\u5df2\u95dc\u9589\u3002<br/>\u91cd\u65b0\u542f\u52a8\u6f14\u793a\u6587\u7a3f\u4ee5\u7ee7\u7eed\u3002",QUIZ_VERIFY:"\u9a57\u8b49",QUIZ_WRONG:"\u60a8\u7684\u7b54\u6848\u4e0d\u6b63\u78ba\uff01",QUIZ_SOLVE:"\u6309\u6b64\u8655\u67e5\u770b\u6b63\u78ba\u7b54\u6848...",QUIZ_RESULTS:"\u7d50\u679c\uff1a",QUIZ_RETRY:"\u518d\u8a66\u4e00\u6b21",QUIZ_DROPDOWN:"\u9078\u64c7...",DESTINATION_DENIED_CONTENT:"This location has not been unlocked yet...",DESTINATION_SECTION_MISSING:"The referenced section is missing!",DESTINATION_TARGET_MISSING:"The referenced location is missing!",DESTINATION_SECTION_UNAVAILABLE:"This reference leads to another section.<br/>Please use the project-level preview!"}),Object(w.a)(Na,"ko",{EMPTY_BOOKMARKS:"\ubaa9\ucc28\uac00 \ube44\uc5b4 \uc788\uc2b5\ub2c8\ub2e4.",HELP:"\ub3c4\uc6c0\ub9d0",FULLSCREEN:"\uc804\uccb4 \ud654\uba74 \ucc3d",HELP_INTRO:"\uc544\ub798 \uc608\uc81c\ub97c \ucc38\uc870\ud558\uc5ec \uc720\uc6a9\ud55c \uc815\ubcf4\ub97c \ucc3e\uc744 \uc218 \uc788\uc2b5\ub2c8\ub2e4.",HELP_TITLE:"\uc5ec\uae30\ub294 \uc81c\ubaa9\uc785\ub2c8\ub2e4. \uc5ec\uae30\uc5d0\uc11c \ub2e4\ub978 \uc139\uc158\uc73c\ub85c \ube60\ub974\uac8c \uc774\ub3d9\ud560 \uc218 \uc788\uc73c\uba70 \ud65c\ub3d9 \uae30\ub85d\uc744 \ud655\uc778\ud560 \uc218 \uc788\uc2b5\ub2c8\ub2e4.",HELP_SETTINGS:" \uae00\uc790 \ud06c\uae30\ub97c \uc218\uc815",HELP_HELP:"\ud604\uc7ac \uc548\ub0b4\uc11c\ub97c \uc2dc\uc791\ud569\ub2c8\ub2e4.",HELP_FULLSCREEN:"\uc804\uccb4 \ud654\uba74 \ubaa8\ub4dc\ub85c \uc804\ud658\ud569\ub2c8\ub2e4.",HELP_PREV:"\uc774\uc804 \uc139\uc158\uc73c\ub85c \uc774\ub3d9\ud569\ub2c8\ub2e4.",HELP_NEXT:"\ub2e4\uc74c \uc139\uc158\uc73c\ub85c \uc774\ub3d9\ud569\ub2c8\ub2e4.",HELP_LAUNCHER_TEXT:"\ud0d0\uc0c9\ud558\ub294 \ub3d9\uc548 \ud2b9\ubcc4\ud788 \ud45c\uc2dc\ub41c \uc601\uc5ed\uc774 \ub098\ud0c0\ub0a0 \uc218 \uc788\uc2b5\ub2c8\ub2e4. \uc774 \uc601\uc5ed\uc5d0 \ud074\ub9ad\ud558\uba74 \ub354 \ub9ce\uc740 \uc815\ubcf4, \ube44\ub514\uc624 \ub610\ub294 \uac8c\uc784\uc744 \ubc1c\uacac \ud560 \uc218 \uc788\uc2b5\ub2c8\ub2e4.",HELP_ONCOMPLETE_TEXT:"\ud65c\ub3d9\uc774 \uc131\uacf5\uc801\uc73c\ub85c \uc644\ub8cc\ub418\uba74 \uc606\uc5d0 \uccb4\ud06c \ud45c\uc2dc\uac00 \ub098\ud0c0\ub0a9\ub2c8\ub2e4.",SETTINGS:"\ud658\uacbd\uc124\uc815 ",FONT_SIZE_DECREASE:"\uae00\uc790 \ud06c\uae30\ub97c \uc99d\uac00\uc2dc\ud0a4\ub2e4",FONT_SIZE_INCREASE:"\uae00\uc790 \ud06c\uae30\ub97c \uac10\uc18c\uc2dc\ud0a4\ub2e4",SENTINEL_PAUSED_PROMPT:"\uc5f0\uacb0\uc774 \uc911\ub2e8\ub418\uc5c8\uc2b5\ub2c8\ub2e4.",SENTINEL_PAUSED_BUTTON:"\uac15\uc88c\ub97c \uc7ac\uac1c",SENTINEL_DISCONNECTED_PROMPT:"\uc5f0\uacb0\uc774 \uc911\ub2e8\ub418\uc5c8\uc2b5\ub2c8\ub2e4.",SENTINEL_DISCONNECTED_BUTTON:"\ub2e4\uc2dc \uc5f0\uacb0\ud574\ubcf4\uc2ed\uc2dc\uc624",SENTINEL_TERMINATED_PROMPT:"\uc5f0\uacb0\uc774 \uc885\ub8cc\ub418\uc5c8\uc2b5\ub2c8\ub2e4.<br/>\ub2e4\uc2dc \uc2dc\uc791\ud558\uc2ed\uc2dc\uc624.",QUIZ_VERIFY:" \ud655\uc778",QUIZ_WRONG:" \ud68c\uc2e0\uc740 \uc798\ubabb\ud574\uc694",QUIZ_SOLVE:" \uc815\ub2f5\uc744 \ubcf4\ub85c \uc5ec\uae30\ub97c \ud074\ub9ad\ud558\uc2ed\uc2dc\uc624 ",QUIZ_RESULTS:" \uacb0\uacfc:",QUIZ_RETRY:" \ub2e4\uc2dc \uc2dc\ub3c4",QUIZ_DROPDOWN:" \u2026 \uc120\ud0dd\ud574\uc694",DESTINATION_DENIED_CONTENT:"\uc774 \uc704\uce58\ub294 \uc544\uc9c1 \uc7a0\uae08 \ud574\uc81c\ub418\uc9c0 \uc54a\uc558\uc2b5\ub2c8\ub2e4 ..",DESTINATION_SECTION_MISSING:"  \ucc38\uc870\ub41c \uc139\uc158\uc774 \ucc3e\uc744\uc218 \uc5c6\uc2b5\ub2c8\ub2e4!",DESTINATION_TARGET_MISSING:"\ucc38\uc870\ub41c \uc139\uc158\uc774 \ucc3e\uc744\uc218 \uc5c6\uc2b5\ub2c8\ub2e4!",DESTINATION_SECTION_UNAVAILABLE:"\uc774 \ucc38\uc870\ub294 \ub2e4\ub978 \uc139\uc158\uc73c\ub85c \uc774\uc5b4\uc9d1\ub2c8\ub2e4.<br/>\ud504\ub85c\uc81d\ud2b8 \ub808\ubca8 \ubbf8\ub9ac\ubcf4\uae30\ub97c \uc0ac\uc6a9\ud558\uc2ed\uc2dc\uc624!"}),Object(w.a)(Na,"ar",{EMPTY_BOOKMARKS:" \u0627\u0644\u0645\u0636\u0645\u0648\u0646 \u0641\u0627\u0631\u063a ",HELP:" \u0645\u0633\u0627\u0639\u062f\u0629 ",FULLSCREEN:" \u0634\u0627\u0634\u0629 \u0643\u0627\u0645\u0644\u0629 ",HELP_INTRO:" \u064a\u0645\u0643\u0646\u0643 \u0645\u0639\u0631\u0641\u0629 \u0645\u0639\u0644\u0648\u0645\u0627\u062a \u0645\u0633\u0627\u0639\u062f\u0629 \u0645\u062a\u062d\u0631\u064a\u0627\u064b \u0627\u0644\u0646\u0645\u0648\u0630\u062c \u0623\u062f\u0646\u0627\u0647: ",HELP_TITLE:" \u0647\u0630\u0627 \u0647\u0648 \u0639\u0646\u0648\u0627\u0646 \u0627\u0644\u0645\u0634\u0631\u0648\u0639. \u0645\u0646 \u0647\u0646\u0627 \u064a\u0645\u0643\u0646\u0643 \u0627\u0644\u062a\u0635\u0641\u062d \u0627\u0644\u0633\u0631\u064a\u0639 \u0646\u062d\u0648 \u0623\u0642\u0633\u0627\u0645 \u0623\u062e\u0631\u0649 \u0648\u064a\u0645\u0643\u0646\u0643 \u0645\u0634\u0627\u0647\u062f\u0629 \u062a\u0627\u0631\u064a\u062e \u0627\u0644\u062a\u0635\u0641\u062d. ",HELP_SETTINGS:" \u0645\u0646 \u0647\u0646\u0627 \u064a\u0645\u0643\u0646\u0643 \u062a\u063a\u064a\u064a\u0631 \u062d\u062c\u0645 \u0627\u0644\u0646\u0635. ",HELP_HELP:" \u0645\u0646 \u0647\u0646\u0627 \u064a\u0645\u0643\u0646\u0643 \u0641\u062a\u062d \u062f\u0644\u064a\u0644 \u0627\u0644\u0627\u0633\u062a\u062e\u062f\u0627\u0645 ",HELP_FULLSCREEN:" \u062a\u0628\u062f\u064a\u0644 \u0627\u0644\u0634\u0627\u0634\u0629 \u0627\u0644\u0643\u0627\u0645\u0644\u0629 ",HELP_PREV:" \u0645\u0646 \u0647\u0646\u0627 \u064a\u0645\u0643\u0646\u0643 \u0627\u0644\u0631\u062c\u0648\u0639 \u0644\u0644\u0642\u0633\u0645 \u0627\u0644\u0633\u0627\u0628\u0642. ",HELP_NEXT:" \u0645\u0646 \u0647\u0646\u0627 \u064a\u0645\u0643\u0646\u0643 \u0627\u0644\u062a\u0648\u062c\u0647 \u0625\u0644\u0649 \u0627\u0644\u0642\u0633\u0645 \u0627\u0644\u062a\u0627\u0644\u064a. ",HELP_LAUNCHER_TEXT:" \u0637\u0648\u0627\u0644 \u0641\u062a\u0631\u0629 \u0627\u0644\u062a\u0635\u0641\u062d \u0633\u0648\u0641 \u062a\u0648\u0627\u062c\u0647\u0643 \u0645\u0646\u0627\u0637\u0642 \u0645\u0631\u0645\u0648\u0632\u0629. \u0646\u0627\u0642\u0631\u0627\u064b \u0639\u0644\u064a\u0647\u0627\u060c \u0633\u062a\u0643\u062a\u0634\u0641 \u0645\u0639\u0644\u0648\u0645\u0627\u062a \u0625\u0636\u0627\u0641\u064a\u0629\u060c \u0623\u0641\u0644\u0627\u0645 \u0623\u0648 \u062d\u062a\u0649 \u0623\u0644\u0639\u0627\u0628. ",HELP_ONCOMPLETE_TEXT:" \u0639\u0646\u062f\u0645\u0627 \u064a\u062a\u0645 \u062a\u0639\u0628\u0626\u0629 \u0639\u0645\u0644\u064a\u0629 \u0628\u0646\u062c\u0627\u062d\u060c \u0633\u064a\u0638\u0647\u0631 \u0632\u0631 \u0646\u0627\u0642\u0631 \u0641\u064a \u0639\u0646\u0627\u0648\u0646 \u0627\u0644\u0646\u0627\u0641\u0630\u0629 \u0648\u064a\u0645\u0643\u0646 \u063a\u0644\u0642\u0647\u0627. ",SETTINGS:" \u062a\u0641\u0636\u064a\u0644\u0627\u062a ",FONT_SIZE_DECREASE:" \u0623\u062e\u0641\u0636 \u062d\u062c\u0645 \u0627\u0644\u0646\u0635 ",FONT_SIZE_INCREASE:" \u0632\u064a\u0627\u062f\u0629 \u062d\u062c\u0645 \u0627\u0644\u0646\u0635 ",SENTINEL_PAUSED_PROMPT:" \u0627\u0644\u0645\u062d\u0627\u0636\u0631\u0629 \u0648\u0636\u0639\u062a \u0639\u0644\u0649 \u0627\u0644\u062a\u0648\u0642\u0641. ",SENTINEL_PAUSED_BUTTON:" \u0627\u0633\u062a\u0645\u0631 \u0641\u064a \u0627\u0644\u0645\u062d\u0627\u0636\u0631\u0629 ",SENTINEL_DISCONNECTED_PROMPT:" \u0627\u0644\u0627\u062a\u0635\u0627\u0644 \u062a\u0645 \u0642\u0637\u0639\u0647 ",SENTINEL_DISCONNECTED_BUTTON:" \u062d\u0627\u0648\u0644 \u0625\u0639\u0627\u062f\u0629 \u0627\u0644\u0625\u062a\u0635\u0627\u0644 ",SENTINEL_TERMINATED_PROMPT:" \u0627\u0644\u0625\u062a\u0635\u0627\u0644 \u062a\u0645 \u063a\u0644\u0642\u0647.<br/>\u0646\u0631\u062c\u0648\u0627 \u0623\u0646 \u062a\u0628\u062f\u0623 \u0627\u0644\u0645\u062d\u0627\u0636\u0631\u0629 \u0645\u0646 \u062c\u062f\u064a\u062f. ",QUIZ_VERIFY:" \u062a\u0623\u0643\u062f ",QUIZ_WRONG:" \u0623\u062c\u0628\u062a \u0625\u062c\u0627\u0628\u0629 \u062e\u0627\u0637\u0626\u0629! ",QUIZ_SOLVE:" \u0625\u0636\u063a\u0637 \u0647\u0646\u0627 \u0644\u0645\u0634\u0627\u0647\u062f\u0629 \u0627\u0644\u062c\u0648\u0627\u0628 \u0627\u0644\u0635\u062d\u064a\u062d... ",QUIZ_RESULTS:" \u0627\u0644\u0646\u0627\u062a\u062c: ",QUIZ_RETRY:" \u062d\u0627\u0645\u0644 \u0645\u0646 \u062c\u062f\u064a\u062f ",QUIZ_DROPDOWN:" \u0625\u062e\u062a\u0627\u0631... ",DESTINATION_DENIED_CONTENT:" \u0647\u0630\u0627 \u0627\u0644\u0645\u0643\u0627\u0646 \u0644\u0645 \u064a\u062a\u0645 \u0641\u062a\u062d\u0647 \u0628\u0639\u062f... ",DESTINATION_SECTION_MISSING:" \u0627\u0644\u0642\u0633\u0645 \u063a\u064a\u0631 \u0645\u0648\u062c\u0648\u062f! ",DESTINATION_TARGET_MISSING:" \u0627\u0644\u0642\u0633\u0645 \u063a\u064a\u0631 \u0645\u0648\u062c\u0648\u062f!",DESTINATION_SECTION_UNAVAILABLE:" \u0627\u0644\u0647\u062f\u0641 \u0645\u062a\u0648\u0627\u062c\u062f \u0641\u064a \u0642\u0633\u0645 \u0622\u062e\u0631<br/>\u0627\u0633\u062a\u062e\u062f\u0645 \u0645\u0634\u0627\u0647\u062f\u0629 \u0645\u0646 \u0645\u0631\u062d\u0644\u0629 \u0627\u0644\u0645\u0634\u0631\u0648\u0639! "}),Na),Sr=function(e,t){var n=function(e,t){return e.models[t].uiLanguage}(e,function(e,t){return e.models[t].topId}(e,t));return Or[n]},wr={root:{marginTop:12,position:"relative",width:35,height:24,pointerEvents:"none",opacity:0,display:"inline-block",animationDuration:"1500ms",animationTimingFunction:"ease",animationFillMode:"forwards",animationDelay:"500ms",color:"#4caf50","&::after":{content:'""',position:"absolute",left:"50%",top:"50%",marginLeft:-17,height:30,width:15,transformOrigin:"left top",transform:"scaleX(-1) rotate(135deg)",border:"2px solid currentColor",borderLeft:0,borderBottom:0,animationDuration:"1500ms",animationTimingFunction:"ease",animationFillMode:"forwards",animationDelay:"500ms"}},isVisible:{animationName:"tickAnimation","&::after":{animationName:"tickPseudoAnimation"}},isVisibleInstant:{opacity:1},"@keyframes tickAnimation":{"0%":{opacity:1},"100%":{opacity:1}},"@keyframes tickPseudoAnimation":{"0%":{height:0,width:0},"20%":{height:0,width:15},"40%":{height:30,width:15},"80%":{height:30,width:15},"100%":{height:30,width:15}}},Ir=function(e){function t(){var e,n;Object(g.a)(this,t);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(n=Object(y.a)(this,(e=Object(O.a)(t)).call.apply(e,[this].concat(r)))).isFirstTime=!0,n}return Object(S.a)(t,e),Object(E.a)(t,[{key:"render",value:function(){var e=this.props,t=e.classes,n=e.className,a=e.isVisible;return l.a.createElement("div",{className:Object(W.a)(n,t.root,a&&(this.isFirstTime?t.isVisibleInstant:t.isVisible)),ref:this.ref})}},{key:"componentDidMount",value:function(){this.isFirstTime=!1}}]),t}(l.a.PureComponent),Tr=N()(wr)(Ir),jr=function(){window.focus(),document.activeElement&&document.activeElement.blur(),document.body.focus(),window.getSelection().removeAllRanges()},Nr=function(e){function t(){var e,n;Object(g.a)(this,t);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(n=Object(y.a)(this,(e=Object(O.a)(t)).call.apply(e,[this].concat(r)))).isSolving=!1,n.onSolvePointerDown=function(){n.isSolving=!0,n.props.onSolve(),window.addEventListener("pointerup",n.onWindowPointerUp)},n.onWindowPointerUp=function(){n.isSolving=!1,n.props.onRestore(),jr()},n}return Object(S.a)(t,e),Object(E.a)(t,[{key:"render",value:function(){var e=this.props,t=e.classes,n=e.slang,a=e.isAnswered,r=e.isVerified,i=e.isCorrect,o=e.onVerify,s=!this.isSolving&&i;return l.a.createElement("div",{className:t.root},l.a.createElement("div",{className:Object(W.a)(t.cell,t.cellVerify,!r&&t.cellVisible)},l.a.createElement(hr.a,{className:t.verify,color:"primary",variant:"contained",disabled:!a,onClick:o},n.QUIZ_VERIFY)),l.a.createElement("div",{className:Object(W.a)(t.cell,t.cellTick,r&&s&&t.cellVisible)},l.a.createElement(Tr,{isVisible:r&&s})),l.a.createElement("div",{className:Object(W.a)(t.cell,t.cellSolve,r&&!s&&t.cellVisible)},l.a.createElement(Ot.a,{title:n.QUIZ_SOLVE},l.a.createElement(hr.a,{color:"primary",variant:"outlined",onPointerDown:this.onSolvePointerDown},n.QUIZ_WRONG))))}},{key:"componentWillUnmount",value:function(){window.removeEventListener("pointerup",this.onWindowPointerUp)}}]),t}(l.a.PureComponent),kr=Object(T.b)(function(e,t){var n=t.quizId;return{slang:Sr(e,n)}})(N()({root:{margin:"auto",marginTop:32,height:40,position:"relative",width:"100%"},cell:{position:"absolute",width:"100%",top:0,left:0,textAlign:"center",opacity:0,visibility:"hidden"},cellVerify:{transitionProperty:"opacity, visibility",transitionDuration:"500ms"},cellTick:{transitionProperty:"opacity, visibility",transitionDuration:"500ms",transitionDelay:"500ms"},cellSolve:{transform:"translateY(-24px)",transitionProperty:"opacity, visibility, transform",transitionDuration:"500ms",transitionDelay:"500ms"},cellVisible:{opacity:1,visibility:"visible",transform:"none"},verify:{paddingLeft:32,paddingRight:32}})(Nr)),Cr=function(e,t){return{type:"QUIZ_CHALLENGE_VERIFY",id:e,challengeId:t}},_r=(ka={root:{margin:"auto",padding:16,overflow:"hidden",width:"100%",display:"flex",flexDirection:"column",justifyContent:"center",position:"relative"},title:{textAlign:"center"},battlefield:{marginTop:16,display:"flex",justifyContent:"center",alignItems:"center"},article:{textAlign:"center"},bunker:{display:"inline-block",verticalAlign:"middle",minWidth:48,minHeight:34,border:"solid 1px #fff",borderRadius:4,boxShadow:"inset 0px 0px 3px 0px rgba(0,0,0,0.75)","& $soldier":{margin:0}},garrison:{display:"flex",flexDirection:"row",flexWrap:"wrap",justifyContent:"center",alignItems:"center"},room:{display:"inline-block",overflow:"hidden"},soldiers:{display:"none"},soldier:{},hiddenSoldier:{display:"none"},decoy:{position:"absolute",left:0,top:0,margin:0,visibility:"hidden",pointerEvents:"none"}},Object(w.a)(ka,"bottom",{"& $battlefield":{flexDirection:"column"},"& $garrison":{marginTop:16}}),Object(w.a)(ka,"top",{"& $battlefield":{flexDirection:"column"},"& $garrison":{order:-1,marginBottom:16}}),Object(w.a)(ka,"left",{"& $battlefield":{flexDirection:"row"},"& $garrison":{order:-1,marginRight:16}}),Object(w.a)(ka,"right",{"& $battlefield":{flexDirection:"row"},"& $garrison":{marginLeft:16}}),ka),Lr=/{([\d,]+)}/g,Rr=function(e){function t(){var e,n;Object(g.a)(this,t);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(n=Object(y.a)(this,(e=Object(O.a)(t)).call.apply(e,[this].concat(r)))).rootRef=l.a.createRef(),n.animatingElements=[],n.currentCorrects=null,n.state={isSolved:!1},n.releaseSoldiers=function(){var e=n.rootRef.current,t=n.props.classes,a=nr(".".concat(t.soldiers),e)[0],r=nr(".".concat(t.soldier),e),i=!0,o=!1,s=void 0;try{for(var c,l=r[Symbol.iterator]();!(i=(c=l.next()).done);i=!0){var u=c.value;a.appendChild(u)}}catch(d){o=!0,s=d}finally{try{i||null==l.return||l.return()}finally{if(o)throw s}}},n.distributeSoldiers=function(){var e,t,a,r=arguments.length>0&&void 0!==arguments[0]&&arguments[0],i=n.props.classes,o=n.rootRef.current,s=nr(".".concat(i.soldier),o),c=nr(".".concat(i.bunker),o),l=nr(".".concat(i.room),o);r||(e=tr(s),t=tr(c),a=tr(l));var u=!0,d=!1,m=void 0;try{for(var f,p=s[Symbol.iterator]();!(u=(f=p.next()).done);u=!0){var h=f.value,v=h.dataset.uid,b=n.metas[v].bunkerIndex;if(-1===b)nr(".".concat(i.room,"[data-uid=").concat(v,"]"),o)[0].appendChild(h);else c[b].appendChild(h)}}catch(O){d=!0,m=O}finally{try{u||null==p.return||p.return()}finally{if(d)throw m}}if(!r){var g=tr(s),E=tr(c),y=tr(l);n.animateDecoys(s,e,g),n.animateBunkers(c,t,E),n.animateBunkers(l,a,y)}},n.animateDecoys=function(e,t,a){for(var r=n.props.classes,i=n.rootRef.current,o=n.rootRef.current.getBoundingClientRect(),s=e.length-1;s>=0;s--){var c=e[s],l=c.dataset.uid,u=nr(".".concat(r.decoy,"[data-uid=").concat(l,"]"),i)[0],d=Boolean(u.style.transform),m=d?u.getBoundingClientRect():t[s],f=a[s];if(JSON.stringify(m)!==JSON.stringify(f)){var p=Ja(m,-o.left,-o.top),h=Ja(f,-o.left,-o.top),v=l!==n.recentSinglyUid||d?"":"opacity:0;";n.animateElement(u,"\n                    visibility: visible;\n                    ".concat(v,"\n                    transform: translate(").concat(p.left,"px,").concat(p.top,"px);\n                    width: ").concat(p.width,"px;\n                    height: ").concat(p.height,"px;"),"\n                    visibility: visible;\n                    transform: translate(".concat(h.left,"px,").concat(h.top,"px);\n                    width: ").concat(h.width,"px;\n                    height: ").concat(h.height,"px;")),c.style.visibility="hidden"}}},n.animateBunkers=function(e,t,a){for(var r=e.length-1;r>=0;r--){var i=e[r],o=t[r],s=a[r];o.width===s.width&&o.height===s.height||n.animateElement(i,"width: ".concat(o.width,"px; height: ").concat(o.height,"px;"),"width: ".concat(s.width,"px; height: ").concat(s.height,"px;"))}},n.animateElement=function(e,t,a){e.style.cssText=t,e.getBoundingClientRect(),e.style.cssText="\n            transition-duration: 500ms;\n            transition-property: transform,width,height,opacity;\n            ".concat(a,"\n        "),e.addEventListener("transitionend",n.onAnyTransitionEnd),n.animatingElements.push(e)},n.onAnyTransitionEnd=function(e){var t=e.propertyName;"transform"!==t&&"width"!==t&&"height"!==t||n.removeAllAnimations()},n.removeAllAnimations=function(){var e=n.props.classes,t=!0,a=!1,r=void 0;try{for(var i,o=n.animatingElements[Symbol.iterator]();!(t=(i=o.next()).done);t=!0){var s=i.value;s.removeEventListener("transitionend",n.onAnyTransitionEnd),s.removeAttribute("style")}}catch(p){a=!0,r=p}finally{try{t||null==o.return||o.return()}finally{if(a)throw r}}n.animatingElements=[];var c=nr(".".concat(e.soldier),n.rootRef.current),l=!0,u=!1,d=void 0;try{for(var m,f=c[Symbol.iterator]();!(l=(m=f.next()).done);l=!0){m.value.removeAttribute("style")}}catch(p){u=!0,d=p}finally{try{l||null==f.return||f.return()}finally{if(u)throw d}}},n.onPointerDown=function(){n.animatingElements.length&&n.removeAllAnimations()},n.onDrop=function(e,t){if(null!==t)if(t!==n.metas[e].bunkerIndex){var a=n.props,r=a.dispatch,i=a.quizId,o=a.uid;r(or(i,o,e,t))}else n.distributeSoldiers();else n.distributeSoldiers()},n.onVerify=function(){var e=n.props,t=e.quizId,a=e.uid;(0,e.dispatch)(Cr(t,a))},n.onSolve=function(){n.setState({isSolved:!0})},n.onRestore=function(){n.setState({isSolved:!1})},n.memoRecentSinglyUid=Object(I.a)(function(e,t){if(e)for(var n in e)if(!0===e[n]&&!1===t[n])return n}),n.memoCorrects=Object(I.a)(function(e,t){for(var n=[];;){var a=Lr.exec(e);if(!a)break;var r=Object(F.invert)(a[1].split(","));delete r[""];var i=[],o={};for(var s in r){var c=t[Number(s)-1];if(c){var l=!0,u=!1,d=void 0;try{for(var m,f=t[Symbol.iterator]();!(l=(m=f.next()).done);l=!0){var p=m.value,h=p.uid;p.text!==c.text||o[h]||(i.push(h),o[h]=!0)}}catch(v){u=!0,d=v}finally{try{l||null==f.return||f.return()}finally{if(u)throw d}}}}n.push(i)}return n}),n.memoMetas=Object(I.a)(function(e,t,n,a,r){var i=Object(F.invert)(t),o={},s=0,c=!0,l=!1,u=void 0;try{for(var d,m=e[Symbol.iterator]();!(c=(d=m.next()).done);c=!0){var f=d.value.uid,p=!1,h=!1,v=!1,b=f in i?Number(i[f]):-1;a&&!r||f in i&&(n[b].includes(f)?(p=!0,v=!0,s++):h=!0),o[f]={bunkerIndex:b,isGood:p,isBad:h,isDisabled:v}}}catch(y){l=!0,u=y}finally{try{c||null==m.return||m.return()}finally{if(l)throw u}}if(a){if(r)for(var g in o)o[g].isDisabled=!0}else if(s===n.length)for(var E in o)o[E].isDisabled=!0;return o}),n.memoSolvedAnswers=Object(I.a)(function(e){for(var t={},n=0;n<e.length;n++){var a=e[n];t[n]=a[0]}return t}),n.memoRepairedArticle=Object(I.a)(function(e,t){return e.replace(Lr,'<span class="'.concat(t.bunker,'"></span>'))}),n.memoGarrison=Object(I.a)(function(e,t,n){var a=[],r=!0,i=!1,o=void 0;try{for(var s,c=e[Symbol.iterator]();!(r=(s=c.next()).done);r=!0){var l=s.value.uid;a.push(l)}}catch(u){i=!0,o=u}finally{try{r||null==c.return||c.return()}finally{if(i)throw o}}return t&&lr(a,n),a}),n.memoHiddenSoldiers=Object(I.a)(function(e,t,n,a,r){if(!a)return{};var i={},o=!0,s=!1,c=void 0;try{for(var l,u=e[Symbol.iterator]();!(o=(l=u.next()).done);o=!0){i[l.value]=!0}}catch(g){s=!0,c=g}finally{try{o||null==u.return||u.return()}finally{if(s)throw c}}var d=!0,m=!1,f=void 0;try{for(var p,h=e[Symbol.iterator]();!(d=(p=h.next()).done);d=!0){var v=p.value;if(i[v]=!1,!r){var b=t[v];if(b.isBad||b.bunkerIndex<0)break}}}catch(g){m=!0,f=g}finally{try{d||null==h.return||h.return()}finally{if(m)throw f}}return i}),n.memoIsCorrect=Object(I.a)(function(e,t){for(var n=0;n<e.length;n++){var a=t[n];if(!e[n].includes(a))return!1}return!0}),n}return Object(S.a)(t,e),Object(E.a)(t,[{key:"render",value:function(){var e=this,t=this.props,n=t.classes,a=t.title,r=t.article,i=t.options,o=t.answers,s=t.shuffled,c=t.seed,u=t.layout,d=t.singly,m=t.evaluation,f=t.isVerified,p=t.quizId,h=this.memoCorrects(r,i),v=this.state.isSolved?this.memoSolvedAnswers(h):o,b=this.metas=this.memoMetas(i,v,h,m,f),g=this.garrison=this.memoGarrison(i,s,c),E=this.memoRepairedArticle(r,n),y=this.memoHiddenSoldiers(g,b,h,d,f);return this.recentSinglyUid=this.memoRecentSinglyUid(this.hiddenSoldiers,y),this.hiddenSoldiers=y,l.a.createElement("div",{className:Object(W.a)(n.root,n[u]),ref:this.rootRef,onPointerDown:this.onPointerDown},l.a.createElement(St,{className:n.title,html:a}),l.a.createElement("div",{className:n.battlefield},l.a.createElement(St,{className:n.article,html:E}),l.a.createElement("div",{className:n.garrison},g.map(function(e){return l.a.createElement("div",{key:e,className:n.room,"data-uid":e})}))),l.a.createElement("div",{className:n.soldiers},i.map(function(t){var a=t.uid,r=t.text;return l.a.createElement(ir,{key:a,className:Object(W.a)(n.soldier,y[a]&&n.hiddenSoldier),uid:a,label:r,isGood:b[a].isGood,isBad:b[a].isBad,isDisabled:b[a].isDisabled,contextRef:e.rootRef,decoyClass:n.decoy,bunkerClass:n.bunker,bunkerIndex:b[a].bunkerIndex,onDrop:e.onDrop})})),l.a.createElement("div",null,i.map(function(e){var t=e.uid,a=e.text;return l.a.createElement(ir,{key:t,className:n.decoy,uid:t,label:a,isGood:b[t].isGood,isBad:b[t].isBad,isDisabled:b[t].isDisabled})})),m&&l.a.createElement(kr,{isAnswered:!Object(F.isEmpty)(o),isVerified:f,isCorrect:this.memoIsCorrect(h,o),quizId:p,onVerify:this.onVerify,onSolve:this.onSolve,onRestore:this.onRestore}))}},{key:"componentDidMount",value:function(){this.distributeSoldiers(!0),this.currentCorrects=this.memoCorrects(this.props.article,this.props.options)}},{key:"getSnapshotBeforeUpdate",value:function(e,t){var n=this.props,a=n.article,r=n.options,i=this.memoCorrects(a,r);return i!==this.currentCorrects&&(this.releaseSoldiers(),this.currentCorrects=i),null}},{key:"componentDidUpdate",value:function(e,t,n){this.distributeSoldiers();var a=this.props,r=a.article,i=a.options,o=a.answers,s=a.dispatch,c=a.quizId,l=a.uid,u=a.evaluation,d=a.isVerified;if(u){if(!e.isVerified&&d){var m=this.memoCorrects(r,i),f=this.memoIsCorrect(m,o)?Mt:2;s(ur(c,l,f))}}else if(e.answers!==o){var p=this.memoCorrects(r,i);this.memoIsCorrect(p,o)&&s(ur(c,l,Mt))}}},{key:"componentWillUnmount",value:function(){this.removeAllAnimations()}}]),t}(l.a.PureComponent),xr=Object(T.b)(function(e,t){var n=t.quizId,a=t.uid;return{answers:Ga(e,n,a),seed:mr(e,n,a),isVerified:fr(e,n,a)}})(N()(_r)(Rr)),Dr=Pn({answers:xn(ta,(Ca={},Object(w.a)(Ca,"MODEL_CHALLENGE_RESUME",function(e,t){var n=t.suspendedChallenge,a=t.db,r=t.quizId,i=t.challengeIndex;if(n.hasOwnProperty("answers")){var o=n.answers;if(na(o)){var s=Wa(Zn(a,r,i),"uid"),c=(Qn(a,r,i).match(Lr)||[]).length-1;for(var l in o){var u=o[l];if(u in s){var d=parseInt(l);d<0||isNaN(d)||d>c?console.warn("Invalid bunker number!",l):e[l]=u}else console.warn("Unrecognized option!",u)}}else console.warn("`answers` should be a simple object!")}}),Object(w.a)(Ca,"QUIZ_DND_DROP",function(e,t){var n=t.soldierUid,a=t.bunkerIndex,r=-1;for(var i in e)if(e[i]===n){r=Number(i);break}if(a>=0)if(r>=0){if(r!==a)if(a in e){var o=e[a];e[a]=n,e[r]=o}else e[a]=n,delete e[r]}else e[a]=n;else r>=0&&delete e[r]}),Object(w.a)(Ca,"QUIZ_RESET",ta),Ca),"models/quiz/quizDnd.answers"),seed:Ua,mode:za,isVerified:Ha}),Pr=n(61),Ar=function(e,t,n){return e.models[t].challenges[n].answers},Mr=function(e,t,n,a){return{type:"QUIZ_DROPDOWN_SELECT",id:e,challengeId:t,bunkerIndex:n,weaponUid:a}},Br=n(177),Ur=n.n(Br),zr=n(178),Hr=n.n(zr),Wr=n(180),Fr=n.n(Wr),Gr=n(179),Vr=n.n(Gr),Zr=function(e){function t(){var e,n;Object(g.a)(this,t);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(n=Object(y.a)(this,(e=Object(O.a)(t)).call.apply(e,[this].concat(r)))).onChange=function(e){var t=n.props,a=t.bunkerIndex,r=t.onChange;e.stopPropagation(),e.preventDefault(),r(a,e.target.value)},n}return Object(S.a)(t,e),Object(E.a)(t,[{key:"render",value:function(){var e,t=this.props,n=t.classes,a=t.className,r=t.bunkerIndex,i=t.variants,o=t.value,s=t.isGood,c=t.isBad,u=t.isDisabled,d=t.slang;return e=s?Ya.a:c?Xa.a:Ur.a,l.a.createElement(Hr.a,{"data-index":r,className:Object(W.a)(a,n.root,s&&n.good,c&&n.bad,u&&n.disabled),variant:"outlined",classes:{select:n.selectOverride,icon:n.iconOverride},inputProps:{className:n.input},value:o,onChange:this.onChange,displayEmpty:!0,renderValue:o?null:function(){return d.QUIZ_DROPDOWN},IconComponent:e,input:l.a.createElement(Vr.a,{labelWidth:0})},i.map(function(e){var t=e.uid,a=e.text;return l.a.createElement(Fr.a,{key:t,value:t,className:n.weapon},l.a.createElement(St,{className:Object(W.a)(n.label),html:a}))}))}}]),t}(l.a.PureComponent),Qr=N()(function(e){return{root:{margin:4,textAlign:"center",paddingLeft:4,paddingRight:4,borderRadius:4,transition:"background-color 200ms",fontSize:e.typography.fontSize},selectOverride:{padding:6,paddingRight:20,whiteSpace:"normal"},iconOverride:{"$good &, $bad &":{color:"#fff"}},disabled:{pointerEvents:"none",background:"#808080"},good:{background:"#01a901","& fieldset":{borderColor:"transparent !important"}},bad:{background:"#e61818","&:hover":{background:Object(Va.darken)("#e61818",.25)},"& fieldset":{borderColor:"transparent !important"}},label:{paddingRight:8,"$good &, $bad &":{color:"#fff"}},weapon:{whiteSpace:"normal",height:"auto",fontSize:e.typography.fontSize}}})(Zr),qr=/{([\d]+)}/g,Yr=function(e){function t(){var e,n;Object(g.a)(this,t);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(n=Object(y.a)(this,(e=Object(O.a)(t)).call.apply(e,[this].concat(r)))).rootRef=l.a.createRef(),n.seed=Math.random(),n.currentBunkers=null,n.state={isSolved:!1},n.distributeSoldiers=function(){for(var e=n.props.classes,t=n.rootRef.current,a=nr(".".concat(e.soldier),t),r=nr(".".concat(e.bunker),t),i=0;i<r.length;i++)r[i].appendChild(a[i])},n.onChange=function(e,t){var a=n.props,r=a.dispatch,i=a.quizId,o=a.uid;r(Mr(i,o,e,t))},n.onVerify=function(){var e=n.props,t=e.quizId,a=e.uid;(0,e.dispatch)(Cr(t,a))},n.onSolve=function(){n.setState({isSolved:!0})},n.onRestore=function(){n.setState({isSolved:!1})},n.memoCorrects=Object(I.a)(function(e,t){var n={};return e.forEach(function(e){if(t[e]){var a=[];t[e].variants.forEach(function(e){e.isCorrect&&a.push(e.uid)}),n[e]=a}else n[e]=null}),n}),n.memoBunkers=Object(I.a)(function(e){for(var t=[];;){var n=qr.exec(e);if(!n)break;var a=n[1];t.push(a-1)}return t}),n.memoBunkerToSoldier=Object(I.a)(function(e,t){var n={};return e.forEach(function(e){t[e]?n[e]=t[e].uid:n[e]=null}),n}),n.memoMetas=Object(I.a)(function(e,t,n,a,r){for(var i={},o=0;o<e.length;o++){var s=!1,c=!1,l=!1,u=e[o];a&&!r||t[o]&&(n[u].includes(t[o])?(s=!0,l=!0):c=!0),i[o]={isGood:s,isBad:c,isDisabled:!(!a||!r)||l}}return i}),n.memoSolvedAnswers=Object(I.a)(function(e){var t={};for(var n in e){var a=e[n];t[n]=a[0]}return t}),n.memoRepairedArticle=Object(I.a)(function(e,t){return e.replace(qr,'<span class="'.concat(t.bunker,'"></span>'))}),n.memoShuffledVariants=Object(I.a)(function(e,t,n){if(t){var a=[],r=!0,i=!1,o=void 0;try{for(var s,c=e[Symbol.iterator]();!(r=(s=c.next()).done);r=!0){var l=s.value;a.push({uid:l.uid,variants:lr(Object(Pr.a)(l.variants),n)})}}catch(u){i=!0,o=u}finally{try{r||null==c.return||c.return()}finally{if(i)throw o}}return a}return e}),n.memoIsCorrect=Object(I.a)(function(e,t,n){for(var a=0;a<e.length;a++){var r=e[a];if(t[r]&&!t[r].includes(n[a]))return!1}return!0}),n}return Object(S.a)(t,e),Object(E.a)(t,[{key:"render",value:function(){var e=this,t=this.props,n=t.classes,a=t.title,r=t.article,i=t.options,o=t.answers,s=t.shuffled,c=t.evaluation,u=t.isVerified,d=t.quizId,m=t.slang,f=this.memoBunkers(r),p=this.memoShuffledVariants(i,s,this.seed),h=this.memoCorrects(f,p),v=this.state.isSolved?this.memoSolvedAnswers(h):o,b=this.memoMetas(f,v,h,c,u),g=this.memoRepairedArticle(r,n),E=this.memoBunkerToSoldier(f,p);return l.a.createElement("div",{className:n.root,ref:this.rootRef,onPointerDown:this.onPointerDown},l.a.createElement(St,{className:n.title,html:a}),l.a.createElement(St,{className:n.battlefield,html:g}),l.a.createElement("div",{className:n.soldiers},f.map(function(t,a){if(E[t]){var r=p[t],i=r.uid,o=r.variants;return l.a.createElement(Qr,{key:i+a,className:n.soldier,bunkerIndex:a,isGood:b[a].isGood,isBad:b[a].isBad,isDisabled:b[a].isDisabled,variants:o,value:v[a]||"",slang:m,onChange:e.onChange})}return l.a.createElement("div",{key:a,className:Object(W.a)(n.emptyBunker,n.soldier)})})),c&&l.a.createElement(kr,{isAnswered:!Object(F.isEmpty)(o),isVerified:u,isCorrect:this.memoIsCorrect(f,h,o),quizId:d,onVerify:this.onVerify,onSolve:this.onSolve,onRestore:this.onRestore}))}},{key:"componentDidMount",value:function(){this.distributeSoldiers(),this.currentBunkers=this.memoBunkers(this.props.article)}},{key:"getSnapshotBeforeUpdate",value:function(e,t){var n=this.props,a=n.article,r=n.options,i=this.memoBunkers(a);return e.options.length===r.length&&i===this.currentBunkers||(this.releaseSoldiers(i),this.currentBunkers=i),null}},{key:"componentDidUpdate",value:function(e,t,n){this.distributeSoldiers();var a=this.props,r=a.article,i=a.options,o=a.answers,s=a.dispatch,c=a.quizId,l=a.uid,u=a.evaluation,d=a.isVerified;if(u){if(!e.isVerified&&d){var m=this.memoBunkers(r),f=this.memoCorrects(m,i),p=this.memoIsCorrect(m,f,o)?Mt:2;s(ur(c,l,p))}}else if(e.answers!==o){var h=this.memoBunkers(r),v=this.memoCorrects(h,i);this.memoIsCorrect(h,v,o)&&s(ur(c,l,Mt))}}},{key:"releaseSoldiers",value:function(){var e=this.rootRef.current,t=this.props.classes,n=nr(".".concat(t.soldiers),e)[0],a=nr(".".concat(t.bunker),e),r=!0,i=!1,o=void 0;try{for(var s,c=a[Symbol.iterator]();!(r=(s=c.next()).done);r=!0){var l=s.value;n.appendChild(l.firstChild)}}catch(u){i=!0,o=u}finally{try{r||null==c.return||c.return()}finally{if(i)throw o}}}}]),t}(l.a.PureComponent),$r=N()({root:{margin:"auto",padding:16},title:{textAlign:"center"},battlefield:{marginTop:16,display:"flex",justifyContent:"center",alignItems:"center"},bunker:{display:"inline-block",verticalAlign:"middle"},emptyBunker:{display:"inline-block",verticalAlign:"middle",minWidth:48,minHeight:34,border:"solid 1px #fff",borderRadius:4,boxShadow:"inset 0px 0px 3px 0px rgba(0,0,0,0.75)"},soldiers:{display:"none"},soldier:{}})(Yr),Xr=Object(T.b)(function(e,t){var n=t.quizId,a=t.uid;return{slang:Sr(e,n),answers:Ar(e,n,a),isVerified:fr(e,n,a)}})($r),Kr=Pn({answers:xn(ta,(_a={},Object(w.a)(_a,"MODEL_CHALLENGE_RESUME",function(e,t){var n=t.suspendedChallenge,a=t.db,r=t.quizId,i=t.challengeIndex;if(n.hasOwnProperty("answers")){var o=n.answers;if(na(o)){var s=Zn(a,r,i),c=Qn(a,r,i).match(qr)||[],l=c.length-1;for(var u in o){var d=parseInt(u);if(d<0||isNaN(d)||d>l)console.warn("Invalid bunker number!",u);else{var m=parseInt(c[u].substr(1).slice(0,-1))-1;if(s[m]){var f=o[u];f in Wa(s[m].variants,"uid")?e[u]=f:console.warn("Unrecognized variant!",f)}else console.warn("An invalid bunker cannot have an answer!")}}}else console.warn("`answers` should be a simple object!")}}),Object(w.a)(_a,"QUIZ_DROPDOWN_SELECT",function(e,t){var n=t.bunkerIndex,a=t.weaponUid;a?e[n]=a:e[n]&&delete e[n]}),Object(w.a)(_a,"QUIZ_RESET",ta),_a),"models/quiz/quizDropdown.answers"),mode:za,isVerified:Ha}),Jr=Pn({answers:xn(ra,(La={},Object(w.a)(La,"MODEL_CHALLENGE_RESUME",function(e,t){var n=t.suspendedChallenge,a=t.db,r=t.quizId,i=t.challengeIndex;if(n.hasOwnProperty("answers")){var o=n.answers;if(Array.isArray(o)){var s=Zn(a,r,i),c={};s.forEach(function(e){return c[e.uid]=!0});var l=s.length-1,u=!0,d=!1,m=void 0;try{for(var f,p=o[Symbol.iterator]();!(u=(f=p.next()).done);u=!0){var h=f.value;if(na(h)){var v=h.uid;if(v in c){var b=parseInt(h.index);b<0||isNaN(b)||b>l?console.warn("Invalid bunker number!",b):e.push(h)}else console.warn("Unrecognized option!",v)}else console.warn("`answer` should be a simple object!")}}catch(g){d=!0,m=g}finally{try{u||null==p.return||p.return()}finally{if(d)throw m}}}else console.warn("`answers` should be array!")}}),Object(w.a)(La,"QUIZ_ORDER_DROP",function(e,t){var n,a=t.bunkerIndex,r=t.weaponUid;r&&e.push((n={},Object(w.a)(n,"index",a),Object(w.a)(n,"uid",r),n))}),Object(w.a)(La,"QUIZ_RESET",ra),La),"models/quiz/quizOrder.answers"),mode:za,seed:Ua,isVerified:Ha});function ei(e,t){var n=t.challengeId;if(!n)return console.warn("Cannot infer challenge id for proxy!",t),e;var a,r=e[n];switch(r.mode||t.payload.mode){case ke:case Ce:a=Fa;break;case _e:a=Dr;break;case Le:a=Kr;break;case Re:a=Jr;break;default:return e}e[n]=a(r,t)}var ti,ni,ai,ri,ii,oi=Pn({kind:Bn,topId:Un,completion:zn,challenges:xn(ta,(Ra={},Object(w.a)(Ra,"MODEL_IMPORT",function(e,t){var n=!0,a=!1,r=void 0;try{for(var i,o=t.payload.challenges[Symbol.iterator]();!(n=(i=o.next()).done);n=!0){var s=i.value;e[s.uid]={},ei(e,{type:"MODEL_CHALLENGE_IMPORT",challengeId:s.uid,payload:s})}}catch(c){a=!0,r=c}finally{try{n||null==o.return||o.return()}finally{if(a)throw r}}}),Object(w.a)(Ra,An,function(e,t){var n=t.suspendedModel,a=t.id,r=t.db;if(void 0!==Gn(r,a)&&n.hasOwnProperty("challenges")){var i=n.challenges;if(na(i)){var o=Wa(Vn(r,a),"uid",!0);for(var s in i)if(e[s]){var c=i[s];na(c)?ei(e,{type:"MODEL_CHALLENGE_RESUME",challengeId:s,suspendedModel:n,suspendedChallenge:c,db:r,quizId:a,challengeIndex:o[s]}):console.warn("Suspended challenge should be a simple object!")}else console.warn("Unrecognized challenge id!",s)}else console.warn("`challenges` should be a simple object!")}}),Object(w.a)(Ra,"QUIZ_RESET",function(e){for(var t in e)ei(e,{type:"QUIZ_RESET",challengeId:t})}),Object(w.a)(Ra,"QUIZ_CHALLENGE_VERIFY",ei),Object(w.a)(Ra,"QUIZ_CHOICE_SELECT",ei),Object(w.a)(Ra,"QUIZ_DND_DROP",ei),Object(w.a)(Ra,"QUIZ_DROPDOWN_SELECT",ei),Object(w.a)(Ra,"QUIZ_ORDER_DROP",ei),Ra),"models/quiz.challenges"),challengesCompleted:xn(ta,(xa={},Object(w.a)(xa,An,function(e,t){var n=t.suspendedModel,a=t.db,r=t.id;if(n.hasOwnProperty("challengesCompleted")){var i=n.challengesCompleted;if(na(i)){var o=Wa(Vn(a,r),"uid");for(var s in i)if(o[s]){var c=i[s];c!==Mt&&2!==c?console.warn("Challenge completion must be ".concat(Mt," or ").concat(2,"!")):e[s]=c}else console.warn("Unrecognized challenge id!",s)}else console.warn("`challengesCompleted` must be a simple object!")}}),Object(w.a)(xa,"QUIZ_RESET",ta),Object(w.a)(xa,"QUIZ_CHALLENGE_COMPLETE",function(e,t){var n=t.challengeId,a=t.challengeCompletedStatus;e[n]=a}),xa),"models/quiz.challengesCompleted"),attempt:Rn(0,(Da={},Object(w.a)(Da,An,function(e,t){var n=t.suspendedModel;if(!n.hasOwnProperty("attempt"))return e;var a=n.attempt;return Mn(a)?a:(console.warn("`attempt` should be a positive integer!"),e)}),Object(w.a)(Da,"QUIZ_RESET",function(e){return e+1}),Da),"models/quiz.attempt"),bestScore:Rn(0,(Pa={},Object(w.a)(Pa,An,function(e,t){var n=t.suspendedModel;if(!n.hasOwnProperty("bestScore"))return e;var a=n.bestScore;return"number"!==typeof a||a<0||a>1?(console.warn("`bestScore` should be a number between 0 and 1!",a),e):a}),Object(w.a)(Pa,"QUIZ_BEST_SCORE_UPDATE",function(e,t){return t.ratio}),Pa),"models/quiz.bestScore")}),si=Pn({kind:Bn,topId:Un,completion:zn,openedIds:xn(ta,(ti={},Object(w.a)(ti,"ACCORDION_ITEM_TOGGLE",function(e,t){var n=t.itemId;n in e?delete e[n]:e[n]=!0}),Object(w.a)(ti,"ACCORDION_CLEAR",ta),ti),"models/accordion/openedIds"),visitedIds:xn(ta,(ni={},Object(w.a)(ni,"ACCORDION_ITEM_TOGGLE",function(e,t){e[t.itemId]=!0}),Object(w.a)(ni,"ACCORDION_CLEAR",ta),ni),"models/accordion/seenIds")}),ci=Pn({kind:Bn,topId:Un,completion:zn,openedId:Rn("",(ai={},Object(w.a)(ai,"TABS_ITEM_SELECT",function(e,t){return t.itemId}),Object(w.a)(ai,"MODEL_IMPORT",function(e,t){var n=t.payload.items;return e in Wa(n,"uid")?e:e?n[0].uid:e}),Object(w.a)(ai,"TABS_CLEAR",""),ai),"models/tabs/openedId"),visitedIds:xn(ta,(ri={},Object(w.a)(ri,"TABS_ITEM_SELECT",function(e,t){e[t.itemId]=!0}),Object(w.a)(ri,"TABS_CLEAR",ta),ri),"models/tabs/seenIds")});function li(e,t){var n=t.id;if(!n)return console.warn("Cannot infer model id for proxy!",t),e;var a,r=e[n]||{};switch(r.kind||t.payload.type){case ye:a=ia;break;case Ee:a=Aa;break;case ge:a=oi;break;case Se:a=si;break;case we:a=ci;break;case be:a=Ba;break;default:a=Hn}e[n]=a(r,t)}var ui,di,mi=xn({},(ii={},Object(w.a)(ii,"CMI_COMPLETION_STATUS_UPDATE",function(e,t){li(e,t);var n=e[t.id].topId;n&&li(e,{type:"CHILD_CMI_COMPLETION_STATUS_UPDATE",id:n,childId:t.id,value:t.value})}),Object(w.a)(ii,"CMI_EXIT_UPDATE",li),Object(w.a)(ii,"CMI_LOCATION_UPDATE",li),Object(w.a)(ii,"CMI_PROGRESS_MEASURE_UPDATE",li),Object(w.a)(ii,"CMI_SCORE_SCALED_UPDATE",li),Object(w.a)(ii,"CMI_SCORE_RAW_UPDATE",li),Object(w.a)(ii,"CMI_SCORE_MIN_UPDATE",li),Object(w.a)(ii,"CMI_SCORE_MAX_UPDATE",li),Object(w.a)(ii,"CMI_SESSION_TIME_UPDATE",li),Object(w.a)(ii,"CMI_SUCCESS_STATUS_UPDATE",li),Object(w.a)(ii,"CMI_SUSPEND_DATA_UPDATE",li),Object(w.a)(ii,"MODEL_CLOSE",li),Object(w.a)(ii,"PROJECT_IMPORT",function(e,t){var n=t.id,a=t.db,r=ea(a,n);for(var i in r[n]=a[n],e[n]||(e[n]={kind:ye}),li(e,t),r)li(e,{type:"MODEL_IMPORT",id:i,payload:r[i],topId:n})}),Object(w.a)(ii,"MODEL_REMOVE",function(e,t){delete e[t.id]}),Object(w.a)(ii,"MODELS_RESUME",function(e,t){var n=JSON.parse(t.suspendedBlob);if(na(n))for(var a in n)if(a in e){var r=n[a];na(r)?(li(e,{type:An,id:a,db:t.db,suspendedModel:r}),li(e,{type:"CHILD_MODEL_RESUME",id:e[a].topId,childId:a,suspendedModel:r})):console.warn("Suspended model must be a plain object!",r)}else console.warn("Unrecognized model id in suspended data!",a);else console.warn("Suspended data must be a plain object!",n)}),Object(w.a)(ii,"BOOK_RESET",function(e,t){for(var n in e)e[n].topId===t.id&&li(e,{type:"MODEL_RESET",id:n})}),Object(w.a)(ii,"COMPLETION_ADD",function(e,t){li(e,t);var n=e[t.id].topId;n&&li(e,{type:"CHILD_COMPLETION_ADD",id:n,childId:t.id})}),Object(w.a)(ii,"SECTION_COMPLETE",function(e,t){li(e,t);var n=e[t.id].topId;n&&li(e,{type:"CHILD_SECTION_COMPLETE",id:n,childId:t.id})}),Object(w.a)(ii,"ARCHIVE_COMPLETE",li),Object(w.a)(ii,"QUIZ_CHALLENGE_VERIFY",li),Object(w.a)(ii,"QUIZ_CHALLENGE_COMPLETE",li),Object(w.a)(ii,"QUIZ_BEST_SCORE_UPDATE",li),Object(w.a)(ii,"QUIZ_CHOICE_SELECT",li),Object(w.a)(ii,"QUIZ_DND_DROP",li),Object(w.a)(ii,"QUIZ_ORDER_DROP",li),Object(w.a)(ii,"QUIZ_DROPDOWN_SELECT",li),Object(w.a)(ii,"QUIZ_RESET",li),Object(w.a)(ii,"PROJECT_VISIT_ACHIEVE",li),Object(w.a)(ii,"PROJECT_BOOKMARK_WARN",li),Object(w.a)(ii,"BARRIER_RAISE",li),Object(w.a)(ii,"BARRIER_RESUME",li),Object(w.a)(ii,"BARRIER_LOCK",li),Object(w.a)(ii,"BARRIER_UNLOCK",li),Object(w.a)(ii,"ACCORDION_ITEM_TOGGLE",li),Object(w.a)(ii,"ACCORDION_CLEAR",li),Object(w.a)(ii,"TABS_ITEM_SELECT",li),Object(w.a)(ii,"TABS_CLEAR",li),Object(w.a)(ii,"IDLE_ANNOUNCE",li),Object(w.a)(ii,"DISCONNECTED_ANNOUNCE",li),Object(w.a)(ii,"DEATH_ANNOUNCE",li),Object(w.a)(ii,"SENTINEL_DISMISS",li),ii),"models"),fi=Object(Cn.e)(Object(Cn.c)({models:mi}),(window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||Cn.d)(Object(Cn.a)(_n.a))),pi=fi.dispatch,hi=fi,vi=function(e){return{type:"COMPLETION_ADD",id:e}},bi=n(181),gi=n.n(bi),Ei=function(e){function t(){return Object(g.a)(this,t),Object(y.a)(this,Object(O.a)(t).apply(this,arguments))}return Object(S.a)(t,e),Object(E.a)(t,[{key:"render",value:function(){return l.a.createElement("div",{style:{position:"absolute",left:"0",top:"0",right:"0",bottom:"0",backgroundPosition:"center",backgroundRepeat:"no-repeat",backgroundImage:"url(".concat(gi.a,")"),backgroundColor:"#ffebee"}})}}]),t}(l.a.PureComponent),yi=function(e){function t(){var e,n;Object(g.a)(this,t);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(n=Object(y.a)(this,(e=Object(O.a)(t)).call.apply(e,[this].concat(r)))).shellRef=l.a.createRef(),n.imgRef=l.a.createRef(),n.state={isLoaded:!1,isFailed:!1,shellWidth:0,shellHeight:0},n.onImageLoad=function(){n.setState({isLoaded:!0});var e=n.props.id;e&&pi(vi(e))},n.onImageError=function(){n.setState({isLoaded:!0,isFailed:!0});var e=n.props.id;e&&pi(vi(e))},n.onShellResize=function(){var e=n.shellRef.current;n.setState({shellWidth:e.offsetWidth,shellHeight:e.offsetHeight})},n.memoCoreStyle=Object(I.a)(function(e,t,n,a,r){var i,o;e<=n&&t<=a?(i=e,o=t):n/a>e/t?i=e/(t/(o=a)):o=t/(e/(i=n));return{left:(n-i)/2+"px",top:(a-o)/2+"px",width:i+"px",height:o+"px",display:r&&"none"}}),n}return Object(S.a)(t,e),Object(E.a)(t,[{key:"render",value:function(){var e=this.props,t=e.classes,n=e.width,a=e.height,r=e.src,i=e.bytes,o=e.description,s=e.transparent,c=this.state,u=c.isLoaded,d=c.isFailed,m=c.shellWidth,f=c.shellHeight;return l.a.createElement(Zt,Object.assign({},Gt(this.props),{className:Object(W.a)(t.root,u&&t.isLoaded,s&&t.transparent)}),l.a.createElement("div",{className:t.shell,ref:this.shellRef},l.a.createElement("img",{ref:this.imgRef,className:t.core,src:r+"?b="+i,alt:"",style:this.memoCoreStyle(n,a,m,f,d),onLoad:u?null:this.onImageLoad,onError:u?null:this.onImageError}),!u&&l.a.createElement(hn,{centered:!0}),d&&l.a.createElement(Ei,null)),l.a.createElement(kn,{html:o,isSlave:!0}))}},{key:"componentDidMount",value:function(){Tn(this.shellRef.current,this.onShellResize),this.imgRef.current.complete&&this.onImageLoad()}},{key:"componentWillUnmount",value:function(){jn(this.shellRef.current,this.onShellResize)}}]),t}(l.a.PureComponent),Oi=N()({root:{background:"black",display:"flex",flexDirection:"column",height:"100%",overflow:"hidden"},transparent:{background:"transparent"},shell:{position:"relative",flexGrow:1},core:{position:"absolute",display:"none"},isLoaded:{"& $core":{display:"block"}}})(yi),Si=function(e){function t(){return Object(g.a)(this,t),Object(y.a)(this,Object(O.a)(t).apply(this,arguments))}return Object(S.a)(t,e),Object(E.a)(t,[{key:"render",value:function(){var e=this.props,t=e.width,n=e.height,a=e.isFailed;return l.a.createElement("div",{style:{position:"relative",margin:"auto",maxWidth:t+"px",maxHeight:n+"px"}},l.a.createElement("div",{style:{width:"100%",paddingTop:n/t*100+"%"}}),a?l.a.createElement(Ei,null):l.a.createElement(hn,{centered:!0}))}}]),t}(l.a.PureComponent),wi=function(e){function t(){var e,n;Object(g.a)(this,t);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(n=Object(y.a)(this,(e=Object(O.a)(t)).call.apply(e,[this].concat(r)))).imgRef=l.a.createRef(),n.state={isLoaded:!1,isFailed:!1},n.onImageLoad=function(){n.setState({isLoaded:!0})},n.onImageError=function(){n.setState({isLoaded:!0,isFailed:!0})},n.memoCoreStyle=Object(I.a)(function(e,t){return{maxWidth:e+"px",maxHeight:t+"px"}}),n}return Object(S.a)(t,e),Object(E.a)(t,[{key:"render",value:function(){var e=this.props,t=e.classes,n=e.width,a=e.height,r=e.src,i=e.bytes,o=e.description,s=this.state,c=s.isLoaded,u=s.isFailed;return l.a.createElement(Zt,Object.assign({},Gt(this.props),{className:Object(W.a)(t.root,c&&t.isLoaded)}),l.a.createElement("img",{ref:this.imgRef,className:t.core,src:r+"?b="+i,alt:"",style:this.memoCoreStyle(n,a),onLoad:c?null:this.onImageLoad,onError:c?null:this.onImageError}),(!c||u)&&l.a.createElement(Si,{width:n,height:a,isFailed:u}),l.a.createElement(kn,{html:o}))}},{key:"componentDidMount",value:function(){this.imgRef.current.complete&&this.onImageLoad()}}]),t}(l.a.PureComponent),Ii=N()({root:{minHeight:40},core:{margin:"auto",width:"100%",display:"none"},isLoaded:{minHeight:20,"& $core":{display:"block"}}})(wi),Ti=function(e){function t(){var e,n;Object(g.a)(this,t);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(n=Object(y.a)(this,(e=Object(O.a)(t)).call.apply(e,[this].concat(r)))).state={isLoaded:!1},n.onAudioLoadedMetadata=function(){n.setState({isLoaded:!0})},n.onAudioEnded=function(){var e=n.props.id;pi(vi(e))},n}return Object(S.a)(t,e),Object(E.a)(t,[{key:"render",value:function(){var e=this.props,t=e.classes,n=e.src,a=e.bytes,r=e.poster,i=e.posterBytes,o=e.width,s=e.height,c=e.isSlave,u=e.description,d=this.state.isLoaded,m=c?Oi:Ii;return l.a.createElement(Zt,Object.assign({},Gt(this.props),{className:Object(W.a)(t.root,d&&t.isLoaded,c&&t.isSlave)}),r&&l.a.createElement("div",{className:t.shellImage},l.a.createElement(m,{src:r,width:o,height:s,bytes:i,transparent:!0})),l.a.createElement("div",{className:t.shellAudio},l.a.createElement("audio",{className:t.core,src:n+"?b="+a,controls:!0,onLoadedMetadata:this.onAudioLoadedMetadata,onEnded:this.onAudioEnded}),!d&&l.a.createElement(hn,{centered:!0})),l.a.createElement(kn,{html:u,isSlave:c}))}}]),t}(l.a.PureComponent),ji=N()(function(e){return{root:{minHeight:40,background:"black"},shellImage:{flexGrow:1},shellAudio:{position:"relative"},core:{width:"100%",height:7*e.spacing.unit,padding:e.spacing.unit,display:"block",visibility:"hidden"},isLoaded:{"& $core":{visibility:"visible"}},isSlave:{display:"flex",flexDirection:"column",height:"100%"}}})(Ti),Ni=n(49),ki=function(e,t){return{type:"CMI_COMPLETION_STATUS_UPDATE",id:e,value:t}},Ci=function(e,t){return{type:"CMI_EXIT_UPDATE",id:e,value:t}},_i=function(e,t){return{type:"CMI_LOCATION_UPDATE",id:e,value:t}},Li=function(e,t){return{type:"CMI_PROGRESS_MEASURE_UPDATE",id:e,value:t}},Ri=function(e,t){return{type:"CMI_SCORE_SCALED_UPDATE",id:e,value:t}},xi=function(e,t){return{type:"CMI_SCORE_RAW_UPDATE",id:e,value:t}},Di=function(e,t){return{type:"CMI_SCORE_MIN_UPDATE",id:e,value:t}},Pi=function(e,t){return{type:"CMI_SCORE_MAX_UPDATE",id:e,value:t}},Ai=function(e,t){return{type:"CMI_SESSION_TIME_UPDATE",id:e,value:t}},Mi=function(e,t){return{type:"CMI_SUCCESS_STATUS_UPDATE",id:e,value:t}},Bi=function(e,t){return{type:"CMI_SUSPEND_DATA_UPDATE",id:e,value:t}},Ui=function(e,t){return e.models[t].cmi.completionStatus},zi=function(e,t){return e.models[t].cmi.location},Hi=function(e,t){return e.models[t].cmi.progressMeasure},Wi=function(e,t){return e.models[t].cmi.scoreScaled},Fi=function(e,t){return e.models[t].cmi.scoreRaw},Gi=function(e,t){return e.models[t].cmi.scoreMin},Vi=function(e,t){return e.models[t].cmi.scoreMax},Zi=function(e,t){return e.models[t].cmi.successStatus},Qi=function(e,t){return e.models[t].cmi.suspendData},qi=function(e,t){return{type:"PROJECT_IMPORT",id:e,db:t}},Yi=function(){var e=window.BLACKBOX_MODEL;function t(){return"0"}function n(e,t){return window.parent.postMessage({certificate:"BLACKBOX_BRIDGE",name:e,args:t},"*"),"true"}function a(e){return function(t){return n(e,[t])}}window.API_1484_11=window.API={Initialize:a("I"),Terminate:a("T"),GetValue:function(t){return e[t]},SetValue:function(t,a){return n("S",[t,a]),e[t]=a,"true"},Commit:a("C"),GetLastError:t,GetErrorString:t,GetDiagnostic:t}},$i=function(){var e,t=function(){n()},n=function(){e||(e=setTimeout(a,1e3))},a=function(){window.parent.postMessage({certificate:"BLACKBOX_MOTION"},"*"),e=null};window.addEventListener("message",function(e){var t=e.data;e.source.parent===window&&t&&"BLACKBOX_MOTION"===t.certificate&&n()},!0),window.addEventListener("mousemove",t,!0),window.addEventListener("touchmove",t,!0),window.addEventListener("pointermove",t,!0),window.addEventListener("mousedown",t,!0),window.addEventListener("touchstart",t,!0),window.addEventListener("pointerdown",t,!0),window.addEventListener("mousewheel",t,!0),window.addEventListener("keydown",t,!0)},Xi="\nwindow.BLACKBOX_MODEL = $model;\n($bridge)();\nwindow.addEventListener('message', function(event){\n    if (event.source === window.parent && event.data && event.data.certificate === '$certificate') {\n        eval(event.data.payload);\n    }\n});\ntrue;\n",Ki="allow-scripts"+("file:"===window.location.protocol?" allow-same-origin":""),Ji=function(e){function t(e){var n;return Object(g.a)(this,t),(n=Object(y.a)(this,Object(O.a)(t).call(this,e))).moldRef=l.a.createRef(),n.state={isLoaded:!1,moldWidth:0,moldHeight:0},n.onIframeLoad=function(){n.setState({isLoaded:!0}),n.moldRef.current.firstElementChild.contentWindow.postMessage({certificate:Pt,payload:"(".concat($i.toString(),")()")},"*")},n.onPlaceholderResize=function(){var e=n.moldRef.current;n.setState({moldWidth:e.offsetWidth,moldHeight:e.offsetHeight})},n.onWindowMessage=function(e){var t=n.moldRef.current.firstElementChild.contentWindow,a=e.source,r=e.data;if(a===t&&r){var i=r.certificate,o=r.name,s=r.args;if(i===At){var c=n.props.id;switch(o){case"I":case"T":case"C":break;case"S":var l,u=Object(Ni.a)(s,2),d=u[0],m=u[1];switch(d){case"cmi.completion_status":l=ki;break;case"cmi.exit":l=Ci;break;case"cmi.location":l=_i;break;case"cmi.progress_measure":l=Li;break;case"cmi.score.scaled":l=Ri;break;case"cmi.score.raw":l=xi;break;case"cmi.score.min":l=Di;break;case"cmi.score.max":l=Pi;break;case"cmi.session_time":l=Ai;break;case"cmi.success_status":l=Mi;break;case"cmi.suspend_data":l=Bi;break;default:return void console.warn("Unexpected cmiProperty!")}pi(l(c,m));break;default:return void console.warn("Unexpected SCORM command!")}}}},n.memoShellStyle=Object(I.a)(function(e,t,n){return n===xt?{maxWidth:e+"px",maxHeight:t+"px"}:null}),n.memoPlaceholderStyle=Object(I.a)(function(e,t,n){return n?{height:"100%"}:{paddingTop:t/e*100+"%"}}),n.memoCoreStyle=Object(I.a)(function(e,t,n,a,r,i){if(i){if(r===xt){var o,s,c;if(n<=e&&a<=t)o=n,s=a;else e/t>n/a?o=n/(c=a/(s=t)):s=a/(c=n/(o=e));return{width:n+"px",height:a+"px",left:(e-o)/2+"px",top:(t-s)/2+"px",transform:c?"scale("+1/c+")":null}}return{width:e+"px",height:t+"px"}}if(r===xt){var l={width:n+"px",height:a+"px"};if(e!==n){var u=e/n;Object.assign(l,{transform:"scale("+u+")"})}return l}return{width:e+"px",height:t+"px"}}),n.injection=btoa(Xi.replace("$model",eo(hi.getState(),n.props.id)).replace("$bridge",Yi.toString()).replace("$certificate",Pt).replace(/\s+/g," ")),n}return Object(S.a)(t,e),Object(E.a)(t,[{key:"render",value:function(){var e=this.props,t=e.classes,n=e.src,a=e.description,r=e.width,i=e.height,o=e.resizePolicy,s=e.isSlave,c=e.title,u=this.state,d=u.isLoaded,m=u.moldWidth,f=u.moldHeight,p=this.memoShellStyle(r,i,o),h=this.memoPlaceholderStyle(r,i,s),v=this.memoCoreStyle(m,f,r,i,o,s);return l.a.createElement(Zt,Object.assign({},Gt(this.props),{className:Object(W.a)(t.root,d&&t.isLoaded,s&&t.isSlave)}),l.a.createElement("div",{className:t.shell,style:p},l.a.createElement("div",{className:t.mold,style:h,ref:this.moldRef},l.a.createElement("iframe",{className:t.core,title:c,src:n,style:v,onLoad:this.onIframeLoad,sandbox:Ki,allowFullScreen:!0,scrolling:o===xt?"no":"auto",name:this.injection})),!d&&l.a.createElement(hn,{centered:!0})),l.a.createElement(kn,{html:a,isSlave:s}))}},{key:"componentDidMount",value:function(){Tn(this.moldRef.current,this.onPlaceholderResize),window.addEventListener("message",this.onWindowMessage)}},{key:"componentWillUnmount",value:function(){jn(this.moldRef.current,this.onPlaceholderResize),window.removeEventListener("message",this.onWindowMessage);var e=this.props.id,t=function(e,t){return e.models[t].cmi.exit}(hi.getState(),e);pi(function(e,t){return{type:"MODEL_CLOSE",id:e,keepCmi:t}}(e,"suspend"===t))}}]),t}(l.a.PureComponent),eo=function(e,t){return JSON.stringify({"cmi.completion_status":Ui(e,t),"cmi.location":zi(e,t),"cmi.progress_measure":Hi(e,t),"cmi.score.scaled":Wi(e,t),"cmi.score.raw":Fi(e,t),"cmi.score.min":Gi(e,t),"cmi.score.max":Vi(e,t),"cmi.success_status":Zi(e,t),"cmi.suspend_data":Qi(e,t)})},to=N()({root:{minHeight:40,background:"black"},shell:{position:"relative",margin:"auto",width:"100%"},mold:{width:"100%"},core:{position:"absolute",top:0,left:0,transformOrigin:"0 0",border:"none",visibility:"hidden"},isLoaded:{minHeight:20,"& $core":{visibility:"visible"}},isSlave:{display:"flex",flexDirection:"column",height:"100%",overflow:"hidden","& $shell":{flexGrow:1}}})(Ji),no=n(14),ao=n.n(no),ro=n(59),io=n.n(ro),oo=n(60),so=n.n(oo),co=n(85),lo=n.n(co),uo={root:{master:{flexGrow:1},slave:{height:"100%",flexGrow:1}},container:{master:null,slave:{height:"100%"}},slide:{display:"flex",overflow:"hidden",position:"relative"}},mo=function(e){function t(){var e,n;Object(g.a)(this,t);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(n=Object(y.a)(this,(e=Object(O.a)(t)).call.apply(e,[this].concat(r)))).state={activeStep:0},n.handleNext=function(){var e=n.props,t=e.id,a=e.images,r=n.state.activeStep+1;t&&r===a.length-1&&pi(vi(t)),n.setState({activeStep:r})},n.handleBack=function(){n.setState({activeStep:n.state.activeStep-1})},n.handleStepChange=function(e){n.setState({activeStep:e})},n}return Object(S.a)(t,e),Object(E.a)(t,[{key:"render",value:function(){var e=this.props,t=e.classes,n=e.images,a=e.galleryData,r=e.description,i=e.isSlave,o=this.state.activeStep,s=n.length,c=i?"slave":"master",u=i?t.slaveContainer:t.masterContainer,d=i?Oi:Ii;return l.a.createElement(Zt,Object.assign({},Gt(this.props),{className:ao()(t.root,i&&t.isSlave)}),l.a.createElement("div",{className:t.arrowsAndContent},l.a.createElement(lo.a,{axis:"x",enableMouseEvents:!0,index:o,onChangeIndex:this.handleStepChange,style:uo.root[c],containerStyle:uo.container[c],slideStyle:uo.slide},n.map(function(e,n){var r=a&&a[n]&&a[n].description;return l.a.createElement("div",{className:u,key:n},l.a.createElement(d,{classes:{root:t.imageRootOverride},key:n,description:r,src:e.url,width:e.width,height:e.height,bytes:e.bytes}))})),n.length>1&&l.a.createElement(hr.a,{size:"small",onClick:this.handleBack,className:0===o?t.hidden:t.navigationButtonLeft},l.a.createElement(io.a,{className:t.arrowButton})),n.length>1&&l.a.createElement(hr.a,{size:"small",onClick:this.handleNext,className:o===s-1?t.hidden:t.navigationButtonRight},l.a.createElement(so.a,{className:t.arrowButton}))),l.a.createElement(kn,{html:r,isSlave:i}))}},{key:"componentDidMount",value:function(){var e=this.props,t=e.id,n=e.images;t&&n.length<=1&&pi(vi(t))}}]),t}(l.a.PureComponent),fo=N()(function(e){return{root:{minHeight:20,"&$isSlave":{background:"black",display:"flex",flexDirection:"column",height:"100%",overflow:"hidden"}},isSlave:{},imageRootOverride:{background:"transparent"},navigationButtonLeft:{left:0,position:"absolute"},navigationButtonRight:{right:0,position:"absolute"},arrowsAndContent:{userSelect:"none",display:"flex",position:"relative",flexDirection:"row",flexGrow:"1",alignItems:"center"},arrowButton:{width:"96px",height:"96px",color:e.palette.grey[400]},hidden:{visibility:"hidden",position:"absolute"},slaveContainer:{position:"absolute",left:0,top:0,right:0,bottom:0,pointerEvents:"none"},masterContainer:{position:"relative",flexGrow:1,flexBasis:"100%",margin:"auto",pointerEvents:"none"}}})(mo),po=function(e){function t(){return Object(g.a)(this,t),Object(y.a)(this,Object(O.a)(t).apply(this,arguments))}return Object(S.a)(t,e),Object(E.a)(t,[{key:"render",value:function(){var e=this.props,t=e.classes,n=e.className,a=e.hasPrev,r=e.onPrev,i=e.hasNext,o=e.onNext,s=e.isNextAllowed,c=e.solvedCount;return l.a.createElement("div",{className:Object(W.a)(t.root,n)},l.a.createElement(hr.a,{size:"small",onClick:r,className:Object(W.a)(!a&&t.hidden)},l.a.createElement(io.a,{className:t.arrow})),l.a.createElement(Lt,{className:t.tick,play:c}),l.a.createElement(hr.a,{size:"small",onClick:o,disabled:!s,className:Object(W.a)(!i&&t.hidden)},l.a.createElement(so.a,{className:t.arrow})))}}]),t}(l.a.PureComponent),ho=N()(function(e){return{root:{display:"flex",textAlign:"center",alignItems:"center"},tick:{flexGrow:1},arrow:{width:4*e.spacing.unit,height:4*e.spacing.unit},hidden:{visibility:"hidden"}}})(po),vo=n(30),bo=n.n(vo),go=function(e,t){var n={},a=!0,r=!1,i=void 0;try{for(var o,s=e[Symbol.iterator]();!(a=(o=s.next()).done);a=!0){var c=o.value;n[c.dataset[t]]=c.getBoundingClientRect()}}catch(l){r=!0,i=l}finally{try{a||null==s.return||s.return()}finally{if(r)throw i}}return n},Eo=function(e,t,n){return e.models[t].challenges[n].answers},yo=function(e){function t(){var e,n;Object(g.a)(this,t);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(n=Object(y.a)(this,(e=Object(O.a)(t)).call.apply(e,[this].concat(r)))).onPointerDown=function(e){var t=n.props,a=t.classes,r=t.contextRef,i=t.bunkerClass;e.preventDefault(),window.addEventListener("touchmove",ar,{passive:!1}),window.addEventListener("pointermove",n.onWindowPointerMove),window.addEventListener("pointerup",n.onWindowPointerUp),window.addEventListener("keydown",n.onWindowKeyDown),document.documentElement.classList.add(a.htmlWhileDragging),e.currentTarget.classList.add(a.soldierWhileDragging);var o=nr("."+i,r.current);n.vars={contextBounds:r.current.getBoundingClientRect(),initialSoldierBounds:e.currentTarget.getBoundingClientRect(),initialMouseX:e.clientX,initialMouseY:e.clientY,soldier:e.currentTarget,bunkers:o,bunkersBounds:tr(o),activeBunkerIndex:-1},n.onWindowPointerMove(e)},n.onWindowPointerMove=function(e){var t=n.props.classes,a=n.vars,r=a.contextBounds,i=a.initialSoldierBounds,o=a.initialMouseX,s=a.initialMouseY,c=a.soldier,l=a.bunkers,u=a.bunkersBounds,d=a.activeBunkerIndex;e.preventDefault();var m=e.clientX-o,f=e.clientY-s,p=Ja(i,m,f,r),h=p.left-i.left,v=p.top-i.top;c.style.transform="translate(".concat(h,"px,").concat(v,"px)");for(var b=Number.MAX_SAFE_INTEGER,g=-1,E=u.length-1;E>=0;E--){var y=u[E],O=l[E];if(!O.firstChild||!O.firstChild.classList.contains(t.good))if(Ka(p,y)){var S=er({x:e.clientX,y:e.clientY},y);S<b&&(g=E,b=S)}}d!==g&&(d>=0&&l[d].classList.remove(t.bunkerHit),n.vars.activeBunkerIndex=g,g>=0&&l[g].classList.add(t.bunkerHit))},n.onWindowPointerUp=function(){var e=n.props,t=e.onDrop,a=e.uid,r=e.bunkerIndex,i=n.vars.activeBunkerIndex;n.cleanup(),t(a,i===r?null:i)},n.onWindowKeyDown=function(e){switch(e.key){case"Escape":var t=n.props,a=t.onDrop,r=t.uid;n.cleanup(),a(r,null)}},n.cleanup=function(){var e=n.props.classes,t=n.vars,a=t.soldier,r=t.bunkers,i=t.activeBunkerIndex;window.removeEventListener("touchmove",ar,{passive:!1}),window.removeEventListener("pointermove",n.onWindowPointerMove),window.removeEventListener("pointerup",n.onWindowPointerUp),window.removeEventListener("keydown",n.onWindowKeyDown),document.documentElement.classList.remove(e.htmlWhileDragging),a.classList.remove(e.soldierWhileDragging),i>=0&&r[i].classList.remove(e.bunkerHit),n.vars=null},n}return Object(S.a)(t,e),Object(E.a)(t,[{key:"render",value:function(){var e,t=this.props,n=t.classes,a=t.className,r=t.label,i=t.uid,o=t.isGood,s=t.isBad,c=t.isDisabled,u=t.style;return e=o?l.a.createElement(Ya.a,null):s?l.a.createElement(Xa.a,null):l.a.createElement(Qa.a,null),l.a.createElement("div",{className:Object(W.a)(n.root,o&&n.good,s&&n.bad,c&&n.disabled,a),onPointerDown:this.onPointerDown,"data-uid":i},l.a.createElement(St,{className:n.label,style:u,html:r}),e)}},{key:"componentWillUnmount",value:function(){this.vars&&this.cleanup()}}]),t}(l.a.PureComponent),Oo=N()(function(e){return{root:{margin:4,textAlign:"center",background:e.palette.primary.main,color:e.palette.primary.contrastText,display:"flex",flexDirection:"row",padding:4,alignItems:"center",borderRadius:4,cursor:"move",transition:"background-color 200ms",userSelect:"none","&:hover":{background:Object(Va.darken)(e.palette.primary.main,.25)},touchAction:"none"},bunkerHit:{backgroundColor:"#ccc","& $root":{background:Object(Va.darken)(e.palette.primary.main,.25)}},label:{color:"inherit",paddingLeft:4,paddingRight:4},disabled:{pointerEvents:"none",background:"#808080"},good:{background:"#01a901"},bad:{background:"#e61818","&:hover":{background:"#ff4242"}},htmlWhileDragging:{cursor:"move","& body":{pointerEvents:"none"}},soldierWhileDragging:{opacity:.75,background:"".concat(Object(Va.darken)(e.palette.primary.main,.25)," !important")}}})(yo),So=function(e,t,n,a){return{type:"QUIZ_ORDER_DROP",id:e,challengeId:t,bunkerIndex:n,weaponUid:a}},wo=(ui={root:{margin:"auto",padding:16,overflow:"hidden",width:"100%",display:"flex",flexDirection:"column",justifyContent:"center",position:"relative"},title:{textAlign:"center"},battlefield:{marginTop:8,display:"flex",justifyContent:"center",alignItems:"center"},bunker:{display:"inline-block",verticalAlign:"middle",minWidth:48,minHeight:34,border:"solid 1px #fff",borderRadius:4,boxShadow:"inset 0px 0px 3px 0px rgba(0,0,0,0.75)","& $soldier":{margin:0}},garrison:{display:"flex",flexWrap:"wrap",justifyContent:"center",alignItems:"center"},soldier:{},decoy:{position:"absolute",left:0,top:0,margin:0,visibility:"hidden",pointerEvents:"none"},indexed:{display:"flex",alignItems:"center"},margin:{marginRight:6}},Object(w.a)(ui,"vertical",{"$battlefield &":{flexDirection:"column"},"& $indexed":{marginTop:8}}),Object(w.a)(ui,"horizontal",{"& $indexed":{marginLeft:8}}),ui),Io=function(e){function t(){var e,n;Object(g.a)(this,t);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(n=Object(y.a)(this,(e=Object(O.a)(t)).call.apply(e,[this].concat(r)))).rootRef=l.a.createRef(),n.currentOrder={},n.animatingElements=[],n.state={isSolved:!1},n.onVerify=function(){var e=n.props,t=e.quizId,a=e.uid;(0,e.dispatch)(Cr(t,a))},n.onSolve=function(){n.setState({isSolved:!0})},n.onRestore=function(){n.setState({isSolved:!1})},n.distributeSoldiers=function(){for(var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=n.props.classes,a=n.rootRef.current,r=nr(".".concat(t.soldier),a),i=nr(".".concat(t.bunker),a),o=e?n.soldiersBefore:go(r,"uid"),s=e?n.bunkersBefore:tr(i),c=0;c<i.length;c++)r[c].removeAttribute("style");var l=go(r,"uid"),u=tr(i);n.animateDecoys(r,o,l),n.animateBunkers(i,s,u)},n.animateDecoys=function(e,t,a){for(var r=n.props.classes,i=n.rootRef.current,o=n.rootRef.current.getBoundingClientRect(),s=e.length-1;s>=0;s--){var c=e[s],l=c.dataset.uid;if(t[l]&&t[l].width&&JSON.stringify(t[l])!==JSON.stringify(a[l])){var u=Ja(t[l],-o.left,-o.top),d=Ja(a[l],-o.left,-o.top),m=nr(".".concat(r.decoy,"[data-uid=").concat(l,"]"),i)[0];n.animateElement(m,"\n                    visibility: visible;\n                    transform: translate(".concat(u.left,"px,").concat(u.top,"px);\n                    width: ").concat(u.width,"px;\n                    height: ").concat(u.height,"px;"),"\n                    visibility: visible;\n                    transform: translate(".concat(d.left,"px,").concat(d.top,"px);\n                    width: ").concat(d.width,"px;\n                    height: ").concat(d.height,"px;")),c.style.visibility="hidden"}}},n.animateBunkers=function(e,t,a){for(var r=e.length-1;r>=0;r--){var i=e[r],o=t[r],s=a[r];o&&o.width&&(o.width!==s.width&&n.animateElement(i,"width: ".concat(o.width,"px; height: ").concat(o.height,"px;"),"width: ".concat(s.width,"px; height: ").concat(s.height,"px;")))}},n.animateElement=function(e,t,a){e.style.cssText=t,e.getBoundingClientRect(),e.style.cssText="\n            transition-duration: 500ms;\n            transition-property: transform,width,height;\n            ".concat(a,"\n        "),e.addEventListener("transitionend",n.onAnyTransitionEnd),n.animatingElements.push(e)},n.onAnyTransitionEnd=function(e){var t=e.propertyName;"transform"!==t&&"width"!==t&&"height"!==t||n.removeAllAnimations()},n.removeAllAnimations=function(){var e=n.props.classes,t=!0,a=!1,r=void 0;try{for(var i,o=n.animatingElements[Symbol.iterator]();!(t=(i=o.next()).done);t=!0){var s=i.value;s.removeEventListener("transitionend",n.onAnyTransitionEnd),s.removeAttribute("style")}}catch(p){a=!0,r=p}finally{try{t||null==o.return||o.return()}finally{if(a)throw r}}n.animatingElements=[];var c=nr(".".concat(e.soldier),n.rootRef.current),l=!0,u=!1,d=void 0;try{for(var m,f=c[Symbol.iterator]();!(l=(m=f.next()).done);l=!0){m.value.removeAttribute("style")}}catch(p){u=!0,d=p}finally{try{l||null==f.return||f.return()}finally{if(u)throw d}}},n.onPointerDown=function(){n.animatingElements.length&&n.removeAllAnimations()},n.onDrop=function(e,t){if(null!==t&&-1!==t)if(t!==n.currentOrder.indexOf(e)){var a=n.props,r=a.dispatch,i=a.quizId,o=a.uid;r(So(i,o,t,e))}else n.distributeSoldiers();else n.distributeSoldiers()},n.memoStyle=Object(I.a)(function(e,t){var n={};return void 0!==e&&(n.minWidth=e+"px"),void 0!==t&&(n.maxWidth=t+"px"),n}),n.memoMetas=Object(I.a)(function(e,t,n,a){var r={};e.forEach(function(e){return r[e.uid]=e.text});var i={},o=t.finalOrder,s=t.givenAnswers,c=t.indirectAnswers;return e.forEach(function(e,t){var l=!1,u=!1,d=!1,m=o[t],f=r[m];n&&!a||(m in s&&(m===e.uid?(l=!0,d=!0):u=!0),m in c&&m===e.uid&&(l=!0,d=!0)),i[m]={text:f,isGood:l,isBad:u,isDisabled:!(!n||!a)||d}}),i}),n.memoIsCorrect=Object(I.a)(function(e,t){var n={},a=e.finalOrder,r=e.givenAnswers,i=e.indirectAnswers;return t.forEach(function(e,t){var o=a[t];o in r&&o===e.uid&&(n[o]=!0),o in i&&o===e.uid&&(n[o]=!0)}),Object.keys(n).length===t.length}),n.memoShuffling=Object(I.a)(function(e,t){for(var n=[],a=Object(Pr.a)(Array(e.length).keys()),r=To(a,t),i=0;i<a.length;i++){var o=e[r[i]];n.push(o)}return n}),n.memoSolvedAnswers=Object(I.a)(function(e){var t=[];return e.forEach(function(e,n){t.push({uid:e.uid,index:n})}),t}),n.memoFinalAnswers=Object(I.a)(function(e,t){var n=e.map(function(e){return e.uid}),a={},r={};return t.forEach(function(e){var t=e.index,i=e.uid,o=n[t],s=n.indexOf(i);jo(n,t,s),a[i]=!0,r[o]=!0}),{finalOrder:n,givenAnswers:a,indirectAnswers:r}}),n}return Object(S.a)(t,e),Object(E.a)(t,[{key:"render",value:function(){var e=this,t=this.props,n=t.classes,a=t.quizId,r=t.evaluation,i=t.title,o=t.options,s=t.answers,c=t.layout,u=t.seed,d=t.showNumbers,m=t.minWidth,f=t.maxWidth,p=t.isVerified,h=this.memoShuffling(o,u),v=this.state.isSolved?this.memoSolvedAnswers(o):s,b=this.memoFinalAnswers(h,v),g=this.memoMetas(o,b,r,p),E=this.currentOrder=b.finalOrder,y=this.memoStyle(m,f);return l.a.createElement("div",{className:n.root,ref:this.rootRef,onPointerDown:this.onPointerDown},l.a.createElement(St,{className:n.title,html:i}),l.a.createElement("div",{className:n.battlefield},l.a.createElement("div",{className:Object(W.a)(n.garrison,n[c])},E.map(function(t,a){return l.a.createElement("div",{className:n.indexed,key:h[a].uid},d&&l.a.createElement(bo.a,{variant:"h5",className:n.margin},a+1),l.a.createElement("div",{className:n.bunker},l.a.createElement(Oo,{className:n.soldier,style:y,uid:t,label:g[t].text,isGood:g[t].isGood,isBad:g[t].isBad,isDisabled:g[t].isDisabled,contextRef:e.rootRef,bunkerClass:n.bunker,bunkerIndex:a,onDrop:e.onDrop})))}))),l.a.createElement("div",null,E.map(function(e){return l.a.createElement(Oo,{style:y,key:e,className:n.decoy,uid:e,label:g[e].text,isGood:g[e].isGood,isBad:g[e].isBad,isDisabled:g[e].isDisabled})})),r&&l.a.createElement(kr,{isAnswered:!Object(F.isEmpty)(s),isVerified:p,isCorrect:this.memoIsCorrect(b,o),quizId:a,onVerify:this.onVerify,onSolve:this.onSolve,onRestore:this.onRestore}))}},{key:"componentDidMount",value:function(){this.distributeSoldiers()}},{key:"getSnapshotBeforeUpdate",value:function(e,t){var n=this.rootRef.current,a=this.props.classes,r=nr(".".concat(a.soldier),n),i=nr(".".concat(a.bunker),n);return this.soldiersBefore=go(r,"uid"),this.bunkersBefore=tr(i),null}},{key:"componentDidUpdate",value:function(e,t,n){this.distributeSoldiers(!0);var a=this.props,r=a.options,i=a.dispatch,o=a.quizId,s=a.uid,c=a.evaluation,l=a.seed,u=a.answers,d=a.isVerified,m=this.memoShuffling(r,l),f=this.memoFinalAnswers(m,u);if(c){if(!e.isVerified&&d){var p=this.memoIsCorrect(f,r)?Mt:2;i(ur(o,s,p))}}else e.answers!==u&&this.memoIsCorrect(f,r)&&i(ur(o,s,Mt))}},{key:"componentWillUnmount",value:function(){this.removeAllAnimations()}}]),t}(l.a.PureComponent),To=function(e,t){for(var n=cr()(t),a=e.length;a-- >1;){var r=Math.floor(n()*a);jo(e,a,r)}return e},jo=function(e,t,n){var a=e[t];e[t]=e[n],e[n]=a},No=Object(T.b)(function(e,t){var n=t.quizId,a=t.uid;return{answers:Eo(e,n,a),seed:mr(e,n,a),isVerified:fr(e,n,a)}})(N()(wo)(Io)),ko=n(184),Co=n.n(ko),_o=n(183),Lo=n.n(_o),Ro=n(182),xo=n.n(Ro),Do=function(e,t,n){return e.models[t].challenges[n].answers},Po=lt()(l.a.createElement("path",{d:"\r M19,3H5A2,2,0,0,0,3,5V19a2,2,0,0,0,2,2H19a2,2,0,0,0,2-2V5A2,2,0,0,0,19,3Z\r M10,17,5,12l1.41-1.41L10,14.17l7.59-7.59L19,8Z\r "})),Ao=lt()(l.a.createElement("path",{d:"\r M19,3H5A2,2,0,0,0,3,5V19a2,2,0,0,0,2,2H19a2,2,0,0,0,2-2V5A2,2,0,0,0,19,3Z\r M17,15.6,15.6,17,12,13.4,8.4,17,7,15.6,10.6,12,7,8.4,8.4,7,12,10.6,15.6,7,17,8.4,13.4,12Z\r "})),Mo=lt()(l.a.createElement("path",{d:"\r M19 5v14H5V5h14m0-2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2z\r M7,7h10v10h-10\r "})),Bo=lt()(l.a.createElement("path",{d:"M12 2a10 10 0 1 0 10 10 10 10 0 0 0-10-10zm-2.5 15.21l-5-5 1.41-1.41 3.59 3.58 7.59-7.59 1.41 1.42z"})),Uo=lt()(l.a.createElement("path",{d:"\r M12,2A10,10,0,1,0,22,12A10,10,0,0,0,12,2Z\r m5,13.6L15.6,17L12,13.4L8.4,17L7,15.6L10.6,12L7,8.4L8.4,7L12,10.6L15.6,7L17,8.4L13.4,12Z\r "})),zo=function(e,t,n,a){return{type:"QUIZ_CHOICE_SELECT",id:e,challengeId:t,optionUid:n,mode:a}},Ho=function(e){function t(){var e,n;Object(g.a)(this,t);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(n=Object(y.a)(this,(e=Object(O.a)(t)).call.apply(e,[this].concat(r)))).state={isSolved:!1},n.ref=l.a.createRef(),n.onOptionClick=function(e){var t=n.props,a=t.dispatch,r=t.quizId,i=t.uid,o=t.mode,s=e.currentTarget.dataset.uid;a(zo(r,i,s,o))},n.onVerify=function(){var e=n.props,t=e.quizId,a=e.uid;(0,e.dispatch)(Cr(t,a))},n.onSolve=function(){n.setState({isSolved:!0})},n.onRestore=function(){n.setState({isSolved:!1})},n.memoShuffledOptions=Object(I.a)(function(e,t,n){return t?lr(Object(Pr.a)(e),n):e}),n.memoMetas=Object(I.a)(function(e,t,a,r,i,o){var s={},c=!0,l=!1,u=void 0;try{for(var d,m=e[Symbol.iterator]();!(c=(d=m.next()).done);c=!0){var f=d.value,p=f.uid,h=f.isCorrect,v=void 0,b=null,g=!1;p in t?!i||o?h?(v=a===ke?Bo:Po,b=r.good,g=!0):(v=a===ke?Uo:Ao,b=r.bad):v=a===ke?xo.a:Mo:v=a===ke?Lo.a:Co.a,s[p]={Icon:v,className:b,disabled:g}}}catch(y){l=!0,u=y}finally{try{c||null==m.return||m.return()}finally{if(l)throw u}}if(i&&o||!i&&n.memoIsCorrect(e,t))for(var E in s)s[E].disabled=!0;return s}),n.memoSolvedAnswers=Object(I.a)(function(e){var t={},n=!0,a=!1,r=void 0;try{for(var i,o=e[Symbol.iterator]();!(n=(i=o.next()).done);n=!0){var s=i.value,c=s.uid;s.isCorrect&&(t[c]=1)}}catch(l){a=!0,r=l}finally{try{n||null==o.return||o.return()}finally{if(a)throw r}}return t}),n.memoIsCorrect=Object(I.a)(function(e,t){var n=!0,a=!1,r=void 0;try{for(var i,o=e[Symbol.iterator]();!(n=(i=o.next()).done);n=!0){var s=i.value,c=s.uid;if(s.isCorrect){if(!t[c])return!1}else if(t[c])return!1}}catch(l){a=!0,r=l}finally{try{n||null==o.return||o.return()}finally{if(a)throw r}}return!0}),n}return Object(S.a)(t,e),Object(E.a)(t,[{key:"render",value:function(){var e=this,t=this.props,n=t.classes,a=t.title,r=t.options,i=t.mode,o=t.shuffled,s=t.seed,c=t.answers,u=t.evaluation,d=t.quizId,m=t.isVerified,f=this.memoShuffledOptions(r,o,s),p=this.state.isSolved?this.memoSolvedAnswers(r):c,h=this.memoMetas(r,p,i,n,u,m);return l.a.createElement("div",{className:n.root},l.a.createElement(St,{className:n.title,html:a}),l.a.createElement("div",{className:n.options},f.map(function(t){var a=t.uid,r=t.text,i=h[a],o=i.Icon,s=i.className,c=i.disabled;return l.a.createElement(hr.a,{key:a,"data-uid":a,component:"div",disabled:c,className:n.option,onClick:e.onOptionClick,classes:{label:n.buttonLabel},TouchRippleProps:{classes:{ripple:n.ripple}}},l.a.createElement(o,{className:s}),l.a.createElement(St,{className:n.label,html:r}))})),u&&l.a.createElement(kr,{isAnswered:!Object(F.isEmpty)(c),isVerified:m,isCorrect:this.memoIsCorrect(r,c),quizId:d,onVerify:this.onVerify,onSolve:this.onSolve,onRestore:this.onRestore}))}},{key:"componentDidUpdate",value:function(e,t,n){var a=this.props,r=a.options,i=a.answers,o=a.dispatch,s=a.quizId,c=a.uid,l=a.evaluation,u=a.isVerified;if(l){if(!e.isVerified&&u){var d=this.memoIsCorrect(r,i)?Mt:2;o(ur(s,c,d))}}else e.answers!==i&&this.memoIsCorrect(r,i)&&o(ur(s,c,Mt))}}]),t}(l.a.PureComponent),Wo=Object(T.b)(function(e,t){var n=t.quizId,a=t.uid;return{answers:Do(e,n,a),seed:mr(e,n,a),isVerified:fr(e,n,a)}})(N()({root:{margin:"auto",padding:16,width:"100%",display:"flex",flexDirection:"column"},title:{textAlign:"center"},options:{margin:"auto",display:"flex",flexDirection:"column"},option:{padding:8},buttonLabel:{display:"flex",flexDirection:"row",alignItems:"flex-start"},label:{flexGrow:1,marginLeft:4,color:"#000",fontWeight:400},ripple:{top:"6px !important",left:"6px !important",right:"auto !important",bottom:"auto !important",width:"28px !important",height:"28px !important"},good:{color:"#01a901"},bad:{color:"#e61818"}})(Ho)),Fo=function(e,t){return e.models[t].challengesCompleted},Go=function(e,t){return e.models[t].attempt},Vo=function(e,t){return e.models[t].bestScore},Zo=n(185),Qo=n.n(Zo),qo=function(e){function t(){var e,n;Object(g.a)(this,t);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(n=Object(y.a)(this,(e=Object(O.a)(t)).call.apply(e,[this].concat(r)))).state={isInvisible:!0},n.onRetryClick=function(){n.props.onRetry()},n.memoMessage=Object(I.a)(function(e,t){if(!e)return null;var n,a=-1,r=!0,i=!1,o=void 0;try{for(var s,c=e[Symbol.iterator]();!(r=(s=c.next()).done);r=!0){var l=s.value;l.value<=t&&l.value>a&&(a=l.value,n=l.message)}}catch(u){i=!0,o=u}finally{try{r||null==c.return||c.return()}finally{if(i)throw o}}return n}),n}return Object(S.a)(t,e),Object(E.a)(t,[{key:"render",value:function(){var e=this.props,t=e.classes,n=e.slang,a=e.attempt,r=e.retries,i=e.thresholds,o=e.percent,s=this.state.isInvisible,c=this.memoMessage(i,o);return l.a.createElement("div",{className:t.root},l.a.createElement(bo.a,{variant:"h5"},n.QUIZ_RESULTS),l.a.createElement("div",{className:t.ringContainer},l.a.createElement(an.a,{className:t.ringGhost,variant:"static",size:160,thickness:4,value:100}),l.a.createElement(an.a,{className:t.ring,variant:"static",size:160,thickness:4,value:s?0:o,classes:{circleStatic:t.circleStaticOverride}}),l.a.createElement(bo.a,{className:Object(W.a)(t.percent,s&&t.percentInvisible),variant:"h5"},o,"%")),c&&l.a.createElement(St,{className:Object(W.a)(t.message,s&&t.messageInvisible),html:c}),(void 0===r?o<100:a<r)&&l.a.createElement(hr.a,{className:Object(W.a)(t.retryButton,s&&t.retryButtonInvisible),color:"primary",variant:"outlined",onClick:this.onRetryClick},l.a.createElement(Qo.a,null),"\xa0",n.QUIZ_RETRY,r>0&&a<r&&l.a.createElement(bo.a,{variant:"caption"},"\xa0 (",a+1,"/",r,")")))}},{key:"componentDidMount",value:function(){var e=this;setTimeout(function(){e.setState({isInvisible:!1})},0)}}]),t}(l.a.PureComponent),Yo=Object(T.b)(function(e,t){var n=t.quizId;return{slang:Sr(e,n),attempt:Go(e,n)}})(N()({root:{margin:"auto",padding:16,width:"100%",display:"flex",alignItems:"center",flexDirection:"column"},ringContainer:{marginTop:16,position:"relative"},ringGhost:{opacity:.1},ring:{position:"absolute",left:0,top:0},circleStaticOverride:{transitionDuration:"1000ms"},percent:{position:"absolute",left:"50%",top:"50%",transform:"translate(-50%,-50%)",transitionProperty:"opacity",transitionDuration:"500ms",transitionDelay:"1000ms"},percentInvisible:{opacity:0},message:{fontSize:"1.2rem",color:"inherit",marginTop:16,transitionProperty:"opacity, transform",transitionDuration:"500ms",transitionDelay:"1500ms"},messageInvisible:{opacity:0,transform:"translateY(-24px)"},retryButton:{marginTop:48,transitionProperty:"opacity, transform",transitionDuration:"500ms",transitionDelay:"2000ms"},retryButtonInvisible:{opacity:0,transform:"translateY(-24px)"}})(qo)),$o=function(e){return parseFloat(e.toFixed(2))},Xo={root:{master:{flexGrow:1},slave:{height:"100%",flexGrow:1}},container:{master:null,slave:{height:"100%"}},slide:{display:"flex",overflowY:"auto"}},Ko=(di={},Object(w.a)(di,ke,Wo),Object(w.a)(di,Ce,Wo),Object(w.a)(di,_e,xr),Object(w.a)(di,Le,Xr),Object(w.a)(di,Re,No),di),Jo=function(e){function t(){var e,n;Object(g.a)(this,t);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(n=Object(y.a)(this,(e=Object(O.a)(t)).call.apply(e,[this].concat(r)))).state={activeStep:0,solvedCount:0},n.onSwipeableViewsChangeIndex=function(e){n.setState({activeStep:e})},n.handleNext=function(){n.setState({activeStep:n.state.activeStep+1})},n.handleBack=function(){n.setState({activeStep:n.state.activeStep-1})},n.onQuizOutroRetry=function(){var e=n.props,t=e.dispatch,a=e.id;n.setState({activeStep:0}),t(dr(a))},n.checkQuizCompleted=function(){var e=n.props,t=e.thresholds,a=e.challengesCompleted,r=e.challenges;if(!t)return!0;var i=n.memoPercent(a,r);return t[t.length-1].value<=i},n.memoPercent=Object(I.a)(function(e,t){var n=t.length;if(Object.keys(e).length!==n)return 0;var a=0;for(var r in e){e[r]===Mt&&a++}return Math.ceil(100*a/n)}),n}return Object(S.a)(t,e),Object(E.a)(t,[{key:"render",value:function(){var e=this.props,t=e.classes,n=e.challenges,a=e.description,r=e.isSlave,i=e.id,o=e.challengesCompleted,s=e.evaluation,c=e.retries,u=e.thresholds,d=e.attempt,m=this.state,f=m.activeStep,p=m.solvedCount,h=n.length+(s?1:0),v=r?"slave":"master",b=h>1,g=f>0,E=f<h-1,y=this.memoPercent(o,n),O=!1;if(E){var S=n[f].uid;O=Boolean(o[S])}return l.a.createElement(Zt,Object.assign({},Gt(this.props),{className:Object(W.a)(t.root,r&&t.isSlave)}),l.a.createElement("div",{className:t.quizRow},l.a.createElement(lo.a,{axis:"x",index:this.state.activeStep,onChangeIndex:this.onSwipeableViewsChangeIndex,style:Xo.root[v],containerStyle:Xo.container[v],slideStyle:Xo.slide,disabled:!E||!O,enableMouseEvents:!0},n.map(function(e){var t=Ko[e.mode];return l.a.createElement(t,Object.assign({key:e.uid+d,quizId:i,evaluation:s},e))}),s&&!E?l.a.createElement(Yo,{retries:c,thresholds:u,percent:y,quizId:i,onRetry:this.onQuizOutroRetry}):l.a.createElement("div",null))),b&&l.a.createElement(ho,{className:t.navBar,hasPrev:g,onPrev:this.handleBack,hasNext:E,isNextAllowed:O,onNext:this.handleNext,solvedCount:p}),l.a.createElement(kn,{html:a,isSlave:r}))}},{key:"componentDidUpdate",value:function(e,t,n){var a=this.props,r=a.challenges,i=a.challengesCompleted,o=a.dispatch,s=a.id,c=a.evaluation,l=a.bestScore;if(e.challengesCompleted!==this.props.challengesCompleted)if(r.length===Object.keys(i).length)if(c){if(this.checkQuizCompleted()){o(vi(s));var u=this.memoPercent(i,r),d=$o(u/100);d>l&&o(function(e,t){return{type:"QUIZ_BEST_SCORE_UPDATE",id:e,ratio:t}}(s,d))}}else o(vi(s));else c||this.setState({solvedCount:this.state.solvedCount+1})}},{key:"componentWillUnmount",value:function(){var e=this.props,t=e.retries,n=e.dispatch,a=e.id;void 0===t&&n(dr(a))}}]),t}(l.a.PureComponent),es=Object(T.b)(function(e,t){var n=t.id;return{challengesCompleted:Fo(e,n),attempt:Go(e,n),bestScore:Vo(e,n)}})(N()(function(e){return{root:{minHeight:20,marginTop:e.spacing.unit/4,marginBottom:e.spacing.unit/4,backgroundColor:"white",display:"flex",flexDirection:"column"},isSlave:{height:"100%",marginTop:0,marginBottom:0},quizRow:{display:"flex",position:"relative",flexDirection:"row",flexGrow:"1",alignItems:"center",padding:2}}})(Jo)),ts=new Map,ns=0;window.onYouTubeIframeAPIReady=function(){ns=2;var e=!0,t=!1,n=void 0;try{for(var a,r=ts[Symbol.iterator]();!(e=(a=r.next()).done);e=!0){var i=a.value,o=Object(Ni.a)(i,2),s=o[0];(0,o[1])(),ts.delete(s)}}catch(c){t=!0,n=c}finally{try{e||null==r.return||r.return()}finally{if(t)throw n}}};var as,rs,is=function(e,t){if(2===ns)t();else{if(0===ns){var n=document.createElement("script");n.src="https://www.youtube.com/player_api",document.head.appendChild(n)}ts.set(e,t)}},os=function(e){ts.delete(e)},ss=function(e){if(e&&e.match(/^(http(s)?:\/\/)?((w){3}.)?youtu(\.be|be\.com)\/.+/)){var t=e.match(/[\/=?][a-zA-Z_0-9-]{11}\b/);return t&&t[0].substr(1)}},cs=function(e){function t(){var e,n;Object(g.a)(this,t);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(n=Object(y.a)(this,(e=Object(O.a)(t)).call.apply(e,[this].concat(r)))).state={isLoaded:!1,moldWidth:0,moldHeight:0},n.moldRef=l.a.createRef(),n.iframeRef=l.a.createRef(),n.player=null,n.onIframeLoad=function(){n.setState({isLoaded:!0})},n.onYTAPIReady=function(){n.player=new window.YT.Player(n.iframeRef.current),n.player.addEventListener("onStateChange",n.onPlayerStateChange)},n.onPlayerStateChange=function(e){if(0===e.data){var t=n.props.id;pi(vi(t))}},n.onPlaceholderResize=function(){var e=n.moldRef.current;n.setState({moldWidth:e.offsetWidth,moldHeight:e.offsetHeight})},n.memoShellStyle=Object(I.a)(function(e,t,n){return n===xt?{maxWidth:e+"px",maxHeight:t+"px"}:null}),n.memoPlaceholderStyle=Object(I.a)(function(e,t,n){return n?{height:"100%"}:{paddingTop:t/e*100+"%"}}),n.memoCoreStyle=Object(I.a)(function(e,t,n,a,r,i){if(i){if(r===xt){var o,s,c;if(n<=e&&a<=t)o=n,s=a;else e/t>n/a?o=n/(c=a/(s=t)):s=a/(c=n/(o=e));return{width:n+"px",height:a+"px",left:(e-o)/2+"px",top:(t-s)/2+"px",transform:c?"scale("+1/c+")":null}}return{width:e+"px",height:t+"px"}}if(r===xt){var l={width:n+"px",height:a+"px"};if(e!==n){var u=e/n;Object.assign(l,{transform:"scale("+u+")"})}return l}return{width:e+"px",height:t+"px"}}),n}return Object(S.a)(t,e),Object(E.a)(t,[{key:"render",value:function(){var e=this.props,t=e.classes,n=e.external,a=e.isSlave,r=e.title,i=e.description,o=this.state,s=o.isLoaded,c=o.moldWidth,u=o.moldHeight,d=this.memoShellStyle(640,360,"none"),m=this.memoPlaceholderStyle(640,360,a),f=this.memoCoreStyle(c,u,640,360,"none",a);return l.a.createElement(Zt,Object.assign({},Gt(this.props),{className:Object(W.a)(t.root,s&&t.isLoaded,a&&t.isSlave)}),l.a.createElement("div",{className:t.shell,style:d},l.a.createElement("div",{className:t.mold,style:m,ref:this.moldRef},l.a.createElement("iframe",{ref:this.iframeRef,className:t.core,title:r,style:f,src:"https://www.youtube.com/embed/".concat(ss(n),"?").concat("enablejsapi=1&iv_load_policy=3&loop=1&modestbranding=1&rel=0"),onLoad:this.onIframeLoad,allowFullScreen:!0})),!s&&l.a.createElement(hn,{centered:!0})),l.a.createElement(kn,{html:i,isSlave:a}))}},{key:"componentDidMount",value:function(){Tn(this.moldRef.current,this.onPlaceholderResize),is(this.iframeRef.current,this.onYTAPIReady)}},{key:"componentWillUnmount",value:function(){jn(this.moldRef.current,this.onPlaceholderResize),os(this.iframeRef.current,this.onYTAPIReady),this.player&&(this.player.removeEventListener("onStateChange",this.onPlayerStateChange),this.player=null)}}]),t}(l.a.PureComponent),ls=N()({root:{minHeight:40,background:"black"},shell:{position:"relative",margin:"auto",width:"100%"},mold:{width:"100%"},core:{position:"absolute",top:0,left:0,transformOrigin:"0 0",border:"none",visibility:"hidden"},isLoaded:{minHeight:20,"& $core":{visibility:"visible"}},isSlave:{display:"flex",flexDirection:"column",height:"100%",overflow:"hidden","& $shell":{flexGrow:1}}})(cs),us=function(e){function t(){var e,n;Object(g.a)(this,t);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(n=Object(y.a)(this,(e=Object(O.a)(t)).call.apply(e,[this].concat(r)))).shellRef=l.a.createRef(),n.videoRef=l.a.createRef(),n.state={shellWidth:0},n.onVideoEnded=function(){var e=n.props,t=e.id;e.rewind&&n.videoRef.current.load(),pi(vi(t))},n.onShellResize=function(){var e=n.shellRef.current;n.setState({shellWidth:e.offsetWidth})},n}return Object(S.a)(t,e),Object(E.a)(t,[{key:"render",value:function(){var e=this.props,t=e.classes,n=e.width,a=e.height,r=e.src,i=e.bytes,o=e.poster,s=e.description,c=e.isSlave,u=this.state.shellWidth;return l.a.createElement(Zt,Object.assign({},Gt(this.props),{className:Object(W.a)(t.root,c&&t.isSlave)}),l.a.createElement("div",{className:t.shell,ref:this.shellRef,style:c?null:{height:u*a/n}},l.a.createElement("video",{ref:this.videoRef,className:t.core,src:r+"?b="+i,poster:o,controls:!0,onEnded:this.onVideoEnded})),l.a.createElement(kn,{html:s,isSlave:c}))}},{key:"componentDidMount",value:function(){Tn(this.shellRef.current,this.onShellResize)}},{key:"componentWillUnmount",value:function(){jn(this.shellRef.current,this.onShellResize)}}]),t}(l.a.PureComponent),ds=N()({root:{minHeight:40},shell:{position:"relative"},core:{position:"absolute",width:"100%",height:"100%"},isSlave:{height:"100%",display:"flex",flexDirection:"column","& $shell":{flexGrow:1}}})(us),ms=function(e){var t,n;return e.external?(t=ls,n=e):(t=ds,delete(n=Object(U.a)({},e)).external),l.a.createElement(t,n)},fs=lt()(l.a.createElement(l.a.Fragment,null,l.a.createElement("path",{d:"M3,0h12l6,6v24h-18",opacity:"0.2"}),l.a.createElement("path",{d:"M15,0l6,6h-6",opacity:"0.25"}))),ps=n(186),hs=n.n(ps),vs=function(e){function t(){return Object(g.a)(this,t),Object(y.a)(this,Object(O.a)(t).apply(this,arguments))}return Object(S.a)(t,e),Object(E.a)(t,[{key:"render",value:function(){var e=this.props,t=e.classes,n=e.name,a=e.description,r=e.bytes,i=e.url,o=n.match(/\w*$/)[0].toUpperCase();return l.a.createElement(Ot.a,{title:a?l.a.createElement("div",{dangerouslySetInnerHTML:{__html:a}}):""},l.a.createElement(hr.a,{component:"a",className:t.root,href:i,download:n,target:"_blank",rel:"noopener noreferrer",onClick:jr},l.a.createElement("div",{className:t.left},l.a.createElement(fs,{className:t.fileIcon}),l.a.createElement("div",{className:t.extension},o)),l.a.createElement("div",{className:t.center},a?l.a.createElement(bo.a,{variant:"subtitle2",className:t.name},n):l.a.createElement(kt,{className:t.name,value:n}),l.a.createElement(bo.a,{variant:"caption",className:t.bytes},function(e,t){return e||0===e?(0===e?n="0":"0.0"===(n=(e/1048576).toFixed(1))&&(n="0.1"),n+=" MB",t?" (".concat(n,")"):n):"\u2013";var n}(r))),l.a.createElement(hs.a,null)))}}]),t}(l.a.PureComponent),bs=N()(function(e){return{root:{marginTop:8,padding:"0 12px",border:"solid 1px silver",display:"flex",textDecoration:"none !important","&::after":{content:"none !important"},"&:first-child":{marginTop:0}},left:{position:"relative"},extension:{position:"absolute",left:0,bottom:16,right:0,textAlign:"center",fontSize:10},fileIcon:{fontSize:48},center:{padding:"24px 12px",flexGrow:1,overflow:"hidden"},name:{color:e.typography.body2.color,whiteSpace:"nowrap",textOverflow:"ellipsis",overflow:"hidden"},bytes:{whiteSpace:"nowrap",marginTop:-4,color:"gray"}}})(vs),gs=function(e){function t(){return Object(g.a)(this,t),Object(y.a)(this,Object(O.a)(t).apply(this,arguments))}return Object(S.a)(t,e),Object(E.a)(t,[{key:"render",value:function(){var e=this.props,t=e.classes,n=e.list,a=e.isSlave,r=e.description;return l.a.createElement(Zt,Object.assign({},Gt(this.props),{className:Object(W.a)(t.root,a&&t.isSlave)}),l.a.createElement("div",{className:t.list},n.map(function(e){var t=e.file;return l.a.createElement(bs,{key:e.uid,name:t.name,url:t.url,description:e.description,bytes:t.bytes})})),l.a.createElement(kn,{html:r,isSlave:a}))}},{key:"componentDidMount",value:function(){var e=this.props,t=e.isSlave,n=e.id;t&&n&&pi(vi(n))}}]),t}(l.a.PureComponent),Es=N()({root:{},isSlave:{display:"flex",flexDirection:"column",justifyContent:"center",height:"100%"},list:{"$isSlave &":{padding:16,width:"100%",maxWidth:1024,marginLeft:"auto",marginRight:"auto"}}})(gs),ys=n(188),Os=n.n(ys),Ss=n(187),ws=n.n(Ss),Is=function(e,t){return{type:"BARRIER_RAISE",id:e,nodeId:t}},Ts=function(e){function t(){var e,n;Object(g.a)(this,t);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(n=Object(y.a)(this,(e=Object(O.a)(t)).call.apply(e,[this].concat(r)))).onClick=function(){var e=n.props,t=e.dispatch,a=e.id,r=e.sectionId,i=e.onBarrierRaise,o=e.follower;t(Is(r,a)),i(r,o)},n}return Object(S.a)(t,e),Object(E.a)(t,[{key:"render",value:function(){var e=this.props,t=e.classes,n=e.content,a=e.contentUnlocked,r=e.lockStatus;return l.a.createElement(Zt,Object.assign({},Gt(this.props),{className:t.root}),l.a.createElement("div",{className:t.wrapper},"locked"===r&&l.a.createElement("div",{className:t.locked},l.a.createElement(ws.a,null),l.a.createElement(St,{className:t.lockedLabel,html:n})),"unlocked"===r&&l.a.createElement(hr.a,{className:t.button,color:"primary",variant:"contained",onClick:this.onClick},l.a.createElement(St,{className:t.buttonLabel,html:a}),l.a.createElement(Os.a,null))))}}]),t}(l.a.PureComponent),js=Object(T.b)(function(e,t){var n=t.id,a=t.sectionId,r=t.observedId,i=function(e,t,n){return e.models[t].nodes[n].lockStatus}(e,a,n);return"auto"===i&&(i=!r||br(e,r)?"unlocked":"locked"),{lockStatus:i}})(N()({root:{padding:20},wrapper:{maxWidth:400,margin:"auto"},locked:{padding:16,border:"solid 1px currentColor",color:"#999",borderRadius:4,display:"flex",justifyContent:"center"},lockedLabel:{marginLeft:4,color:"inherit"},button:{padding:16,width:"100%",marginBottom:2},buttonLabel:{marginRight:4,color:"inherit"}},{name:"Barrier"})(Ts)),Ns=n(72),ks=n.n(Ns),Cs=n(58),_s=n.n(Cs),Ls=n(189),Rs=n.n(Ls),xs=function(e,t){return{type:"ACCORDION_ITEM_TOGGLE",id:e,itemId:t}},Ds=function(e,t){return e.models[t].openedIds},Ps=function(e,t){return e.models[t].visitedIds},As=function(e){function t(){var e,n;Object(g.a)(this,t);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(n=Object(y.a)(this,(e=Object(O.a)(t)).call.apply(e,[this].concat(r)))).onItemClick=function(e){var t=e.currentTarget.dataset.uid,a=n.props,r=a.id;(0,a.dispatch)(xs(r,t))},n}return Object(S.a)(t,e),Object(E.a)(t,[{key:"render",value:function(){var e=this,t=this.props,n=t.classes,a=t.items,r=t.isSlave,i=t.openedIds;return l.a.createElement(Zt,Object.assign({},Gt(this.props),{className:Object(W.a)(r&&n.isSlave)}),a.map(function(t,a){return l.a.createElement(ks.a,{key:a,className:Object(W.a)(n.item,t.uid in i&&n.itemOpened)},l.a.createElement(_s.a,{button:!0,"data-uid":t.uid,onClick:e.onItemClick},l.a.createElement(St,{html:t.title,className:n.line}),l.a.createElement("div",{className:n.icon},t.uid in i?"\u2013":"+")),l.a.createElement(Rs.a,{in:t.uid in i},l.a.createElement(_s.a,{className:n.content},l.a.createElement(St,{html:t.content}))))}))}},{key:"componentDidUpdate",value:function(e){var t=this.props,n=t.id,a=t.dispatch,r=t.items,i=t.visitedIds;if(i!==e.visitedIds){var o=!0,s=!1,c=void 0;try{for(var l,u=r[Symbol.iterator]();!(o=(l=u.next()).done);o=!0){if(!(l.value.uid in i))return}}catch(d){s=!0,c=d}finally{try{o||null==u.return||u.return()}finally{if(s)throw c}}a(vi(n))}}},{key:"componentWillUnmount",value:function(){var e=this.props,t=e.id;(0,e.dispatch)(function(e){return{type:"ACCORDION_CLEAR",id:e}}(t))}}]),t}(l.a.PureComponent),Ms=Object(T.b)(function(e,t){var n=t.id;return{openedIds:Ds(e,n),visitedIds:Ps(e,n)}})(N()(function(e){return{isSlave:{display:"flex",flexDirection:"column",justifyContent:"center",height:"100%"},item:{border:"1px solid #ddd",borderTop:0,"&:first-child":{borderTop:"1px solid #ddd"}},itemOpened:{boxShadow:"inset 4px 0px 0px 0px "+e.palette.primary.main},icon:{fontSize:"1.8rem",width:"1.2rem",textAlign:"center",color:e.palette.primary.main},line:{color:e.palette.primary.main,fontWeight:"700",flexGrow:1},content:{display:"block"}}})(As)),Bs=n(190),Us=n.n(Bs),zs=n(191),Hs=n.n(zs),Ws=function(e,t){return{type:"TABS_ITEM_SELECT",id:e,itemId:t}},Fs=function(e,t){return e.models[t].openedId},Gs=function(e,t){return e.models[t].visitedIds},Vs=function(){if(void 0===as){var e=document.createElement("p");e.style.width="100%",e.style.height="200px";var t=document.createElement("div");t.style.position="absolute",t.style.top="0px",t.style.left="0px",t.style.visibility="hidden",t.style.width="200px",t.style.height="150px",t.style.overflow="hidden",t.appendChild(e),document.body.appendChild(t);var n=e.offsetWidth;t.style.overflow="scroll";var a=e.offsetWidth;n===a&&(a=t.clientWidth),document.body.removeChild(t),as=n-a}return as}(),Zs=function(e){function t(){var e,n;Object(g.a)(this,t);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(n=Object(y.a)(this,(e=Object(O.a)(t)).call.apply(e,[this].concat(r)))).rootRef=l.a.createRef(),n.innerRef=l.a.createRef(),n.handleChange=function(e,t){var a=n.props,r=a.id;(0,a.dispatch)(Ws(r,t))},n.onObserverResize=function(){n.innerRef.current.handleScrollbarSizeChange(Vs)},n.memoCatalogue=Object(I.a)(function(e){return Wa(e,"uid")}),n}return Object(S.a)(t,e),Object(E.a)(t,[{key:"render",value:function(){var e=this.props,t=e.classes,n=e.items,a=e.openedId,r=e.isSlave,i=a||!1,o=this.memoCatalogue(n)[a];return l.a.createElement(Zt,Object.assign({},Gt(this.props),{className:Object(W.a)(t.root,r&&t.isSlave),coreRef:this.rootRef}),l.a.createElement(Us.a,{innerRef:this.innerRef,value:i,onChange:this.handleChange,variant:"scrollable",scrollButtons:"on",indicatorColor:"primary",textColor:"primary"},n.map(function(e,t){return l.a.createElement(Hs.a,{value:e.uid,key:t,label:l.a.createElement(St,{html:e.title})})})),o&&l.a.createElement(bo.a,{component:"div",className:t.content},l.a.createElement(St,{html:o.content})))}},{key:"componentDidMount",value:function(){var e=this.props,t=e.id,n=e.dispatch,a=e.items;n(Ws(t,a[0].uid)),Tn(this.rootRef.current,this.onObserverResize)}},{key:"componentDidUpdate",value:function(e){var t=this.props,n=t.id,a=t.dispatch,r=t.items,i=t.visitedIds;if(i!==e.visitedIds){var o=!0,s=!1,c=void 0;try{for(var l,u=r[Symbol.iterator]();!(o=(l=u.next()).done);o=!0){if(!(l.value.uid in i))return}}catch(d){s=!0,c=d}finally{try{o||null==u.return||u.return()}finally{if(s)throw c}}a(vi(n))}}},{key:"componentWillUnmount",value:function(){jn(this.rootRef.current,this.onObserverResize);var e=this.props,t=e.id;(0,e.dispatch)(function(e){return{type:"TABS_CLEAR",id:e}}(t))}}]),t}(l.a.PureComponent),Qs=Object(T.b)(function(e,t){var n=t.id;return{openedId:Fs(e,n),visitedIds:Gs(e,n)}})(N()({root:{display:"flex",flexDirection:"column"},isSlave:{height:"100%"},content:{padding:14,overflow:"auto"}})(Zs)),qs=["row","cell","spacer",Oe,"text","loading"],Ys=function(e){var t=e.data,n=Object(xe.a)(e,["data"]),a=Object(U.a)({},n,{isBlock:!0}),r=t.type;if(!qs.includes(r))switch(t.loadStatus){case"loading":a.type=r="loading";break;case"alive":case void 0:break;default:a.type=r="error"}switch(r){case"row":return l.a.createElement(Yt,Object.assign({},t,a),e.children);case"cell":return l.a.createElement(Kt,Object.assign({},t,a),e.children);case"spacer":return l.a.createElement(Jt,Object.assign({},t,a));case"text":return l.a.createElement(tn,Object.assign({},t,a));case Se:return l.a.createElement(Ms,Object.assign({},t,a));case we:return l.a.createElement(Qs,Object.assign({},t,a));case"loading":return l.a.createElement(bn,Object.assign({},t,a));case"audio":return l.a.createElement(ji,Object.assign({},t,a));case be:return l.a.createElement(to,Object.assign({},t,a));case"gallery":return l.a.createElement(fo,Object.assign({},t,a));case"attachment":return l.a.createElement(Es,Object.assign({},t,a));case"image":return l.a.createElement(Ii,Object.assign({},t,a));case ge:return l.a.createElement(es,Object.assign({},t,a));case"video":return l.a.createElement(ms,Object.assign({},t,a));case"error":return l.a.createElement(On,Object.assign({},t,a));case Oe:return l.a.createElement(js,Object.assign({},t,a));default:return l.a.createElement("div",{key:a.key},"unknown")}},$s=function(e,t){return e.models[t].accessBeyond},Xs=function(e,t,n){var a=!0,r=!1,i=void 0;try{for(var o,s=e[Symbol.iterator]();!(a=(o=s.next()).done);a=!0){var c=o.value;if(c.barrierSectionId===t&&c.barrierId===n)return c.followerId}}catch(l){r=!0,i=l}finally{try{a||null==s.return||s.return()}finally{if(r)throw i}}return null},Ks=function(e,t){for(var n=[],a=e[t].sections,r=0;r<a.length;r++)for(var i=a[r],o=e[i].body,s=0;s<o.length;s++){var c=o[s];if(c.kind===Oe){var l=void 0;s<o.length-1?l=o[s+1].id:r<a.length-1&&(l=a[r+1]),l&&n.push({barrierSectionId:i,barrierId:c.id,followerId:l})}}return n},Js="data-backup",ec=function(e){function t(){var e,n;Object(g.a)(this,t);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(n=Object(y.a)(this,(e=Object(O.a)(t)).call.apply(e,[this].concat(r)))).ref=l.a.createRef(),n.refreshFontSize=function(e,t){if(e!==t){var a=nc(n.ref.current);if(1===t){var r=!0,i=!1,o=void 0;try{for(var s,c=a[Symbol.iterator]();!(r=(s=c.next()).done);r=!0){var l=s.value;l.hasAttribute(Js)?(l.setAttribute("style",l.getAttribute(Js)),l.removeAttribute(Js)):l.removeAttribute("style")}}catch(T){i=!0,o=T}finally{try{r||null==c.return||c.return()}finally{if(i)throw o}}}else{var u=[],d=!0,m=!1,f=void 0;try{for(var p,h=a[Symbol.iterator]();!(d=(p=h.next()).done);d=!0){var v=p.value;u.push(parseFloat(window.getComputedStyle(v).fontSize))}}catch(T){m=!0,f=T}finally{try{d||null==h.return||h.return()}finally{if(m)throw f}}var b=!0,g=!1,E=void 0;try{for(var y,O=a[Symbol.iterator]();!(b=(y=O.next()).done);b=!0){var S=y.value,w=u.shift(),I=void 0;1===e?(I=w,S.hasAttribute("style")&&S.setAttribute(Js,S.getAttribute("style"))):I=w/e,S.style.setProperty("font-size",I*t+"px","important")}}catch(T){g=!0,E=T}finally{try{b||null==O.return||O.return()}finally{if(g)throw E}}}}},n}return Object(S.a)(t,e),Object(E.a)(t,[{key:"render",value:function(){var e=this.props,t=e.classes,n=e.id,a=e.db,r=e.theme,i=e.launcherVisibility,o=e.launcherPosition,s=e.statusBar,c=e.completions,u=e.ignoreBarriers,d=e.onEffectRegister,m=e.isBlocked,f=e.accessBeyond,p=e.followers,h=e.onBarrierRaise,v=e.onLaunch;if(m)return null;var b=a[n]||{},g=b.css,E=b.identifiers,y=ve+n,O={theme:r,launcherVisibility:i,launcherPosition:o,statusBar:s},S={onLaunch:v,onEffectRegister:d};return l.a.createElement("div",{id:y,"data-section":n,className:Object(W.a)(t.root,Et[Ee].className,E),ref:this.ref},tc(n,b.body,a,O,S,c,u,f,p,h),l.a.createElement(Ht,{css:g,domId:y}))}},{key:"componentDidMount",value:function(){this.refreshFontSize(1,this.props.fontSizeFactor)}},{key:"componentDidUpdate",value:function(e,t,n){this.refreshFontSize(e.fontSizeFactor,this.props.fontSizeFactor)}}]),t}(l.a.PureComponent),tc=function e(t,n,a,r,i,o,s,c,u,d){var m=arguments.length>10&&void 0!==arguments[10]?arguments[10]:{id:void 0};if(!n)return null;var f=[],p=!0,h=!1,v=void 0;try{for(var b,g=n[Symbol.iterator]();!(p=(b=g.next()).done);p=!0){var E=b.value,y=E.id;if(!c[y]||s){var O=Object(U.a)({},E,a[y]);O.kind&&(O.type=O.kind);var S=Ec(O,r),w=E.action,I=w?w.target:null,T=w&&w.kind===pe&&a[I]&&a[I].type;(y in a||a[I])&&(a[I]?m.id=I:Kn[O.kind]||(m.id=y));var j={};O.kind===Oe&&(j.sectionId=t,j.observedId=m.id,j.follower=Xs(u,t,y),j.onBarrierRaise=d);var N=Ys(Object(U.a)({key:y,data:O,launchedResourceType:T||"",launchedResourceCompletion:o[I]||0,completion:o[y]},S,i,j,{children:e(t,E.kids,a,S,i,o,s,c,u,d,m)}));if(S.theme!==r.theme?f.push(l.a.createElement(H.a,{theme:ce[S.theme],key:y},N)):f.push(N),y in c&&!c[y]&&!s)return f}}}catch(k){h=!0,v=k}finally{try{p||null==g.return||g.return()}finally{if(h)throw v}}return f},nc=function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],a=!1,r=!0,i=!1,o=void 0;try{for(var s,c=t.childNodes[Symbol.iterator]();!(r=(s=c.next()).done);r=!0){var l=s.value;3===l.nodeType?a||(a=!0,n.push(t)):l.childNodes&&"STYLE"!==l.nodeName&&e(l,n)}}catch(u){i=!0,o=u}finally{try{r||null==c.return||c.return()}finally{if(i)throw o}}return n},ac=Object(T.b)(function(e,t){var n=t.id,a=t.threat,r=a.sectionId,i=a.barrierId;return{isBlocked:(r?function(e,t,n){return e.models[t].accessBeyond[n]}(e,r,i):1)<1,accessBeyond:$s(e,n)}})(N()({root:{margin:"auto",backgroundRepeat:"no-repeat",backgroundPosition:"center",backgroundSize:"contain"}},{name:"Section"})(ec)),rc=100,ic=.33,oc=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],sc=(rs={},Object(w.a)(rs,"Fade",oc),Object(w.a)(rs,"Fall",[3.2,0,0,0,0,3.2,0,0,0,0,1,0,0,0,0,1]),Object(w.a)(rs,"Fall3D",[.866025,.5,0,0,-.5,.866025,0,0,0,0,1,0,300,0,400,.6]),Object(w.a)(rs,"Flip",[6.12323e-17,0,1,-.001,0,1,0,0,-1,0,6.12323e-17,-6.12323e-20,0,0,0,1]),Object(w.a)(rs,"MoveEast",[1,0,0,0,0,1,0,0,0,0,1,0,200,0,0,1]),Object(w.a)(rs,"MoveSouth",[1,0,0,0,0,1,0,0,0,0,1,0,-1,200,0,1]),Object(w.a)(rs,"MoveWest",[1,0,0,0,0,1,0,0,0,0,1,0,-200,0,0,1]),Object(w.a)(rs,"MoveNorth",[1,0,0,0,0,1,0,0,0,0,1,0,-1,-200,0,1]),Object(w.a)(rs,"Scale",[.2,0,0,0,0,.2,0,0,0,0,1,0,0,0,0,1]),rs),cc=function(){function e(){var t=this;Object(g.a)(this,e),this.isListening=!1,this.scroller=null,this.targets=new Map,this.startListening=function(){t.scroller&&t.targets.size&&(t.isListening||(t.scroller.addEventListener("scroll",t.onScrollerScroll),t.isListening=!0),t.analyzeScroller())},this.onScrollerScroll=function(){t.analyzeScroller()},this.analyzeScroller=function(){var e=lc(t.scroller),n=!0,a=!1,r=void 0;try{for(var i,o=t.targets[Symbol.iterator]();!(n=(i=o.next()).done);n=!0){var s=i.value,c=Object(Ni.a)(s,2),l=c[0],u=c[1];if(!u.isStarted){var d=l.getBoundingClientRect(),m=fc(e,d),f=m/d.height,p=m/e.height;(f>ic||p>ic)&&uc(l,u)}}}catch(h){a=!0,r=h}finally{try{n||null==o.return||o.return()}finally{if(a)throw r}}},this.analyzeScroller=Object(F.throttle)(this.analyzeScroller,rc,{leading:!1})}return Object(E.a)(e,[{key:"registerScroller",value:function(e){this.scroller=e,this.startListening()}},{key:"registerTarget",value:function(e,t,n,a,r){var i=e.getBoundingClientRect();i&&i.width&&(this.targets.has(e)&&mc(e),this.targets.set(e,{effectName:t,effectDuration:n,effectDelay:a,effectEasing:r,isStarted:!1}),e.style.setProperty("opacity","0"),this.startListening())}},{key:"unregisterTarget",value:function(e){this.targets.has(e)&&(mc(e),this.targets.delete(e),this.isListening&&!this.targets.size&&(this.scroller.removeEventListener("scroll",this.onScrollerScroll),this.isListening=!1))}},{key:"destroy",value:function(){this.analyzeScroller.cancel();var e=!0,t=!1,n=void 0;try{for(var a,r=this.targets[Symbol.iterator]();!(e=(a=r.next()).done);e=!0){var i=a.value,o=Object(Ni.a)(i,1)[0];this.unregisterTarget(o)}}catch(s){t=!0,n=s}finally{try{e||null==r.return||r.return()}finally{if(t)throw n}}this.scroller=null,this.targets=null}}]),e}(),lc=function(e){return e===window?{left:0,top:0,right:window.innerWidth,bottom:window.innerHeight,width:window.innerWidth,height:window.innerHeight}:e.getBoundingClientRect()},uc=function(e,t){var n=t.effectName,a=t.effectDuration,r=t.effectDelay,i=t.effectEasing;t.isStarted=!0;var o=e.style;o.transform="matrix3d("+sc[n].join(",")+")",e.offsetHeight,o.transitionProperty="opacity,transform",o.transitionDuration=a+"ms",o.transitionDelay=r+"ms",o.transitionTimingFunction=i,o.opacity="1",o.transform="matrix3d("+oc.join(",")+")",e.addEventListener("transitionend",dc)},dc=function(e){mc(e.currentTarget)},mc=function(e){var t=e.style;t.removeProperty("opacity"),t.removeProperty("transform"),t.removeProperty("transition-property"),t.removeProperty("transition-duration"),t.removeProperty("transition-delay"),t.removeProperty("transition-timing-function"),e.removeEventListener("transitionend",dc)},fc=function(e,t){var n=e.top,a=e.bottom,r=t.top,i=t.bottom,o=Math.min(a,i)-Math.max(n,r);return Math.max(o,0)},pc=cc,hc=100,vc=150,bc=50,gc=function(e){function t(e){var n;return Object(g.a)(this,t),(n=Object(y.a)(this,Object(O.a)(t).call(this,e))).arenaRef=l.a.createRef(),n.incompleteSections=null,n.effectMaker=new pc,n.state={footerHeight:0},n.refreshSelectedItem=function(){clearTimeout(n.timeout),n.timeout=setTimeout(n.refreshSelectedItemDelayed,0)},n.refreshSelectedItemDelayed=function(){var e=n.props,t=e.selectedId,a=e.selectedSection,r=e.hasBlocker,i=e.offsetTop,o=e.isSimulated;if(t){var s=n.arenaRef.current,c="#"+ve+a+" #"+ve+t,l=s.querySelector(c);if(l){var u=l.getBoundingClientRect(),d=Object(B.a)(Object(B.a)(n)).scroller,m=o?d.getBoundingClientRect():null;if(r)(u.bottom>m.bottom||u.top<m.top)&&me.toElementY(d,l);else{var f=n.getScrollTop(),p=u.top+f;o&&(p-=m.top),me.to(d,0,p-i)}}}},n.onResize=function(){n.analyzeCriticalElements(),n.refreshFooter(),n.effectMakerAnalyzeScroller()},n.onScrollerScroll=function(){n.analyzeCriticalElements()},n.onEffectRegister=function(e,t,a,r,i){if(n.effectMaker){var o=e.current;(t in Ne?t:je)===Te?n.effectMaker.unregisterTarget(o):n.effectMaker.registerTarget(o,t,a,r,i)}},n.refreshFooter=function(){var e=n.props,t=e.bookRef,a=e.offsetTop;if(t.current){var r=Object(B.a)(Object(B.a)(n)).bookmarkedElements,i=r[r.length-1],o=n.state.footerHeight;if(i){var s=n.getScrollViewportHeight()-a,c=n.arenaRef.current.getBoundingClientRect(),l=i.getBoundingClientRect(),u=c.height-o-(l.top-c.top);o=u>s?0:s-u}else o=0;if(o>3e3)return void console.warn("Something is wrong with the footer!");n.setState({footerHeight:o})}},n.collectBookmarkedElements=function(){var e=n.arenaRef.current,t=n.props.criticalBookmarks;n.bookmarkedElements=e.querySelectorAll("[data-bookmark]"),n.criticalElements=[],n.criticalMap=new Map;var a=!0,r=!1,i=void 0;try{for(var o,s=n.bookmarkedElements[Symbol.iterator]();!(a=(o=s.next()).done);a=!0){var c=o.value,l=c.closest("[data-section]").dataset.section,u=Yl(l,c.dataset.bookmark);u in t&&(n.criticalElements.push(c),n.criticalMap.set(c,u))}}catch(d){r=!0,i=d}finally{try{a||null==s.return||s.return()}finally{if(r)throw i}}},n.analyzeCriticalElements=function(){if(!n.props.hasBlocker){var e=n.props,t=e.onCriticalScroll,a=e.onSectionTouch,r=e.offsetTop,i=e.isSimulated,o=Object(B.a)(Object(B.a)(n)),s=o.scroller,c=o.criticalElements,l=o.criticalMap,u=o.criticalBookmarkUid,d=n.getScrollTop(),m=i?s.getBoundingClientRect():null,f=r+d+vc,p=null,h=!0,v=!1,b=void 0;try{for(var g,E=c[Symbol.iterator]();!(h=(g=E.next()).done);h=!0){var y=g.value,O=y.getBoundingClientRect().top+d;if(i&&(O-=m.top),O>f)break;p=l.get(y)}}catch(_){v=!0,b=_}finally{try{h||null==E.return||E.return()}finally{if(v)throw b}}if(p!==u&&(n.criticalBookmarkUid=p,t(p)),n.incompleteSections){var S=!0,w=!1,I=void 0;try{for(var T,j=n.incompleteSections[Symbol.iterator]();!(S=(T=j.next()).done);S=!0){var N=T.value,k=N.getBoundingClientRect(),C=m?m.bottom:window.innerHeight;if(k.bottom-bc<=C)a(N.dataset.section)}}catch(_){w=!0,I=_}finally{try{S||null==j.return||j.return()}finally{if(w)throw I}}}}},n.getScrollTop=function(){return n.scroller===window?window.pageYOffset:n.scroller.scrollTop},n.getScrollViewportHeight=function(){return n.scroller===window?window.innerHeight:n.scroller.offsetHeight},n.resetScrollTop=function(){n.scroller===window?window.scrollTo(0,0):n.scroller.scrollTop=0},n.memoIncompleteSections=Object(I.a)(function(e,t){var a=n.arenaRef.current,r=[],i=!0,o=!1,s=void 0;try{for(var c,l=e[Symbol.iterator]();!(i=(c=l.next()).done);i=!0){var u=c.value;if(!t[u]){var d=nr('[data-section="'.concat(u,'"]'),a)[0];d&&r.push(d)}}}catch(m){o=!0,s=m}finally{try{i||null==l.return||l.return()}finally{if(o)throw s}}return r.length?r:null}),n.refreshFooter=Object(F.throttle)(n.refreshFooter,hc),n.onScrollerScroll=Object(F.throttle)(n.onScrollerScroll,hc),n.effectMakerAnalyzeScroller=Object(F.throttle)(n.effectMaker.analyzeScroller,hc),n}return Object(S.a)(t,e),Object(E.a)(t,[{key:"render",value:function(){var e=this,t=this.props,n=t.classes,a=t.db,r=t.hasBlocker,i=t.onLaunch,o=t.onBarrierRaise,s=t.arenaSections,c=t.hasNavigation,u=t.fontSizeFactor,d=t.completions,m=t.threats,f=t.followers,p={theme:t.theme,launcherVisibility:t.launcherVisibility,launcherPosition:t.launcherPosition,statusBar:t.statusBar};return l.a.createElement("div",{className:Object(W.a)("arena",n.root,c&&n.hasNavigation),ref:this.arenaRef},l.a.createElement("div",{className:n.arenaWrapper}," ",r&&l.a.createElement("div",{className:n.arenaBlocker})," ",s.map(function(t){var n=Ec(a[t],p);return l.a.createElement(H.a,{theme:ce[n.theme],key:t},l.a.createElement(ac,Object.assign({id:t,db:a,onLaunch:i,onBarrierRaise:o},n,{onEffectRegister:e.onEffectRegister,fontSizeFactor:r?1:u,completions:d,threat:m[t],followers:f,ignoreBarriers:!!r})))}),l.a.createElement("div",{style:{height:this.state.footerHeight+"px"}})))}},{key:"componentDidMount",value:function(){var e=this.props,t=e.scrollerId,n=e.arenaSections,a=e.completions,r=e.hasBlocker,i=this.arenaRef.current;Tn(i,this.onResize),this.scroller=document.getElementById(t)||window,r||this.scroller.addEventListener("scroll",this.onScrollerScroll),this.effectMaker.registerScroller(this.scroller),this.incompleteSections=this.memoIncompleteSections(n,a),this.collectBookmarkedElements(),this.analyzeCriticalElements(),this.refreshFooter(),this.refreshSelectedItem()}},{key:"componentWillUnmount",value:function(){var e=this.arenaRef.current;clearTimeout(this.timeout),jn(e,this.onResize),this.scroller.removeEventListener("scroll",this.onScrollerScroll),this.effectMaker.destroy(),this.effectMaker=null,this.scroller=null,this.bookmarkedElements=null,this.incompleteSections=null,this.refreshFooter.cancel(),this.onScrollerScroll.cancel(),this.effectMakerAnalyzeScroller.cancel()}},{key:"componentDidUpdate",value:function(e,t,n){var a=this.props,r=a.db,i=a.arenaSections,o=a.completions,s=a.fontSizeFactor,c=a.prevCount,l=a.selectedCounter,u=a.arenaCounter;e.selectedCounter!==l&&this.refreshSelectedItem(),e.prevCount!==c&&this.resetScrollTop(),e.db===r&&e.prevCount===c&&e.arenaCounter===u||(this.criticalBookmarkUid=void 0,this.collectBookmarkedElements(),this.refreshFooter()),e.fontSizeFactor!==s&&this.refreshFooter(),this.incompleteSections=this.memoIncompleteSections(i,o),this.analyzeCriticalElements(),this.effectMakerAnalyzeScroller()}}]),t}(l.a.PureComponent),Ec=function(e,t){var n={},a=e.theme||ie,r=e.launcherVisibility||"default",i=e.launcherPosition||"default",o=e.statusBar||"default";return a===ie||a===oe?t&&t.theme?n.theme=t.theme:n.theme="Emerald":n.theme=a,"default"===r||"inherit"===r?t&&t.launcherVisibility?n.launcherVisibility=t.launcherVisibility:n.launcherVisibility="show":n.launcherVisibility=r,"default"===i||"inherit"===i?t&&t.launcherPosition?n.launcherPosition=t.launcherPosition:n.launcherPosition="bottomCenter":n.launcherPosition=i,"default"===o||"inherit"===o?t&&t.statusBar?n.statusBar=t.statusBar:n.statusBar="show":n.statusBar=o,n},yc=N()(function(e){return{root:{cursor:"default",minHeight:"100%"},hasNavigation:{paddingLeft:8*e.spacing.unit,paddingRight:8*e.spacing.unit},arenaWrapper:{position:"relative"},arenaBlocker:{position:"absolute",background:"rgba(255,0,0,0)",width:"100%",height:"100%",zIndex:1}}})(gc),Oc=n(195),Sc=n.n(Oc),wc=n(196),Ic=n.n(wc),Tc=n(194),jc=n.n(Tc),Nc=n(193),kc=n.n(Nc),Cc=/^[a-zA-Z0-9.!#$%&'*+\/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,_c=/^[^\00-\31<>]+$/,Lc=/^[^\00-\31\\\/:"*?<>|]+$/,Rc=/(?=.*[a-zA-Z])(?=.*[0-9])/,xc=function(){function e(){Object(g.a)(this,e)}return Object(E.a)(e,null,[{key:"computeFileDetails",value:function(e,t){return e||0===e?(0===e?n="0":"0.0"===(n=(e/1048576).toFixed(1))&&(n="0.1"),n+=" MB",t?n:" (".concat(n,")")):"\u2013";var n}},{key:"buildFilter",value:function(e){return e.where||(e.where={}),e.where.embedded="000000000000000000000000",e.fields={id:!0,name:!0,type:!0,owner:!0,shared:!0,contributors:!0,modified:!0,stats:!0,paths:!0},{filter:e}}},{key:"findItemById",value:function(e,t){return t.find(function(t){return t.id===e})}}]),e}();xc.validateEmail=function(e){return Cc.test(e)},xc.validateFullName=function(e){return _c.test(e)},xc.validateEntityName=function(e){return Lc.test(e)},xc.validatePassword=function(e){return Rc.test(e)&&e.length>=8&&e.length<=50},xc.defocus=function(){window.focus(),document.activeElement&&document.activeElement.blur(),document.body.focus()},xc.generateId=function(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"i")+Math.random().toString(16).substr(2,8)};var Dc,Pc=new Map,Ac=function(e){clearTimeout(Pc.get(e))},Mc={run:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;Ac(e),Pc.set(e,setTimeout(e,t))},cancel:Ac},Bc=function(e){function t(){var e,n;Object(g.a)(this,t);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(n=Object(y.a)(this,(e=Object(O.a)(t)).call.apply(e,[this].concat(r)))).ref=l.a.createRef(),n.state={hasCircle:!1,left:0,top:0,width:0,height:0},n.onPointerEnter=function(){n.setState({hasPointer:!0})},n.onPointerLeave=function(){n.setState({hasPointer:!1})},n.onResizeObserver=function(){Mc.run(n.refresh)},n.refresh=function(){var e=n.ref.current.parentNode,t=e.querySelector('[data-help="'.concat(n.props.target,'"]'));if(t){var a=e.getBoundingClientRect(),r=t.getBoundingClientRect();n.setState({hasCircle:!0,left:r.left-a.left,top:r.top-a.top,width:r.width,height:r.height})}else n.setState({hasCircle:!1})},n}return Object(S.a)(t,e),Object(E.a)(t,[{key:"render",value:function(){var e=this.props,t=e.classes,n=e.text,a=this.state.hasPointer,r=this.state,i=r.hasCircle,o=r.left,s=r.top,c=r.width,u=r.height;return l.a.createElement(Ot.a,{title:n,className:t.tooltip,open:a,enterTouchDelay:0,leaveTouchDelay:500},l.a.createElement("div",{className:t.root,ref:this.ref,onPointerEnter:this.onPointerEnter,onPointerLeave:this.onPointerLeave,style:{left:o+"px",top:s+"px",width:c+"px",height:u+"px"}},i&&l.a.createElement("div",{className:Object(W.a)(t.circle,a&&t.hasPointer)})))}},{key:"componentDidMount",value:function(){Tn(this.ref.current.parentNode,this.onResizeObserver),Mc.run(this.refresh)}},{key:"componentWillUnmount",value:function(){jn(this.ref.current.parentNode,this.onResizeObserver),Mc.cancel(this.refresh)}}]),t}(l.a.PureComponent),Uc=N()(function(e){return{root:{position:"absolute",zIndex:1101,cursor:"help"},circle:{position:"absolute",top:e.spacing.unit/4,left:e.spacing.unit/4,width:e.spacing.unit,height:e.spacing.unit,borderRadius:"100%",backgroundColor:"rgba(255,255,0,1)",border:"1px solid rgba(255,255,0,0)",boxShadow:"0 0 4px 0px rgba(0,0,0,0.75)",transitionDuration:"200ms",transitionProperty:"all"},hasPointer:{top:0,left:0,width:"100%",height:"100%",borderRadius:"0",backgroundColor:"rgba(255,255,0,0)",borderColor:"rgba(255,255,0,1)"},tooltip:{zIndex:9999999}}})(Bc),zc=function(e){function t(e){var n;return Object(g.a)(this,t),(n=Object(y.a)(this,Object(O.a)(t).call(this,e))).state={helpDb:Hc(e.projectDbItem)},n}return Object(S.a)(t,e),Object(E.a)(t,[{key:"render",value:function(){var e=this.props,t=e.classes,n=e.projectDbItem,a=e.forcedDevice,r=this.state.helpDb,i=n.id+"_help_project",o=Or[r[i].uiLanguage];return l.a.createElement("div",{className:t.root},l.a.createElement(bo.a,{className:t.intro},o.HELP_INTRO),l.a.createElement(Pe.a,{className:t.bookHost},l.a.createElement(Xl,{id:i,db:this.state.helpDb,defaultSectionId:r[i].sections[1],forcedDevice:a,theme:this.props.theme,isHelp:!0}),l.a.createElement("div",{className:t.blocker}),l.a.createElement(Uc,{target:"HELP_TITLE",text:o.HELP_TITLE}),l.a.createElement(Uc,{target:"HELP_SETTINGS",text:o.HELP_SETTINGS}),l.a.createElement(Uc,{target:"HELP_HELP",text:o.HELP_HELP}),l.a.createElement(Uc,{target:"HELP_FULLSCREEN",text:o.HELP_FULLSCREEN}),l.a.createElement(Uc,{target:"HELP_PREV",text:o.HELP_PREV}),l.a.createElement(Uc,{target:"HELP_NEXT",text:o.HELP_NEXT})),l.a.createElement("ul",null,l.a.createElement("li",null,l.a.createElement(bo.a,null,o.HELP_LAUNCHER_TEXT)),l.a.createElement("li",null,l.a.createElement(bo.a,null,o.HELP_ONCOMPLETE_TEXT))))}},{key:"componentDidUpdate",value:function(e){var t=this.props.projectDbItem;e.projectDbItem!==t&&this.setState({helpDb:Hc(t)})}}]),t}(l.a.PureComponent),Hc=function(e){var t,n=e.id+"_help_project",a=e.id+"_help_section1",r=e.id+"_help_section2",i=e.id+"_help_section3",o=(t={},Object(w.a)(t,n,Object(U.a)({},e,{sections:[a,r,i]})),Object(w.a)(t,a,{id:a,type:Ee,body:[],resources:[]}),Object(w.a)(t,r,{id:r,type:Ee,body:[],resources:[]}),Object(w.a)(t,i,{id:i,type:Ee,body:[],resources:[]}),t);return pi(qi(n,o)),o},Wc=N()(function(e){return{root:{height:"100%",overflowX:"hidden",overflowY:"auto",padding:8},intro:{textAlign:"center"},blocker:{position:"absolute",top:0,right:0,bottom:0,left:0,background:"red",opacity:0,zIndex:1101},bookHost:{position:"relative",marginTop:e.spacing.unit,height:168}}})(zc),Fc=(Dc={},Object(w.a)(Dc,"audio",ji),Object(w.a)(Dc,be,to),Object(w.a)(Dc,"gallery",fo),Object(w.a)(Dc,"attachment",Es),Object(w.a)(Dc,"image",Oi),Object(w.a)(Dc,ge,es),Object(w.a)(Dc,"video",ms),Object(w.a)(Dc,Ie,Wc),Object(w.a)(Dc,Se,Ms),Object(w.a)(Dc,we,Qs),Dc),Gc=n(192),Vc=n.n(Gc),Zc=function(e){function t(){var e,n;Object(g.a)(this,t);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(n=Object(y.a)(this,(e=Object(O.a)(t)).call.apply(e,[this].concat(r)))).onClick=function(e){var t=n.props,a=t.onClick,r=t.params;a&&a(e,r)},n.memoTouchRippleProps=Object(I.a)(function(e){return{classes:{ripple:e.ripple}}}),n}return Object(S.a)(t,e),Object(E.a)(t,[{key:"render",value:function(){var e=this.props,t=e.classes,n=e.className,a=e.icon,r=e.title,i=e.tooltipProps,o=Object(xe.a)(e,["classes","className","icon","title","tooltipProps"]);delete o.params;var s=a;return l.a.createElement(Ot.a,Object.assign({title:r||""},i),l.a.createElement("span",null," ",l.a.createElement(Vc.a,Object.assign({TouchRippleProps:this.memoTouchRippleProps(t)},o,{onClick:this.onClick,className:Object(W.a)(t.btn,n)}),l.a.createElement(s,null))))}}]),t}(l.a.PureComponent),Qc=N()({btn:{color:"inherit",borderRadius:0},ripple:{top:"-10px !important",left:"-10px !important",right:"-10px !important",bottom:"-10px !important",width:"auto !important",height:"auto !important"}})(Zc);function qc(e){return l.a.createElement(kc.a,e)}var Yc=function(e){function t(){var e,n;Object(g.a)(this,t);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(n=Object(y.a)(this,(e=Object(O.a)(t)).call.apply(e,[this].concat(r)))).computeTypeIcon=function(e){if(e){var t=Et[e.type].icon;return l.a.createElement(t,null)}return null},n.height="100%",n.maxWidth="100%",n.state={isContentDisplayed:!1},n.onDialogEntered=function(){window.addEventListener("keydown",n.onWindowKeyDown),n.props.onEntered&&n.props.onEntered(),n.setState({isContentDisplayed:!0})},n.onDialogExiting=function(){xc.defocus(),window.removeEventListener("keydown",n.onWindowKeyDown),n.setState({isContentDisplayed:!1})},n.onWindowKeyDown=function(e){switch(e.keyCode){case 27:n.props.onCancel();break;case 13:n.props.onProceed()}},n.parseNumber=function(e){return!isNaN(parseFloat(e))&&isFinite(e)},n}return Object(S.a)(t,e),Object(E.a)(t,[{key:"render",value:function(){var e=this.props,t=e.classes,n=e.onCancel,a=e.transitionDuration,r=e.transitionComponent,i=e.launcherInfo,o=e.completions,s=this.state.isContentDisplayed;if(i&&i.dimensions){var c=i.dimensions.height,u=i.dimensions.width;this.height=c?this.parseNumber(c)?c+"px":c:"100%",this.maxWidth=u?this.parseNumber(u)?u+"px":u:"100%"}else this.height="100%",this.maxWidth="100%";var d={maxHeight:"calc(100% - 120px)",minHeight:"300px",minWidth:"300px",height:this.height,maxWidth:this.maxWidth},m=r||qc,f=(i||{}).help,p=i&&Fc[i.type],h=i&&o[i.id];return l.a.createElement(jc.a,{open:!!i,scroll:"paper",fullWidth:!0,BackdropProps:{className:t.backdrop},className:t.root,TransitionComponent:m,onEntered:this.onDialogEntered,onExiting:this.onDialogExiting,transitionDuration:a,PaperProps:{style:d},disablePortal:!0},l.a.createElement("div",{className:t.bar},l.a.createElement("div",{className:Object(W.a)(t.iconWrapper,h&&t.done)},l.a.createElement(Lt,{className:t.tick,play:h}),this.computeTypeIcon(i)),l.a.createElement("div",{className:t.titleWrapper},i&&l.a.createElement(kt,{value:i.title})),f&&l.a.createElement(Tt,{className:t.help,text:f}),l.a.createElement(Qc,{className:t.closeBtn,onClick:n,icon:Sc.a})),l.a.createElement(Ic.a,{className:t.dialogContent},i&&s&&l.a.createElement("div",{className:t.viewContainer},l.a.createElement(p,Object.assign({},i,{isSlave:!0})))))}},{key:"componentWillUnmount",value:function(){window.removeEventListener("keydown",this.onWindowKeyDown)}}]),t}(l.a.PureComponent),$c=N()(function(e){return{root:{position:"absolute"},closeBtn:{padding:e.spacing.unit},dialogContent:{position:"relative"},viewContainer:{position:"absolute",left:0,top:0,right:0,bottom:0,overflow:"hidden",opacity:1,animationName:"launcherViewContainer",animationDuration:"200ms"},"@keyframes launcherViewContainer":{"0%":{opacity:0},"100%":{opacity:1}},help:{width:28,height:28},backdrop:{position:"absolute",background:e.palette.backdropColor,opacity:e.palette.backdropOpacity+" !important"},bar:{background:e.palette.primary.main,color:e.palette.primary.contrastText,display:"flex",alignItems:"center"},iconWrapper:{display:"inline-block",position:"relative",lineHeight:0,padding:e.spacing.unit/4,margin:e.spacing.unit/4,marginLeft:e.spacing.unit/2,borderRadius:"100%",border:"solid 2px transparent"},tick:{position:"absolute",left:-2,top:-2,bottom:-2,right:-4,width:"auto",height:"auto",background:e.palette.primary.main,color:e.palette.primary.contrastText},titleWrapper:{flexGrow:1,overflow:"hidden",minWidth:0,paddingLeft:e.spacing.unit/2},done:{"&$iconWrapper":{borderColor:"inherit"}}}})(Yc),Xc=n(197),Kc=n.n(Xc),Jc=n(198),el=n.n(Jc),tl=n(200),nl=n.n(tl),al=n(199),rl=n.n(al),il=n(201),ol=n.n(il),sl=n(202),cl=n.n(sl),ll=n(203),ul=n.n(ll),dl=lt()(l.a.createElement(l.a.Fragment,null,l.a.createElement("path",{style:{fill:"none"},d:"M0,0h24v24H0V0z"}),l.a.createElement("path",{d:"M20.4,9.6l-2.3-2.3L21,4.4L19.6,3l-2.9,2.9l-2.3-2.3v6H20.4z M9.6,3.6L7.3,5.9L4.4,3L3,4.4l2.9,2.9L3.6,9.6h6V3.6z\r M3.6,14.4l2.3,2.3L3,19.6L4.4,21l2.9-2.9l2.3,2.3v-6H3.6z M14.4,20.4l2.3-2.3l2.9,2.9l1.4-1.4l-2.9-2.9l2.3-2.3h-6V20.4z"}))),ml=n(97),fl=n.n(ml),pl={vertical:"bottom",horizontal:"center"},hl={vertical:"top",horizontal:"center"},vl=function(e){function t(){var e,n;Object(g.a)(this,t);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(n=Object(y.a)(this,(e=Object(O.a)(t)).call.apply(e,[this].concat(r)))).state={anchorEl:null},n.onLauncherClick=function(e){jr(),e.stopPropagation(),n.setState({anchorEl:e.currentTarget})},n.onPopoverClose=function(e){e.stopPropagation(),n.setState({anchorEl:null})},n.memoPopoverClasses=Object(I.a)(function(e){return{paper:e.popoverPaper}}),n}return Object(S.a)(t,e),Object(E.a)(t,[{key:"render",value:function(){var e=this.props,t=e.children,n=e.classes,a=this.state.anchorEl;return l.a.createElement(l.a.Fragment,null,l.a.createElement("span",{className:n.span,onClick:this.onLauncherClick},t[0]),l.a.createElement(fl.a,{open:!!a,anchorEl:a,onClose:this.onPopoverClose,anchorOrigin:pl,transformOrigin:hl,classes:this.memoPopoverClasses(n)},t.slice(1)))}}]),t}(l.a.PureComponent),bl=N()(function(e){return{popoverPaper:{marginTop:2*e.spacing.unit,padding:1.5*e.spacing.unit,overflow:"initial",border:"solid 1px #ccc","&:after":{position:"absolute",top:-e.spacing.unit,left:"50%",marginLeft:-e.spacing.unit,width:2*e.spacing.unit,height:2*e.spacing.unit,transform:"rotate(-45deg)",content:'""',backgroundColor:e.palette.background.paper,borderTop:"solid 1px #ccc",borderRight:"solid 1px #ccc"}},span:{display:"inline-flex"}}})(vl),gl=document.fullscreenEnabled,El=function(e){function t(){var e,n;Object(g.a)(this,t);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(n=Object(y.a)(this,(e=Object(O.a)(t)).call.apply(e,[this].concat(r)))).state={isFullscreen:!1},n.detectFullscreenStatus=function(){n.setState({isFullscreen:Boolean(document.fullscreenElement)})},n.onFullscreenClick=function(){n.state.isFullscreen?document.exitFullscreen():document.documentElement.requestFullscreen()},n.onFontSizeFactorDecrease=function(){n.props.onFontSizeFactor(n.props.fontSizeFactor-Rt)},n.onFontSizeFactorIncrease=function(){n.props.onFontSizeFactor(n.props.fontSizeFactor+Rt)},n.memoToolbarMap=Object(I.a)(function(e){var t=!0,n={};return e.forEach(function(e){e.enabled&&(t=!1),n[e.kind]=e.enabled}),t?null:n}),n}return Object(S.a)(t,e),Object(E.a)(t,[{key:"render",value:function(){var e=this.props,t=e.classes,n=e.title,a=e.isTocOpen,r=e.onToc,i=e.onHelp,o=e.fontSizeFactor,s=e.toolbar,c=e.slang,u=this.memoToolbarMap(s);return u?l.a.createElement(Kc.a,{color:"default",position:"static"},l.a.createElement(el.a,{variant:"dense",disableGutters:!0},u.toc?l.a.createElement(hr.a,{color:"inherit",onClick:r,className:Object(W.a)(t.button,t.title,a&&t.expanded),"data-help":"HELP_TITLE"},l.a.createElement(rl.a,{className:Object(W.a)(u.title&&t.menuIcon)}),u.title&&l.a.createElement(kt,{value:n})):u.title&&l.a.createElement(kt,{value:n,className:Object(W.a)(t.title,t.titleMargin)}),l.a.createElement("div",{className:t.grow},"\xa0"),u.settings&&l.a.createElement(bl,null,l.a.createElement(Qc,{icon:nl.a,title:c.SETTINGS,"data-help":"HELP_SETTINGS"}),l.a.createElement(Qc,{icon:ol.a,title:c.FONT_SIZE_DECREASE,disabled:o<=.6,className:Object(W.a)(o<1&&t.fontSizeSpecial),onClick:this.onFontSizeFactorDecrease}),l.a.createElement(Qc,{icon:cl.a,title:c.FONT_SIZE_INCREASE,disabled:o>=2,className:Object(W.a)(o>1&&t.fontSizeSpecial),onClick:this.onFontSizeFactorIncrease})),u.help&&l.a.createElement(Qc,{icon:at.a,title:c.HELP,"data-help":"HELP_HELP",onClick:i}),u.fullscreen&&gl&&l.a.createElement(Qc,{icon:this.state.isFullscreen?dl:ul.a,title:c.FULLSCREEN,"data-help":"HELP_FULLSCREEN",onClick:this.onFullscreenClick}))):null}},{key:"componentDidMount",value:function(){gl&&document.addEventListener("fullscreenchange",this.detectFullscreenStatus)}},{key:"componentWillUnmount",value:function(){gl&&document.removeEventListener("fullscreenchange",this.detectFullscreenStatus)}}]),t}(l.a.PureComponent),yl=N()(function(e){return{menuIcon:{marginRight:e.spacing.unit},title:{fontWeight:"bold"},titleMargin:{marginLeft:2*e.spacing.unit},button:{minHeight:48,borderRadius:0},grow:{flexGrow:1},fontSizeSpecial:{color:"red"}}})(El),Ol=function(e){function t(){return Object(g.a)(this,t),Object(y.a)(this,Object(O.a)(t).apply(this,arguments))}return Object(S.a)(t,e),Object(E.a)(t,[{key:"render",value:function(){var e=this.props,t=e.classes,n=e.chapter;return l.a.createElement("div",{className:t.root},l.a.createElement(kt,{className:t.chapter,value:n}))}}]),t}(l.a.PureComponent),Sl=N()(function(e){return{root:{backgroundColor:e.palette.primary.light,display:"flex",justifyContent:"center",alignItems:"center",height:5*e.spacing.unit},chapter:{flexGrow:1,color:"black",fontWeight:"bold",margin:"0 "+e.spacing.unit+"px"}}},{name:"BookSecondaryBar"})(Ol),wl=n(204),Il=n.n(wl),Tl=function(e){var t=0,n=0;for(var a in e)t++,e[a]>0&&n++;return t?Math.ceil(100*n/t):100},jl=function(e,t){if(t){var n=t.sectionId,a=t.barrierId;if(n){var r=$s(e,n);return!Boolean(r[a])}return!1}return!1},Nl=function(e){function t(){var e,n;Object(g.a)(this,t);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(n=Object(y.a)(this,(e=Object(O.a)(t)).call.apply(e,[this].concat(r)))).onBookmarkClick=function(){var e=n.props;(0,e.onBookmark)(e.sectionId,e.bookmarkId)},n}return Object(S.a)(t,e),Object(E.a)(t,[{key:"render",value:function(){var e=this.props,t=e.classes,n=e.content,a=e.level,r=e.isSelected,i=e.isAllowed,o=e.isStarted,s=e.isDone;return l.a.createElement(_s.a,{className:t.listItem,selected:r,button:!0,disabled:!i,onClick:this.onBookmarkClick},l.a.createElement(St,{className:Object(W.a)(t.bookmarkText,o&&t.bookmarkStarted,s&&t.bookmarkDone,t["indent"+a]),html:n}))}}]),t}(l.a.PureComponent),kl=Object(T.b)(function(e,t){var n=t.relevantThreat;return{isAllowed:!jl(e,n)}})(N()(function(e){return{listItem:{paddingLeft:32},indent0:{marginLeft:0},indent1:{marginLeft:4*e.spacing.unit},indent2:{marginLeft:8*e.spacing.unit},indent3:{marginLeft:12*e.spacing.unit},indent4:{marginLeft:16*e.spacing.unit},bookmarkText:{position:"relative",paddingLeft:e.spacing.unit/2,"&:before":{content:'""',position:"absolute",left:2*-e.spacing.unit,top:e.spacing.unit/4,width:2*e.spacing.unit,height:2*e.spacing.unit,borderRadius:"100%",border:"solid 2px silver"},"&:after":{content:'""',position:"absolute",left:-11,top:4,width:6,height:10,border:"solid 2px "+e.palette.primary.contrastText,display:"none",transform:"rotate(45deg)",borderTop:"none",borderLeft:"none"}},bookmarkStarted:{"&:before":{borderColor:e.palette.primary.main,background:e.palette.primary.main}},bookmarkDone:{"&:before":{borderColor:e.palette.primary.main,background:e.palette.primary.main},"&:after":{display:"block"}}}})(Nl)),Cl=1,_l=2,Ll={style:{position:"absolute",overflow:"hidden"},BackdropProps:{style:{position:"absolute"}}},Rl=function(e){function t(){var e,n;Object(g.a)(this,t);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(n=Object(y.a)(this,(e=Object(O.a)(t)).call.apply(e,[this].concat(r)))).memoStatuses=Object(I.a)(function(e,t,n,a){var r={},i=!0,o=!1,s=void 0;try{for(var c,l=e[Symbol.iterator]();!(i=(c=l.next()).done);i=!0){var u=c.value.bookmarkUid;r[u]=xl(u,t,n,a)}}catch(y){o=!0,s=y}finally{try{i||null==l.return||l.return()}finally{if(o)throw s}}for(var d={},m=e.length,f=0;f<m;f++){for(var p=e[f],h=r[p.bookmarkUid],v=!1,b=f+1;b<m;b++){var g=e[b];if(g.level<=p.level)break;var E=r[g.bookmarkUid];h=Math.max(h,E),E!==_l&&(v=!0)}d[p.bookmarkUid]=h===_l&&v?Cl:h}return d}),n.memoPercent=Object(I.a)(function(e){return Tl(e)}),n}return Object(S.a)(t,e),Object(E.a)(t,[{key:"render",value:function(){var e=this.props,t=e.classes,n=e.items,a=e.open,r=e.resourcesOfBookmarks,i=e.completions,o=e.visits,s=e.selectedBookmarkUid,c=e.slang,u=e.title,d=e.threats,m=e.onClose,f=e.onBookmark,p=this.memoStatuses(n,i,r,o),h=this.memoPercent(i);return l.a.createElement(Il.a,{variant:"temporary",anchor:"left",open:a,ModalProps:Ll,disablePortal:!0,classes:{paper:t.drawerPaper},onClose:m},l.a.createElement(St,{className:t.title,html:u}),l.a.createElement("div",{className:t.completion},l.a.createElement("div",{className:t.percent,style:{width:h+"%"}},h,"%")),n.length?l.a.createElement(ks.a,{className:t.list},n.map(function(e){var t=e.bookmark,n=e.section,a=e.bookmarkUid,r=e.content,i=e.level;return l.a.createElement(kl,{key:a,sectionId:n,bookmarkId:t,content:r,level:i,isSelected:a===s,isStarted:p[a]===Cl,isDone:p[a]===_l,relevantThreat:d[a],onBookmark:f})})):l.a.createElement("div",{className:t.emptyText},c.EMPTY_BOOKMARKS))}}]),t}(l.a.PureComponent),xl=function(e,t,n,a){if(e in n){var r=n[e],i=0,o=!0,s=!1,c=void 0;try{for(var l,u=r[Symbol.iterator]();!(o=(l=u.next()).done);o=!0){t[l.value]&&i++}}catch(d){s=!0,c=d}finally{try{o||null==u.return||u.return()}finally{if(s)throw c}}return i?i!==r.length?Cl:_l:e in a?Cl:0}return e in a?_l:0},Dl=N()(function(e){return{title:{padding:16,fontSize:"larger",fontWeight:"bold",color:e.palette.primary.main},completion:{marginLeft:16,marginRight:16,color:e.palette.primary.main,display:"flex",borderBottom:"solid 2px ".concat(Object(Va.fade)(e.palette.primary.main,.1))},percent:{paddingBottom:4,textAlign:"right",borderBottom:"solid 2px ".concat(e.palette.primary.main),position:"relative",top:2},list:{marginTop:16},emptyText:{margin:"auto"},drawerPaper:{width:289,position:"absolute"}}})(Rl),Pl=function(e,t){if(e.closest)return e.closest(t);var n=e;do{if(n.matches(t))return n;n=n.parentElement}while(null!==n);return null},Al=function(e){function t(){var e,n;Object(g.a)(this,t);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(n=Object(y.a)(this,(e=Object(O.a)(t)).call.apply(e,[this].concat(r)))).onPrevClick=function(){n.props.onNavigation(-1)},n.onNextClick=function(){n.props.onNavigation(1)},n.memoStyle=Object(I.a)(function(e,t){return{marginTop:e/(t===V?1:2)}}),n}return Object(S.a)(t,e),Object(E.a)(t,[{key:"render",value:function(){var e=this.props,t=e.classes,n=e.hasPrev,a=e.hasNext,r=e.device,i=e.offsetTop,o=e.barsBehaviour,s=e.className,c=e.isNextAllowed;return l.a.createElement("div",{className:Object(W.a)(s,t.navigation,r===V&&t.phone,"hidden"===o&&t.hidden),style:this.memoStyle(i,r)},n&&l.a.createElement(hr.a,{onClick:this.onPrevClick,className:Object(W.a)(t.btn,t.btnPrev),"data-help":"HELP_PREV"},l.a.createElement(io.a,{className:t.arrow})),a&&l.a.createElement(hr.a,{onClick:this.onNextClick,className:Object(W.a)(t.btn,t.btnNext),"data-help":"HELP_NEXT",disabled:!c},l.a.createElement(so.a,{className:t.arrow})))}}]),t}(l.a.PureComponent),Ml=Object(T.b)(function(e,t){var n=t.relevantThreat,a=!0,r=n.sectionId,i=n.barrierId;if(r){var o=$s(e,r);a=Boolean(o[i])}return{isNextAllowed:a}})(N()(function(e){return{navigation:{position:"absolute",left:0,right:0,top:"50%"},btn:{position:"absolute",paddingLeft:0,paddingRight:0,transform:"translateY(-50%)"},btnPrev:{left:e.spacing.unit},btnNext:{right:e.spacing.unit},arrow:{width:8*e.spacing.unit,height:8*e.spacing.unit},phone:{top:0,"& $btn":{transform:"translateY(-100%)",borderRadius:0,minWidth:40,minHeight:40,width:40,height:40,paddingTop:0,paddingBottom:0},"& $btnPrev":{left:0},"& $btnNext":{right:0},"& $arrow":{width:4*e.spacing.unit,height:4*e.spacing.unit}},hidden:{"&$phone $btn":{transform:"none"}}}})(Al)),Bl=Object(w.a)({},"& .".concat("L-constrain"),{maxWidth:1024,marginLeft:"auto",marginRight:"auto"}),Ul=function(e){return{type:"SECTION_COMPLETE",id:e}},zl=function(e,t){return{type:"PROJECT_VISIT_ACHIEVE",id:e,bookmarkUid:t}},Hl=function(e,t,n){return{type:"PROJECT_BOOKMARK_WARN",id:e,message:t,dismiss:n}},Wl=function e(t,n,a,r){var i=!0,o=!1,s=void 0;try{for(var c,l=n[Symbol.iterator]();!(i=(c=l.next()).done);i=!0){var u=c.value,d=u.id,m=u.kind,f=u.bookmark,p=u.kids;if(m===Oe)r.value={barrierId:d,sectionId:t};else if(f){a[Yl(t,f.id)]=r.value}p&&e(t,p,a,r)}}catch(h){o=!0,s=h}finally{try{i||null==l.return||l.return()}finally{if(o)throw s}}},Fl=function(e,t){var n=e[t],a={},r={value:{}},i=!0,o=!1,s=void 0;try{for(var c,l=n.sections[Symbol.iterator]();!(i=(c=l.next()).done);i=!0){var u=c.value;a[u]=r.value,Wl(u,e[u].body,a,r)}}catch(d){o=!0,s=d}finally{try{i||null==l.return||l.return()}finally{if(o)throw s}}return a},Gl=100,Vl=function(e){function t(e){var n;Object(g.a)(this,t),(n=Object(y.a)(this,Object(O.a)(t).call(this,e))).rootRef=l.a.createRef(),n.barsRef=l.a.createRef(),n.onResizeObserver=function(){n.refreshSize()},n.onBookResize=function(){n.refreshSize()},n.refreshSize=function(){var e=n.rootRef.current.offsetWidth;n.setState({device:Q(e)})},n.onBarToc=function(){n.setState({isTocOpen:!n.state.isTocOpen})},n.onTocBookmark=function(e,t){var a=n.props,r=a.onBookmark,i=a.db,o=a.id,s=a.dispatch,c=a.slang,l=a.otherSections,u=i[e];if(u){var d=Ql(t,u.body);if(d){var m=n.memoThreats(i,o)[e];jl(hi.getState(),m)?s(Hl(o,c.DESTINATION_DENIED_CONTENT,c.SENTINEL_PAUSED_BUTTON)):(n.setState({sectionId:e,isTocOpen:!1}),r(d))}else s(Hl(o,c.DESTINATION_TARGET_MISSING,c.SENTINEL_PAUSED_BUTTON))}else l.includes(e)?s(Hl(o,c.DESTINATION_SECTION_UNAVAILABLE,c.SENTINEL_PAUSED_BUTTON)):s(Hl(o,c.DESTINATION_SECTION_MISSING,c.SENTINEL_PAUSED_BUTTON))},n.onTocClose=function(){n.setState({isTocOpen:!1})},n.onCloseLauncher=function(){n.setState({launcherActor:null,launcherDimensions:null})},n.onLaunch=function(e){switch(e.kind){case pe:n.setState({launcherActor:e.target,launcherDimensions:e.props});break;case he:n.onTocBookmark(e.sectionId,e.target);break;default:return}},n.onBarrierRaise=function(e,t){var a=n.props,r=a.db,i=a.onBookmark;t&&(r[t]?n.onArenaNavigation(1):(n.setState({arenaCounter:n.state.arenaCounter+1}),i(t)))},n.onArenaNavigation=function(e){var t=Object(B.a)(Object(B.a)(n)).sections,a=Math.max(t.indexOf(n.state.sectionId),0),r=Math.max(0,Math.min(a+e,t.length-1));n.setState({sectionId:t[r]})},n.onCriticalScroll=function(e){if(!e){var t=n.state.sectionId,a=n.augmentedToc,r=n.sectionsMap[t],i=!0,o=!1,s=void 0;try{for(var c,l=a[Symbol.iterator]();!(i=(c=l.next()).done);i=!0){var u=c.value,d=u.section;if(!(n.sectionsMap[d]<r))break;e=u.bookmarkUid}}catch(v){o=!0,s=v}finally{try{i||null==l.return||l.return()}finally{if(o)throw s}}}var m=n.props,f=m.id,p=m.visits,h=m.dispatch;e&&!p[e]&&h(zl(f,e)),n.setState({currentBookmarkUid:e})},n.onSectionTouch=function(e){(0,n.props.dispatch)(Ul(e))},n.onBarHelp=function(){n.setState({launcherActor:Ie})},n.onFontSizeFactor=function(e){n.setState({fontSizeFactor:e})},n.onBookClick=function(e){var t=Pl(e.target,"a");if(t){var a=t.getAttribute("href");if(a)if("#"===a.charAt(0)){var r=a.substr(1).split("@"),i={kind:he,target:r[0],sectionId:r[1]};n.onLaunch(i),e.preventDefault()}else t.setAttribute("target","_blank"),t.setAttribute("rel","noopener noreferrer");else e.preventDefault()}},n.applyOffset=function(){var e=n.barsRef.current,t=e?e.offsetHeight:0;n.state.offsetTop!==t&&n.setState({offsetTop:t})},n.applyScroll=function(){window.addEventListener("scroll",n.onScroll)},n.removeScroll=function(){window.removeEventListener("scroll",n.onScroll)},n.onScroll=function(){var e=n.state.offsetTop,t=window.scrollY;if(t<=e)return n.setState({showBars:!0}),void(n.scrollTop=t);t<n.scrollTop?n.setState({showBars:!0}):n.setState({showBars:!1}),n.scrollTop=t},n.memoResourcesOfBookmarks=Object(I.a)(function(e,t,n){if(n)return{};var a=e[t],r={},i=!0,o=!1,s=void 0;try{for(var c,l=a.sections[Symbol.iterator]();!(i=(c=l.next()).done);i=!0){var u=c.value;ql(e[u].body,r,u)}}catch(d){o=!0,s=d}finally{try{i||null==l.return||l.return()}finally{if(o)throw s}}return r}),n.memoTitlesMap=Object(I.a)(function(e){var t={},n=!0,a=!1,r=void 0;try{for(var i,o=e[Symbol.iterator]();!(n=(i=o.next()).done);n=!0){var s=i.value,c=s.bookmarkUid,l=s.content;t[c]=l}}catch(u){a=!0,r=u}finally{try{n||null==o.return||o.return()}finally{if(a)throw r}}return t}),n.memoSectionsMap=Object(I.a)(function(e){for(var t={},n=e.length-1;n>=0;n--)t[e[n]]=n;return t}),n.memoAugmentedToc=Object(I.a)(function(e){var t=[],n=!0,a=!1,r=void 0;try{for(var i,o=e[Symbol.iterator]();!(n=(i=o.next()).done);n=!0){var s=i.value;t.push(Object(U.a)({},s,{bookmarkUid:Yl(s.section,s.bookmark)}))}}catch(c){a=!0,r=c}finally{try{n||null==o.return||o.return()}finally{if(a)throw r}}return t}),n.memoCriticalBookmarks=Object(I.a)(function(e,t){var n={},a=!0,r=!1,i=void 0;try{for(var o,s=t[Symbol.iterator]();!(a=(o=s.next()).done);a=!0){var c=o.value,l=c.bookmarkUid,u=c.section;e.includes(u)&&(n[l]=1)}}catch(d){r=!0,i=d}finally{try{a||null==s.return||s.return()}finally{if(r)throw i}}return n}),n.memoLauncherInfo=Object(I.a)(function(e,t,n,a,r,i){if(!e)return null;if(e===Ie){var o=n[a];return{type:Ie,title:Or[o.uiLanguage].HELP,theme:r,forcedDevice:i,projectDbItem:o}}return t?Object(U.a)({},n[e],{dimensions:t}):n[e]}),n.memoLauncherTheme=Object(I.a)(function(e){var t=n.props.theme;return e&&e.theme&&e.theme!==ie&&e.theme!==oe?ce[e.theme]:ce[t]}),n.memoStyle=Object(I.a)(function(e,t){var n={};return e&&(n.paddingTop=e),1!==t&&(n.transform="scale(".concat(t,")")),n}),n.memoThreats=Object(I.a)(function(e,t){return Fl(e,t)}),n.memoFollowers=Object(I.a)(function(e,t){return Ks(e,t)}),n.memoRelevantThreat=Object(I.a)(function(e,t,n){var a=t[t.length-1],r=e.indexOf(a);return n[e[r+1]]||{}}),n.onScroll=Object(F.throttle)(n.onScroll,Gl);var a=e.db,r=e.id;return n.state={device:G,isTocOpen:!1,launcherActor:null,launcherDimensions:null,sectionId:e.defaultSectionId||a[r].sections[0],fontSizeFactor:1,currentBookmarkUid:null,offsetTop:0,showBars:!0,arenaCounter:0},n}return Object(S.a)(t,e),Object(E.a)(t,[{key:"render",value:function(){var e=this.props,t=e.classes,n=e.db,a=e.id,r=e.hasBlocker,i=e.selectedId,o=e.selectedCounter,s=e.forcedDevice,c=e.theme,u=e.launcherVisibility,d=e.launcherPosition,m=e.statusBar,f=e.isSimulated,p=e.isHelp,h=e.scale,v=e.scrollerId,b=e.completions,g=e.visits,E=this.state,y=E.sectionId,O=E.isTocOpen,S=E.launcherActor,w=E.launcherDimensions,I=E.device,T=E.fontSizeFactor,j=E.currentBookmarkUid,N=E.offsetTop,k=E.arenaCounter,C=n[a],_=C.sections,L=C.toc,R=C.navigation,x=C.title,D=C.identifiers,P=C.toolbar,A=C.barsBehaviour,M=C.css,B=ve+a,U=s||I,z=Y[U].className,F=O&&!r,G=this.augmentedToc=this.memoAugmentedToc(L);this.sectionsMap=this.memoSectionsMap(_);var Z=_,Q=0,q=0,$=R||"by_section";if(this.sections=_,"infinite"!==$){var X=_.indexOf(y);X>=0&&(Z=Zl(y),Q=X,q=_.length-1-Q)}var K=!!Q,J=!!q,ee=(K||J)&&"by_section_no_ui"!==R,te=this.memoResourcesOfBookmarks(n,a,r),ne=this.memoTitlesMap(G),ae=this.memoCriticalBookmarks(Z,G),re=Or[C.uiLanguage],ie=this.memoLauncherInfo(S,w,n,a,c,U),oe=this.memoLauncherTheme(ie),se=this.memoThreats(n,a),ce=this.memoFollowers(n,a),le=l.a.createElement("div",{className:Object(W.a)("smart"===A&&t.smart,"smart"===A&&this.state.showBars&&t.smartShow,"smart"!==A&&t.bars),ref:this.barsRef},l.a.createElement(yl,{title:x,toolbar:P,isTocOpen:F,fontSizeFactor:T,slang:re,onToc:this.onBarToc,onHelp:this.onBarHelp,onFontSizeFactor:this.onFontSizeFactor}),l.a.createElement(Sl,{chapter:ne[j]||"&nbsp;"})),ue=N;"hidden"!==A?"behind"!==A&&"smart"!==A||U!==V&&(ue=0):ue=0;var de=l.a.createElement(Ml,{className:Object(W.a)("smart"===A&&U===V&&t.smartNav,"smart"===A&&U===V&&this.state.showBars&&t.smartShow),device:U,hasPrev:K,hasNext:J,relevantThreat:this.memoRelevantThreat(_,Z,se),offsetTop:ue,barsBehaviour:A,onNavigation:this.onArenaNavigation});return l.a.createElement("div",{className:Object(W.a)("book",z,t.root,D,!r&&"hasNoBlocker",p&&t.isHelp,r&&t.rootIsConfigurator),ref:this.rootRef,onClick:this.onBookClick,id:B,style:this.memoStyle(N,h)},l.a.createElement("div",{className:t.hud},!r&&"hidden"!==A&&"behind"!==A&&le,l.a.createElement(Dl,{open:F,items:G,resourcesOfBookmarks:te,completions:b,visits:g,threats:se,selectedBookmarkUid:j,slang:re,title:x,onBookmark:this.onTocBookmark,onClose:this.onTocClose}),l.a.createElement(H.a,{theme:oe},l.a.createElement($c,{launcherInfo:ie,onCancel:this.onCloseLauncher,onDone:this.onDone,completions:b})),ee&&("behind"!==A||U!==V)&&de),!r&&"behind"===A&&le,"behind"===A&&ee&&U===V&&de,l.a.createElement(yc,{id:a,db:n,completions:b,hasBlocker:r,selectedId:i,selectedSection:y,selectedCounter:o,arenaSections:Z,hasNavigation:ee&&U!==V,fontSizeFactor:T,criticalBookmarks:ae,onLaunch:this.onLaunch,onBarrierRaise:this.onBarrierRaise,onNavigation:this.onArenaNavigation,onCriticalScroll:this.onCriticalScroll,onSectionTouch:this.onSectionTouch,theme:c,launcherVisibility:u,launcherPosition:d,statusBar:m,isSimulated:f,bookRef:this.rootRef,offsetTop:N,scrollerId:v,scale:h,prevCount:Q,threats:se,followers:ce,arenaCounter:k}),l.a.createElement(Ht,{css:M,domId:B}))}},{key:"componentDidMount",value:function(){var e=this.props,t=e.isSimulated,n=e.db,a=e.id;window.addEventListener("resize",this.onBookResize),"smart"===n[a].barsBehaviour&&this.applyScroll(),t&&Tn(this.rootRef.current,this.onResizeObserver),this.applyOffset(),this.refreshSize()}},{key:"componentWillUnmount",value:function(){var e=this.props.isSimulated;this.removeScroll(),window.removeEventListener("resize",this.onBookResize),e&&jn(this.rootRef.current,this.onResizeObserver)}},{key:"componentDidUpdate",value:function(e,t,n){var a=this.props,r=a.id,i=a.db[r].barsBehaviour;i!==e.db[r].barsBehaviour&&("smart"===i?this.applyScroll():this.removeScroll()),this.applyOffset()}}]),t}(l.a.PureComponent),Zl=Object(I.a)(function(e){return[e]}),Ql=function e(t,n){var a=!0,r=!1,i=void 0;try{for(var o,s=n[Symbol.iterator]();!(a=(o=s.next()).done);a=!0){var c=o.value;if(c.bookmark&&c.bookmark.id===t)return c.id;if(c.kids){var l=e(t,c.kids);if(l)return l}}}catch(u){r=!0,i=u}finally{try{a||null==s.return||s.return()}finally{if(r)throw i}}return null},ql=function e(t,n,a){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{id:null},i=!0,o=!1,s=void 0;try{for(var c,l=t[Symbol.iterator]();!(i=(c=l.next()).done);i=!0){var u=c.value;u.bookmark&&(r.id=Yl(a,u.bookmark.id));var d=r.id;if(d){var m=u.action,f=void 0;m&&m.kind===pe?f=m.target:u.kind in Wt&&(f=u.id),f&&(n[d]||(n[d]=[]),n[d].push(f))}u.kids&&e(u.kids,n,a,r)}}catch(p){o=!0,s=p}finally{try{i||null==l.return||l.return()}finally{if(o)throw s}}return n},Yl=function(e,t){return e+"_"+t};Vl.defaultProps={scale:1};var $l,Xl=Object(T.b)(function(e,t){var n=t.id;return{completions:gr(e,n),visits:Er(e,n),slang:Sr(e,n),otherSections:yr(e,n)}})(N()(function(e){return{root:Object(U.a)({position:"relative",width:"100%",minHeight:"100%",fontSize:e.typography.fontSize,backgroundColor:"white",backgroundRepeat:"no-repeat",backgroundPosition:"center",backgroundSize:"contain",transformOrigin:"50% 0"},Bl),rootIsConfigurator:{height:"100%"},bars:{position:"absolute",left:0,top:0,right:0},smart:{opacity:0,transform:"translateY(-100%)",transition:"transform .3s cubic-bezier(.4,0,.6,1),opacity 0s .3s"},smartNav:{opacity:0,transform:"translateY(-80px)",transition:"transform .3s cubic-bezier(.4,0,.6,1),opacity 0s .3s"},smartShow:{opacity:1,transform:"translateY(0)",transition:"transform .3s cubic-bezier(.4,0,.2,1) .3s,opacity 0s .3s"},arenaHost:{flexGrow:1,position:"relative"},hud:{position:"fixed",left:0,top:0,right:0,bottom:0,zIndex:1,overflow:"hidden",pointerEvents:"none","& > *":{pointerEvents:"auto"}},isHelp:{"& $hud":{position:"absolute"}}}})(Vl)),Kl=function(e){return{type:"IDLE_ANNOUNCE",id:e}},Jl=function(e){return{type:"DEATH_ANNOUNCE",id:e}},eu=function(e){return{type:"DISCONNECTED_ANNOUNCE",id:e}},tu=function(e){return{type:"SENTINEL_DISMISS",id:e}},nu=function(e,t){return e.models[t].sentinel.dialog},au=function(e,t){return e.models[t].sentinel.customMessage},ru=function(e,t){return e.models[t].sentinel.customDismiss},iu=window.LMS,ou=du(5),su=du(5),cu=du(30),lu=($l={root:{position:"fixed",left:0,top:0,right:0,bottom:0,zIndex:"999999999",background:"rgba(0,0,0,0.7)",userSelect:"none",display:"flex",alignItems:"center",justifyContent:"center"},band:{width:"100%",padding:"25px 0",color:"#fff",textAlign:"center"}},Object(w.a)($l,"SENTINEL_DIALOG_PAUSED",{background:"#1b58b8","& $button:hover":{backgroundColor:"#1faeff"}}),Object(w.a)($l,"SENTINEL_DIALOG_DISCONNECTED",{background:"#870000","& $button:hover":{backgroundColor:"#c81616"}}),Object(w.a)($l,"SENTINEL_DIALOG_TERMINATED",{background:"#000"}),Object(w.a)($l,"SENTINEL_DIALOG_CUSTOM",{background:"#880e4f","& $button:hover":{backgroundColor:"#560027"}}),Object(w.a)($l,"message",{color:"#fff"}),Object(w.a)($l,"button",{color:"#fff",border:"solid 2px currentColor",borderRadius:0,padding:"6px 8px",marginTop:20,fontWeight:400}),$l),uu=function(e){function t(){var e,n;Object(g.a)(this,t);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(n=Object(y.a)(this,(e=Object(O.a)(t)).call.apply(e,[this].concat(r)))).totalPaused=0,n.onWindowMotionEvent=function(){n.rememberMotion()},n.heartbeat=function(){var e=Date.now();if(n.props.dialog===Bt){var t=e-n.pastMotion;t>ou?t<ou+cu?n.commit()?n.pause():n.disconnect():n.terminate():e>=n.futureCommit&&(n.commit()||n.disconnect())}else{e-n.pastDialog>cu&&n.terminate()}},n.onPausedClick=function(){n.resume()},n.onCustomDismissClick=function(){n.resume()},n.onDisconnectedClick=function(){n.commitAndResume()},n.onWindowKeyDown=function(e){if(n.rememberMotion(),n.props.dialog!==Bt){switch(e.key){case"Enter":case"Escape":case" ":n.commitAndResume()}e.stopImmediatePropagation(),e.preventDefault()}},n.onWindowMessage=function(e){var t=e.source,a=e.data;t.parent===window&&a&&(a.certificate===Dt&&n.rememberMotion())},n.rememberMotion=function(){n.pastMotion=Date.now()},n.pause=function(){var e=n.props,t=e.dispatch,a=e.projectId;n.pastDialog=Date.now(),t(Kl(a))},n.disconnect=function(){var e=n.props,t=e.dispatch,a=e.projectId;n.pastDialog=Date.now(),t(eu(a))},n.terminate=function(){var e=n.props,t=e.dispatch,a=e.projectId;e.hasLms&&iu.Terminate(),n.clearEverything(),t(Jl(a))},n.resume=function(){var e=n.props,t=e.dispatch,a=e.projectId,r=Date.now()-n.pastDialog;n.totalPaused+=r,n.futureCommit+=r,t(tu(a))},n.commit=function(){var e=n.props.hasLms,t=Date.now(),a=(t-n.pastBegin-n.totalPaused)/1e3,r=Math.max(1,Math.ceil(a));iu.SetValue("cmi.session_time","PT"+r+"S");var i=!e||iu.Commit("");return e&&(i?console.log("cmi.session_time = PT"+r+"S"):console.warn("Commit failed!")),n.futureCommit=t+su,i},n.commitAndResume=function(){n.commit()&&n.resume()},n.onWindowUnload=function(){n.props.hasLms&&(n.commit(),iu.Terminate(""))},n.clearEverything=function(){window.removeEventListener("message",n.onWindowMessage,!0),window.removeEventListener("mousemove",n.onWindowMotionEvent,!0),window.removeEventListener("touchmove",n.onWindowMotionEvent,!0),window.removeEventListener("pointermove",n.onWindowMotionEvent,!0),window.removeEventListener("mousedown",n.onWindowMotionEvent,!0),window.removeEventListener("touchstart",n.onWindowMotionEvent,!0),window.removeEventListener("pointerdown",n.onWindowMotionEvent,!0),window.removeEventListener("mousewheel",n.onWindowMotionEvent,!0),window.removeEventListener("keydown",n.onWindowKeyDown,!0),window.removeEventListener("unload",n.onWindowUnload,!0),clearInterval(n.heartbeatInterval)},n}return Object(S.a)(t,e),Object(E.a)(t,[{key:"render",value:function(){var e=this.props,t=e.dialog,n=e.classes,a=e.slang,r=e.customMessage,i=e.customDismiss;return t===Bt?null:l.a.createElement("div",{className:n.root},l.a.createElement("div",{className:Object(W.a)(n.band,n[t])},"SENTINEL_DIALOG_PAUSED"===t&&l.a.createElement(l.a.Fragment,null,l.a.createElement(St,{className:n.message,html:a.SENTINEL_PAUSED_PROMPT}),l.a.createElement(hr.a,{className:n.button,variant:"outlined",onClick:this.onPausedClick},a.SENTINEL_PAUSED_BUTTON)),"SENTINEL_DIALOG_DISCONNECTED"===t&&l.a.createElement(l.a.Fragment,null,l.a.createElement(St,{className:n.message,html:a.SENTINEL_DISCONNECTED_PROMPT}),l.a.createElement(hr.a,{className:n.button,variant:"outlined",onClick:this.onDisconnectedClick},a.SENTINEL_DISCONNECTED_BUTTON)),"SENTINEL_DIALOG_TERMINATED"===t&&l.a.createElement(St,{className:n.message,html:a.SENTINEL_TERMINATED_PROMPT}),"SENTINEL_DIALOG_CUSTOM"===t&&l.a.createElement(l.a.Fragment,null,l.a.createElement(St,{className:n.message,html:r}),l.a.createElement(hr.a,{className:n.button,variant:"outlined",onClick:this.onCustomDismissClick},i))))}},{key:"componentDidMount",value:function(){window.addEventListener("message",this.onWindowMessage,!0),window.addEventListener("mousemove",this.onWindowMotionEvent,!0),window.addEventListener("touchmove",this.onWindowMotionEvent,!0),window.addEventListener("pointermove",this.onWindowMotionEvent,!0),window.addEventListener("mousedown",this.onWindowMotionEvent,!0),window.addEventListener("touchstart",this.onWindowMotionEvent,!0),window.addEventListener("pointerdown",this.onWindowMotionEvent,!0),window.addEventListener("mousewheel",this.onWindowMotionEvent,!0),window.addEventListener("keydown",this.onWindowKeyDown,!0),window.addEventListener("unload",this.onWindowUnload,!0),this.pastBegin=Date.now(),this.pastDialog=Date.now(),this.rememberMotion(),this.commit()||this.disconnect(),this.heartbeatInterval=setInterval(this.heartbeat,1e3)}},{key:"componentWillUnmount",value:function(){this.clearEverything()}}]),t}(l.a.PureComponent);function du(e){return 60*e*1e3}var mu,fu,pu=Object(T.b)(function(e,t){var n=t.projectId;return{slang:Sr(e,n),dialog:nu(e,n),customMessage:au(e,n),customDismiss:ru(e,n)}})(N()(lu)(uu)),hu=function(e){return e.models},vu=function(e,t){return e.models[t].cmi},bu=function(e,t,n,a){!a||Object(F.isObject)(a)&&Object(F.isEmpty)(a)||(e[t]=e[t]||{},e[t][n]=a)},gu=function(e,t){var n=$s(e,t),a={};for(var r in n)n[r]&&(a[r]=n[r]);return a},Eu=function(e,t){var n=function(e,t){return e.models[t].challenges}(e,t),a={};for(var r in n){var i=n[r].answers;bu(a,r,"answers",i);var o=mr(e,t,r);bu(a,r,"seed",o)}return a},yu=function(e,t){var n=hu(e),a={};for(var r in n)switch(bu(a,r,"completion",br(e,r)),vr(e,r)){case ye:bu(a,r,"visits",Er(e,r));break;case Ee:bu(a,r,"accessBeyond",gu(e,r));break;case be:bu(a,r,"cmi",vu(e,r));break;case ge:void 0!==Gn(t,r)&&(bu(a,r,"attempt",Go(e,r)),bu(a,r,"challenges",Eu(e,r)),bu(a,r,"challengesCompleted",Fo(e,r))),$n(t,r)&&Yn(t,r)&&bu(a,r,"bestScore",Vo(e,r))}return a},Ou=window.LMS,Su={"cmi.completion_status":null,"cmi.progress_measure":null,"cmi.score.scaled":null,"cmi.score.raw":null,"cmi.score.min":null,"cmi.score.max":null,"cmi.suspend_data":null},wu=function(){var e=hi.getState(),t=!1,n=gr(e,window.BOOK_ID),a=Tl(n),r=100===a?"completed":"incomplete",i=function(e,t){var n=hu(e),a=[];for(var r in n)switch(vr(e,r)){case be:if(qn(t,r)){var i=Wi(e,r)||0;a.push(i)}break;case ge:if($n(t,r)&&Yn(t,r)){var o=Vo(e,r)||0;a.push(o)}}if(a.length){for(var s=0,c=0;c<a.length;c++)s+=a[c];var l=s/a.length;return $o(l)}return 0}(e,mu),o=Math.max(i,Su["cmi.score.scaled"]||0),s={"cmi.completion_status":r,"cmi.progress_measure":a,"cmi.score.scaled":o,"cmi.score.raw":Math.round(100*o),"cmi.score.min":0,"cmi.score.max":100,"cmi.suspend_data":JSON.stringify(yu(e,mu))};for(var c in Su){var l=s[c];l!==Su[c]&&(Ou.SetValue(c,l),Su[c]=l,Tu(c,l),t=!0)}t&&Ou.Commit("")},Iu=function(e){},Tu=function(e,t){0},ju=function(e){if(!mu){for(var t in mu=e,Ou.Initialize(""),Ou.SetValue("cmi.exit","suspend"),Ou.Commit(""),Su){var n=Ou.GetValue(t);Su[t]=void 0===n?null:n}Iu(Su);var a=Su["cmi.suspend_data"];a&&pi(function(e,t){return{type:"MODELS_RESUME",suspendedBlob:e,db:t}}(a,mu)),hi.subscribe(wu),wu(),hi.getState()}},Nu=function(e,t,n){try{var a=e();return void 0!==a||n?a:(console.warn("".concat(ku(e)," is undefined!")),t)}catch(r){return console.warn("".concat(ku(e)," is broken!")),t}},ku=function(e){return e.toString().match(/([\w.[\]]+)\W*$/)[1]},Cu=function e(t){var n=!0,a=!1,r=void 0;try{for(var i,o=function(){var t=i.value,n=t.visual;n&&(t.css=Nu(function(){return n.css},""),t.identifiers=Nu(function(){return n.identifiers},""),t.theme=Nu(function(){return n.theme},ie),t.effectName=Nu(function(){return n.effect.name},je),t.effectDuration=Nu(function(){return n.effect.duration},500),t.effectDelay=Nu(function(){return n.effect.delay},0),t.effectEasing=Nu(function(){return n.effect.easing},"ease-in-out"),t.launcherVisibility=Nu(function(){return n.launcher.visibility},"default"),t.launcherPosition=Nu(function(){return n.launcher.position},"default"),t.statusBar=Nu(function(){return n.statusBar},"default"),delete t.visual),t.kids&&e(t.kids)},s=t[Symbol.iterator]();!(n=(i=s.next()).done);n=!0)o()}catch(c){a=!0,r=c}finally{try{n||null==s.return||s.return()}finally{if(a)throw r}}return t},_u=function(e,t){return e.map(function(e){return e.file={name:t[e.index].name,bytes:t[e.index].bytes,mimetype:t[e.index].mimetype,url:t[e.index].url,index:e.index},delete e.index,e})},Lu=function(e){var t={};switch(t.id=Nu(function(){return e.id},""),t.type=Nu(function(){return e.type},""),t.title=Nu(function(){return e.title},""),t.description=Nu(function(){return e.description},""),t.help=Nu(function(){return e.help},""),t.css=Nu(function(){return e.visual.css},""),t.identifiers=Nu(function(){return e.visual.identifiers},""),t.theme=Nu(function(){return e.visual.theme},""),t.effectName=Nu(function(){return e.visual.effect.name},""),t.effectDuration=Nu(function(){return e.visual.effect.duration},""),t.effectDelay=Nu(function(){return e.visual.effect.delay},""),t.effectEasing=Nu(function(){return e.visual.effect.easing},""),t.launcherVisibility=Nu(function(){return e.visual.launcher.visibility},""),t.launcherPosition=Nu(function(){return e.visual.launcher.position},""),t.statusBar=Nu(function(){return e.visual.statusBar},""),e.type){case"audio":t.src=Nu(function(){return e.sources.media[0].url},""),t.bytes=Nu(function(){return e.sources.media[0].bytes},0),t.poster=Nu(function(){return e.sources.extra[0].url},""),t.posterBytes=Nu(function(){return e.sources.extra[0].bytes},0),t.width=Nu(function(){return e.sources.extra[0].width},640),t.height=Nu(function(){return e.sources.extra[0].height},360);break;case be:t.width=Nu(function(){return e.body.width},640),t.height=Nu(function(){return e.body.height},360),t.resizePolicy=Nu(function(){return e.body.scale},""),t.useForScore=Nu(function(){return e.body.useForScore},!1),t.src=Nu(function(){return e.sources.media[0].url},"");break;case"gallery":t.images=Nu(function(){return e.sources.media},""),t.galleryData=Nu(function(){return e.body},"");break;case"attachment":t.list=Nu(function(){return _u(e.body,e.sources.media)},"");break;case Se:case we:t.items=Nu(function(){return e.body.items},"");break;case"image":t.src=Nu(function(){return e.sources.media[0].url},""),t.bytes=Nu(function(){return e.sources.media[0].bytes},""),t.width=Nu(function(){return e.sources.media[0].width},640),t.height=Nu(function(){return e.sources.media[0].height},360);break;case ye:t.sections=Nu(function(){return e.body.body},""),t.toc=Nu(function(){return e.body.toc},""),t.navigation=Nu(function(){return e.body.navigation},""),t.toolbar=Nu(function(){return e.body.toolbar},[]),t.barsBehaviour=Nu(function(){return e.body.barsBehaviour},""),t.forceToc=Nu(function(){return e.body.forceToc},""),t.uiLanguage=Nu(function(){return e.uiLanguage},""),t.uiLanguage in Or||(t.uiLanguage="en");break;case Ee:var n=Nu(function(){return e.body},[]);t.body=Cu(n),t.resources=Nu(function(){return e.resources},"");break;case ge:t.challenges=Nu(function(){return e.body.challenges},[]),t.evaluation=Nu(function(){return e.body.evaluation},!1),t.useForScore=Nu(function(){return e.body.useForScore},!1),t.retries=Nu(function(){return e.body.retries},void 0,!0),t.thresholds=Nu(function(){return e.body.thresholds},void 0,!0);break;case"video":t.src=Nu(function(){return e.sources.media[0].url},""),t.bytes=Nu(function(){return e.sources.media[0].bytes},""),t.width=Nu(function(){return e.sources.media[0].width},640),t.height=Nu(function(){return e.sources.media[0].height},360),t.poster=Nu(function(){return e.sources.extra[0].url},""),t.external=Nu(function(){return e.body.external},""),t.rewind=Nu(function(){return e.body.rewind},!1)}return t},Ru={"@global":(fu={"*":{outline:"none"},html:{fontFamily:"GoogleRoboto, sans-serif",fontVariantLigatures:"none"},body:{background:"#fff"}},Object(w.a)(fu,"#root",{height:"100%"}),Object(w.a)(fu,"p,h1,h2,h3,h4,h5,h6",{margin:0}),fu),"@font-face":[{fontFamily:"GoogleRoboto",fontStyle:"normal",fontWeight:300,src:"url(".concat(C.a,") format('woff')"),fontDisplay:"block"},{fontFamily:"GoogleRoboto",fontStyle:"normal",fontWeight:400,src:"url(".concat(L.a,") format('woff')"),fontDisplay:"block"},{fontFamily:"GoogleRoboto",fontStyle:"normal",fontWeight:500,src:"url(".concat(x.a,") format('woff')"),fontDisplay:"block"},{fontFamily:"GoogleRoboto",fontStyle:"normal",fontWeight:700,src:"url(".concat(P.a,") format('woff')"),fontDisplay:"block"},{fontFamily:"Material Icons",fontStyle:"normal",fontWeight:400,src:"url(".concat(M.a,") format('woff')"),fontDisplay:"block"}]},xu=function(e){function t(e){var n;if(Object(g.a)(this,t),(n=Object(y.a)(this,Object(O.a)(t).call(this,e))).Component=null,n.state={id:null,db:null,selectedId:null,selectedCounter:0},n.onWindowMessage=function(e){var t=e.source,a=e.data;if(t===window.parent&&a){var r=a.certificate,i=a.db,o=a.id;r===fe&&(document.title=fe+"_"+o,n.importProjectFromDatabase(i,o),window.BOOK_ID=o,n.setState({db:i,id:o}))}},n.onBookmark=function(e){n.setState({selectedId:e,selectedCounter:n.state.selectedCounter+1})},n.importProjectFromDatabase=function(e,t){var a;for(var r in n.Component=Fc[e[t].type],e)e[r].type===ye&&(a=r);pi(qi(a,e))},n.memoParentInheritance=Object(I.a)(function(e,t){var n,a;if(Xn(e,t)===ye)return null;for(var r in e)Xn(e,r)===ye&&(a=Wn(e,n=r)[0]);if(!n||!a)return null;var i=Ec(e[n]);return Ec(e[a],i)}),window.name===fe)return Object(y.a)(n);var a=window.BOOK_DB,r=window.BOOK_ID,i={};for(var o in a)i[o]=Lu(a[o]);return n.importProjectFromDatabase(i,r),n.state.db=i,n.state.id=r,n.Component||ju(i),n}return Object(S.a)(t,e),Object(E.a)(t,[{key:"render",value:function(){var e=this.state,t=e.db,n=e.id;if(!t)return null;var a=this.Component,r=this.memoParentInheritance(t,n),i=Ec(t[n],r);return l.a.createElement(p.MuiThemeProvider,{theme:ce[i.theme]},l.a.createElement(T.a,{store:hi},a?l.a.createElement(a,Object.assign({},t[n],i,{isSlave:!0})):l.a.createElement(l.a.Fragment,null,l.a.createElement(Xl,Object.assign({db:t,id:n,selectedId:this.state.selectedId,selectedCounter:this.state.selectedCounter,onBookmark:this.onBookmark},i)),l.a.createElement(pu,{projectId:n,hasLms:window.name!==fe}))))}},{key:"componentDidMount",value:function(){document.querySelector("#root").style.visibility="visible";var e=document.getElementById("spinner");e.parentNode.removeChild(e),window.addEventListener("message",this.onWindowMessage)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("message",this.onWindowMessage)}}]),t}(l.a.PureComponent),Du=N()(Ru)(xu),Pu=Object(p.createGenerateClassName)(),Au=Object(b.create)(Object(p.jssPreset)());d.a.render(l.a.createElement(v.a,{jss:Au,generateClassName:Pu},l.a.createElement(f.a,null,l.a.createElement(Du,null))),document.getElementById("root"))}},[[206,1,2]]]);